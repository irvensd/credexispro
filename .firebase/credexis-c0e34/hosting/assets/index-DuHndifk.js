var W5=Object.defineProperty;var H5=(t,e,n)=>e in t?W5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mt=(t,e,n)=>H5(t,typeof e!="symbol"?e+"":e,n);function q5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var G5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wC={exports:{}},lg={},bC={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh=Symbol.for("react.element"),K5=Symbol.for("react.portal"),Y5=Symbol.for("react.fragment"),Q5=Symbol.for("react.strict_mode"),Z5=Symbol.for("react.profiler"),X5=Symbol.for("react.provider"),J5=Symbol.for("react.context"),e6=Symbol.for("react.forward_ref"),t6=Symbol.for("react.suspense"),n6=Symbol.for("react.memo"),r6=Symbol.for("react.lazy"),iE=Symbol.iterator;function s6(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var _C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EC=Object.assign,NC={};function Oc(t,e,n){this.props=t,this.context=e,this.refs=NC,this.updater=n||_C}Oc.prototype.isReactComponent={};Oc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TC(){}TC.prototype=Oc.prototype;function _w(t,e,n){this.props=t,this.context=e,this.refs=NC,this.updater=n||_C}var Ew=_w.prototype=new TC;Ew.constructor=_w;EC(Ew,Oc.prototype);Ew.isPureReactComponent=!0;var oE=Array.isArray,SC=Object.prototype.hasOwnProperty,Nw={current:null},jC={key:!0,ref:!0,__self:!0,__source:!0};function CC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)SC.call(e,r)&&!jC.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Eh,type:t,key:i,ref:o,props:s,_owner:Nw.current}}function i6(t,e){return{$$typeof:Eh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eh}function o6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aE=/\/+/g;function Py(t,e){return typeof t=="object"&&t!==null&&t.key!=null?o6(""+t.key):e.toString(36)}function up(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Eh:case K5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Py(o,0):r,oE(s)?(n="",t!=null&&(n=t.replace(aE,"$&/")+"/"),up(s,e,n,"",function(u){return u})):s!=null&&(Tw(s)&&(s=i6(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(aE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",oE(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Py(i,l);o+=up(i,e,n,c,s)}else if(c=s6(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Py(i,l++),o+=up(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sf(t,e,n){if(t==null)return t;var r=[],s=0;return up(t,r,"","",function(i){return e.call(n,i,s++)}),r}function a6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},dp={transition:null},l6={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:dp,ReactCurrentOwner:Nw};function kC(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Sf,forEach:function(t,e,n){Sf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sf(t,function(){e++}),e},toArray:function(t){return Sf(t,function(e){return e})||[]},only:function(t){if(!Tw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Oc;Ve.Fragment=Y5;Ve.Profiler=Z5;Ve.PureComponent=_w;Ve.StrictMode=Q5;Ve.Suspense=t6;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l6;Ve.act=kC;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=EC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)SC.call(e,c)&&!jC.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Eh,type:t.type,key:s,ref:i,props:r,_owner:o}};Ve.createContext=function(t){return t={$$typeof:J5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X5,_context:t},t.Consumer=t};Ve.createElement=CC;Ve.createFactory=function(t){var e=CC.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:e6,render:t}};Ve.isValidElement=Tw;Ve.lazy=function(t){return{$$typeof:r6,_payload:{_status:-1,_result:t},_init:a6}};Ve.memo=function(t,e){return{$$typeof:n6,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=dp.transition;dp.transition={};try{t()}finally{dp.transition=e}};Ve.unstable_act=kC;Ve.useCallback=function(t,e){return An.current.useCallback(t,e)};Ve.useContext=function(t){return An.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return An.current.useEffect(t,e)};Ve.useId=function(){return An.current.useId()};Ve.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return An.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Ve.useRef=function(t){return An.current.useRef(t)};Ve.useState=function(t){return An.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return An.current.useTransition()};Ve.version="18.3.1";bC.exports=Ve;var y=bC.exports;const ne=Oo(y),nc=q5({__proto__:null,default:ne},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c6=y,u6=Symbol.for("react.element"),d6=Symbol.for("react.fragment"),h6=Object.prototype.hasOwnProperty,f6=c6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p6={key:!0,ref:!0,__self:!0,__source:!0};function IC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)h6.call(e,r)&&!p6.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:u6,type:t,key:i,ref:o,props:s,_owner:f6.current}}lg.Fragment=d6;lg.jsx=IC;lg.jsxs=IC;wC.exports=lg;var a=wC.exports,tx={},AC={exports:{}},dr={},PC={exports:{}},RC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var F=V.length;V.push(Y);e:for(;0<F;){var ee=F-1>>>1,ve=V[ee];if(0<s(ve,Y))V[ee]=Y,V[F]=ve,F=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],F=V.pop();if(F!==Y){V[0]=F;e:for(var ee=0,ve=V.length,G=ve>>>1;ee<G;){var Te=2*(ee+1)-1,Se=V[Te],bt=Te+1,Ft=V[bt];if(0>s(Se,F))bt<ve&&0>s(Ft,Se)?(V[ee]=Ft,V[bt]=F,ee=bt):(V[ee]=Se,V[Te]=F,ee=Te);else if(bt<ve&&0>s(Ft,F))V[ee]=Ft,V[bt]=F,ee=bt;else break e}}return Y}function s(V,Y){var F=V.sortIndex-Y.sortIndex;return F!==0?F:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,v=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=V)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function R(V){if(b=!1,N(V),!v)if(n(c)!==null)v=!0,$e(P);else{var Y=n(u);Y!==null&&ke(R,Y.startTime-V)}}function P(V,Y){v=!1,b&&(b=!1,_(E),E=-1),g=!0;var F=p;try{for(N(Y),f=n(c);f!==null&&(!(f.expirationTime>Y)||V&&!M());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,p=f.priorityLevel;var ve=ee(f.expirationTime<=Y);Y=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(c)&&r(c),N(Y)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var Te=n(u);Te!==null&&ke(R,Te.startTime-Y),G=!1}return G}finally{f=null,p=F,g=!1}}var O=!1,S=null,E=-1,C=5,A=-1;function M(){return!(t.unstable_now()-A<C)}function D(){if(S!==null){var V=t.unstable_now();A=V;var Y=!0;try{Y=S(!0,V)}finally{Y?k():(O=!1,S=null)}}else O=!1}var k;if(typeof x=="function")k=function(){x(D)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ce=oe.port2;oe.port1.onmessage=D,k=function(){Ce.postMessage(null)}}else k=function(){T(D,0)};function $e(V){S=V,O||(O=!0,k())}function ke(V,Y){E=T(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,$e(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var F=p;p=Y;try{return V()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=p;p=V;try{return Y()}finally{p=F}},t.unstable_scheduleCallback=function(V,Y,F){var ee=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,V){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,V={id:d++,callback:Y,priorityLevel:V,startTime:F,expirationTime:ve,sortIndex:-1},F>ee?(V.sortIndex=F,e(u,V),n(c)===null&&V===n(u)&&(b?(_(E),E=-1):b=!0,ke(R,F-ee))):(V.sortIndex=ve,e(c,V),v||g||(v=!0,$e(P))),V},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(V){var Y=p;return function(){var F=p;p=Y;try{return V.apply(this,arguments)}finally{p=F}}}})(RC);PC.exports=RC;var m6=PC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g6=y,or=m6;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Id={};function Ka(t,e){rc(t,e),rc(t+"Capture",e)}function rc(t,e){for(Id[t]=e,t=0;t<e.length;t++)OC.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nx=Object.prototype.hasOwnProperty,y6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lE={},cE={};function x6(t){return nx.call(cE,t)?!0:nx.call(lE,t)?!1:y6.test(t)?cE[t]=!0:(lE[t]=!0,!1)}function v6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w6(t,e,n,r){if(e===null||typeof e>"u"||v6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sw=/[\-:]([a-z])/g;function jw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sw,jw);on[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sw,jw);on[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sw,jw);on[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cw(t,e,n,r){var s=on.hasOwnProperty(e)?on[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w6(e,n,s,r)&&(n=null),r||s===null?x6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _i=g6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jf=Symbol.for("react.element"),Cl=Symbol.for("react.portal"),kl=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),Iw=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),Aw=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),LC=Symbol.for("react.offscreen"),uE=Symbol.iterator;function gu(t){return t===null||typeof t!="object"?null:(t=uE&&t[uE]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Ry;function $u(t){if(Ry===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ry=e&&e[1]||""}return`
`+Ry+t}var Oy=!1;function Dy(t,e){if(!t||Oy)return"";Oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$u(t):""}function b6(t){switch(t.tag){case 5:return $u(t.type);case 16:return $u("Lazy");case 13:return $u("Suspense");case 19:return $u("SuspenseList");case 0:case 2:case 15:return t=Dy(t.type,!1),t;case 11:return t=Dy(t.type.render,!1),t;case 1:return t=Dy(t.type,!0),t;default:return""}}function ox(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kl:return"Fragment";case Cl:return"Portal";case rx:return"Profiler";case kw:return"StrictMode";case sx:return"Suspense";case ix:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MC:return(t.displayName||"Context")+".Consumer";case DC:return(t._context.displayName||"Context")+".Provider";case Iw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Aw:return e=t.displayName||null,e!==null?e:ox(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return ox(t(e))}catch{}}return null}function _6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ox(e);case 8:return e===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E6(t){var e=VC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cf(t){t._valueTracker||(t._valueTracker=E6(t))}function FC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Up(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ax(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UC(t,e){e=e.checked,e!=null&&Cw(t,"checked",e,!1)}function lx(t,e){UC(t,e);var n=yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cx(t,e.type,n):e.hasOwnProperty("defaultValue")&&cx(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cx(t,e,n){(e!=="number"||Up(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bu=Array.isArray;function ql(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ux(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Bu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yo(n)}}function $C(t,e){var n=yo(e.value),r=yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kf,zC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kf=kf||document.createElement("div"),kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ad(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N6=["Webkit","ms","Moz","O"];Object.keys(sd).forEach(function(t){N6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sd[e]=sd[t]})});function WC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sd.hasOwnProperty(t)&&sd[t]?(""+e).trim():e+"px"}function HC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=WC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var T6=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hx(t,e){if(e){if(T6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function fx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var px=null;function Pw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mx=null,Gl=null,Kl=null;function mE(t){if(t=Sh(t)){if(typeof mx!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=fg(e),mx(t.stateNode,t.type,e))}}function qC(t){Gl?Kl?Kl.push(t):Kl=[t]:Gl=t}function GC(){if(Gl){var t=Gl,e=Kl;if(Kl=Gl=null,mE(t),e)for(t=0;t<e.length;t++)mE(e[t])}}function KC(t,e){return t(e)}function YC(){}var My=!1;function QC(t,e,n){if(My)return t(e,n);My=!0;try{return KC(t,e,n)}finally{My=!1,(Gl!==null||Kl!==null)&&(YC(),GC())}}function Pd(t,e){var n=t.stateNode;if(n===null)return null;var r=fg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var gx=!1;if(oi)try{var yu={};Object.defineProperty(yu,"passive",{get:function(){gx=!0}}),window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{gx=!1}function S6(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var id=!1,$p=null,Bp=!1,yx=null,j6={onError:function(t){id=!0,$p=t}};function C6(t,e,n,r,s,i,o,l,c){id=!1,$p=null,S6.apply(j6,arguments)}function k6(t,e,n,r,s,i,o,l,c){if(C6.apply(this,arguments),id){if(id){var u=$p;id=!1,$p=null}else throw Error(Q(198));Bp||(Bp=!0,yx=u)}}function Ya(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gE(t){if(Ya(t)!==t)throw Error(Q(188))}function I6(t){var e=t.alternate;if(!e){if(e=Ya(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gE(s),t;if(i===r)return gE(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function XC(t){return t=I6(t),t!==null?JC(t):null}function JC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JC(t);if(e!==null)return e;t=t.sibling}return null}var ek=or.unstable_scheduleCallback,yE=or.unstable_cancelCallback,A6=or.unstable_shouldYield,P6=or.unstable_requestPaint,kt=or.unstable_now,R6=or.unstable_getCurrentPriorityLevel,Rw=or.unstable_ImmediatePriority,tk=or.unstable_UserBlockingPriority,zp=or.unstable_NormalPriority,O6=or.unstable_LowPriority,nk=or.unstable_IdlePriority,cg=null,ms=null;function D6(t){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(cg,t,void 0,(t.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:V6,M6=Math.log,L6=Math.LN2;function V6(t){return t>>>=0,t===0?32:31-(M6(t)/L6|0)|0}var If=64,Af=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=zu(l):(i&=o,i!==0&&(r=zu(i)))}else o=n&~s,o!==0?r=zu(o):i!==0&&(r=zu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hr(e),s=1<<n,r|=t[n],e&=~s;return r}function F6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=F6(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function xx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rk(){var t=If;return If<<=1,!(If&4194240)&&(If=64),t}function Ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hr(e),t[e]=n}function $6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ow(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function sk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ik,Dw,ok,ak,lk,vx=!1,Pf=[],no=null,ro=null,so=null,Rd=new Map,Od=new Map,$i=[],B6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xE(t,e){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Rd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Od.delete(e.pointerId)}}function xu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sh(e),e!==null&&Dw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function z6(t,e,n,r,s){switch(e){case"focusin":return no=xu(no,t,e,n,r,s),!0;case"dragenter":return ro=xu(ro,t,e,n,r,s),!0;case"mouseover":return so=xu(so,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rd.set(i,xu(Rd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Od.set(i,xu(Od.get(i)||null,t,e,n,r,s)),!0}return!1}function ck(t){var e=ma(t.target);if(e!==null){var n=Ya(e);if(n!==null){if(e=n.tag,e===13){if(e=ZC(n),e!==null){t.blockedOn=e,lk(t.priority,function(){ok(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);px=r,n.target.dispatchEvent(r),px=null}else return e=Sh(n),e!==null&&Dw(e),t.blockedOn=n,!1;e.shift()}return!0}function vE(t,e,n){hp(t)&&n.delete(e)}function W6(){vx=!1,no!==null&&hp(no)&&(no=null),ro!==null&&hp(ro)&&(ro=null),so!==null&&hp(so)&&(so=null),Rd.forEach(vE),Od.forEach(vE)}function vu(t,e){t.blockedOn===e&&(t.blockedOn=null,vx||(vx=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,W6)))}function Dd(t){function e(s){return vu(s,t)}if(0<Pf.length){vu(Pf[0],t);for(var n=1;n<Pf.length;n++){var r=Pf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(no!==null&&vu(no,t),ro!==null&&vu(ro,t),so!==null&&vu(so,t),Rd.forEach(e),Od.forEach(e),n=0;n<$i.length;n++)r=$i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)ck(n),n.blockedOn===null&&$i.shift()}var Yl=_i.ReactCurrentBatchConfig,Hp=!0;function H6(t,e,n,r){var s=tt,i=Yl.transition;Yl.transition=null;try{tt=1,Mw(t,e,n,r)}finally{tt=s,Yl.transition=i}}function q6(t,e,n,r){var s=tt,i=Yl.transition;Yl.transition=null;try{tt=4,Mw(t,e,n,r)}finally{tt=s,Yl.transition=i}}function Mw(t,e,n,r){if(Hp){var s=wx(t,e,n,r);if(s===null)Gy(t,e,r,qp,n),xE(t,r);else if(z6(s,t,e,n,r))r.stopPropagation();else if(xE(t,r),e&4&&-1<B6.indexOf(t)){for(;s!==null;){var i=Sh(s);if(i!==null&&ik(i),i=wx(t,e,n,r),i===null&&Gy(t,e,r,qp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gy(t,e,r,null,n)}}var qp=null;function wx(t,e,n,r){if(qp=null,t=Pw(r),t=ma(t),t!==null)if(e=Ya(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qp=t,null}function uk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R6()){case Rw:return 1;case tk:return 4;case zp:case O6:return 16;case nk:return 536870912;default:return 16}default:return 16}}var Zi=null,Lw=null,fp=null;function dk(){if(fp)return fp;var t,e=Lw,n=e.length,r,s="value"in Zi?Zi.value:Zi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return fp=s.slice(t,1<r?1-r:void 0)}function pp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rf(){return!0}function wE(){return!1}function hr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rf:wE,this.isPropagationStopped=wE,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),e}var Dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vw=hr(Dc),Th=vt({},Dc,{view:0,detail:0}),G6=hr(Th),Vy,Fy,wu,ug=vt({},Th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(Vy=t.screenX-wu.screenX,Fy=t.screenY-wu.screenY):Fy=Vy=0,wu=t),Vy)},movementY:function(t){return"movementY"in t?t.movementY:Fy}}),bE=hr(ug),K6=vt({},ug,{dataTransfer:0}),Y6=hr(K6),Q6=vt({},Th,{relatedTarget:0}),Uy=hr(Q6),Z6=vt({},Dc,{animationName:0,elapsedTime:0,pseudoElement:0}),X6=hr(Z6),J6=vt({},Dc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eM=hr(J6),tM=vt({},Dc,{data:0}),_E=hr(tM),nM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sM[t])?!!e[t]:!1}function Fw(){return iM}var oM=vt({},Th,{key:function(t){if(t.key){var e=nM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fw,charCode:function(t){return t.type==="keypress"?pp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aM=hr(oM),lM=vt({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=hr(lM),cM=vt({},Th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fw}),uM=hr(cM),dM=vt({},Dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),hM=hr(dM),fM=vt({},ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pM=hr(fM),mM=[9,13,27,32],Uw=oi&&"CompositionEvent"in window,od=null;oi&&"documentMode"in document&&(od=document.documentMode);var gM=oi&&"TextEvent"in window&&!od,hk=oi&&(!Uw||od&&8<od&&11>=od),NE=" ",TE=!1;function fk(t,e){switch(t){case"keyup":return mM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Il=!1;function yM(t,e){switch(t){case"compositionend":return pk(e);case"keypress":return e.which!==32?null:(TE=!0,NE);case"textInput":return t=e.data,t===NE&&TE?null:t;default:return null}}function xM(t,e){if(Il)return t==="compositionend"||!Uw&&fk(t,e)?(t=dk(),fp=Lw=Zi=null,Il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hk&&e.locale!=="ko"?null:e.data;default:return null}}var vM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vM[t.type]:e==="textarea"}function mk(t,e,n,r){qC(r),e=Gp(e,"onChange"),0<e.length&&(n=new Vw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ad=null,Md=null;function wM(t){Sk(t,0)}function dg(t){var e=Rl(t);if(FC(e))return t}function bM(t,e){if(t==="change")return e}var gk=!1;if(oi){var $y;if(oi){var By="oninput"in document;if(!By){var jE=document.createElement("div");jE.setAttribute("oninput","return;"),By=typeof jE.oninput=="function"}$y=By}else $y=!1;gk=$y&&(!document.documentMode||9<document.documentMode)}function CE(){ad&&(ad.detachEvent("onpropertychange",yk),Md=ad=null)}function yk(t){if(t.propertyName==="value"&&dg(Md)){var e=[];mk(e,Md,t,Pw(t)),QC(wM,e)}}function _M(t,e,n){t==="focusin"?(CE(),ad=e,Md=n,ad.attachEvent("onpropertychange",yk)):t==="focusout"&&CE()}function EM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dg(Md)}function NM(t,e){if(t==="click")return dg(e)}function TM(t,e){if(t==="input"||t==="change")return dg(e)}function SM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:SM;function Ld(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!nx.call(e,s)||!Gr(t[s],e[s]))return!1}return!0}function kE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IE(t,e){var n=kE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kE(n)}}function xk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vk(){for(var t=window,e=Up();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Up(t.document)}return e}function $w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jM(t){var e=vk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xk(n.ownerDocument.documentElement,n)){if(r!==null&&$w(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=IE(n,i);var o=IE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CM=oi&&"documentMode"in document&&11>=document.documentMode,Al=null,bx=null,ld=null,_x=!1;function AE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_x||Al==null||Al!==Up(r)||(r=Al,"selectionStart"in r&&$w(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ld&&Ld(ld,r)||(ld=r,r=Gp(bx,"onSelect"),0<r.length&&(e=new Vw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Al)))}function Of(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pl={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionend:Of("Transition","TransitionEnd")},zy={},wk={};oi&&(wk=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function hg(t){if(zy[t])return zy[t];if(!Pl[t])return t;var e=Pl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wk)return zy[t]=e[n];return t}var bk=hg("animationend"),_k=hg("animationiteration"),Ek=hg("animationstart"),Nk=hg("transitionend"),Tk=new Map,PE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(t,e){Tk.set(t,e),Ka(e,[t])}for(var Wy=0;Wy<PE.length;Wy++){var Hy=PE[Wy],kM=Hy.toLowerCase(),IM=Hy[0].toUpperCase()+Hy.slice(1);Do(kM,"on"+IM)}Do(bk,"onAnimationEnd");Do(_k,"onAnimationIteration");Do(Ek,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(Nk,"onTransitionEnd");rc("onMouseEnter",["mouseout","mouseover"]);rc("onMouseLeave",["mouseout","mouseover"]);rc("onPointerEnter",["pointerout","pointerover"]);rc("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function RE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,k6(r,e,void 0,t),t.currentTarget=null}function Sk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;RE(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;RE(s,l,u),i=c}}}if(Bp)throw t=yx,Bp=!1,yx=null,t}function at(t,e){var n=e[jx];n===void 0&&(n=e[jx]=new Set);var r=t+"__bubble";n.has(r)||(jk(e,t,2,!1),n.add(r))}function qy(t,e,n){var r=0;e&&(r|=4),jk(n,t,r,e)}var Df="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Df]){t[Df]=!0,OC.forEach(function(n){n!=="selectionchange"&&(AM.has(n)||qy(n,!1,t),qy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Df]||(e[Df]=!0,qy("selectionchange",!1,e))}}function jk(t,e,n,r){switch(uk(e)){case 1:var s=H6;break;case 4:s=q6;break;default:s=Mw}n=s.bind(null,e,n,t),s=void 0,!gx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ma(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}QC(function(){var u=i,d=Pw(n),f=[];e:{var p=Tk.get(t);if(p!==void 0){var g=Vw,v=t;switch(t){case"keypress":if(pp(n)===0)break e;case"keydown":case"keyup":g=aM;break;case"focusin":v="focus",g=Uy;break;case"focusout":v="blur",g=Uy;break;case"beforeblur":case"afterblur":g=Uy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Y6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uM;break;case bk:case _k:case Ek:g=X6;break;case Nk:g=hM;break;case"scroll":g=G6;break;case"wheel":g=pM;break;case"copy":case"cut":case"paste":g=eM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=EE}var b=(e&4)!==0,T=!b&&t==="scroll",_=b?p!==null?p+"Capture":null:p;b=[];for(var x=u,N;x!==null;){N=x;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,_!==null&&(R=Pd(x,_),R!=null&&b.push(Fd(x,R,N)))),T)break;x=x.return}0<b.length&&(p=new g(p,v,null,n,d),f.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==px&&(v=n.relatedTarget||n.fromElement)&&(ma(v)||v[ai]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?ma(v):null,v!==null&&(T=Ya(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(b=bE,R="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=EE,R="onPointerLeave",_="onPointerEnter",x="pointer"),T=g==null?p:Rl(g),N=v==null?p:Rl(v),p=new b(R,x+"leave",g,n,d),p.target=T,p.relatedTarget=N,R=null,ma(d)===u&&(b=new b(_,x+"enter",v,n,d),b.target=N,b.relatedTarget=T,R=b),T=R,g&&v)t:{for(b=g,_=v,x=0,N=b;N;N=wl(N))x++;for(N=0,R=_;R;R=wl(R))N++;for(;0<x-N;)b=wl(b),x--;for(;0<N-x;)_=wl(_),N--;for(;x--;){if(b===_||_!==null&&b===_.alternate)break t;b=wl(b),_=wl(_)}b=null}else b=null;g!==null&&OE(f,p,g,b,!1),v!==null&&T!==null&&OE(f,T,v,b,!0)}}e:{if(p=u?Rl(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=bM;else if(SE(p))if(gk)P=TM;else{P=EM;var O=_M}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=NM);if(P&&(P=P(t,u))){mk(f,P,n,d);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&cx(p,"number",p.value)}switch(O=u?Rl(u):window,t){case"focusin":(SE(O)||O.contentEditable==="true")&&(Al=O,bx=u,ld=null);break;case"focusout":ld=bx=Al=null;break;case"mousedown":_x=!0;break;case"contextmenu":case"mouseup":case"dragend":_x=!1,AE(f,n,d);break;case"selectionchange":if(CM)break;case"keydown":case"keyup":AE(f,n,d)}var S;if(Uw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Il?fk(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(hk&&n.locale!=="ko"&&(Il||E!=="onCompositionStart"?E==="onCompositionEnd"&&Il&&(S=dk()):(Zi=d,Lw="value"in Zi?Zi.value:Zi.textContent,Il=!0)),O=Gp(u,E),0<O.length&&(E=new _E(E,t,null,n,d),f.push({event:E,listeners:O}),S?E.data=S:(S=pk(n),S!==null&&(E.data=S)))),(S=gM?yM(t,n):xM(t,n))&&(u=Gp(u,"onBeforeInput"),0<u.length&&(d=new _E("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Sk(f,e)})}function Fd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pd(t,n),i!=null&&r.unshift(Fd(t,i,s)),i=Pd(t,e),i!=null&&r.push(Fd(t,i,s))),t=t.return}return r}function wl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Pd(n,i),c!=null&&o.unshift(Fd(n,c,l))):s||(c=Pd(n,i),c!=null&&o.push(Fd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PM=/\r\n?/g,RM=/\u0000|\uFFFD/g;function DE(t){return(typeof t=="string"?t:""+t).replace(PM,`
`).replace(RM,"")}function Mf(t,e,n){if(e=DE(e),DE(t)!==e&&n)throw Error(Q(425))}function Kp(){}var Ex=null,Nx=null;function Tx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sx=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,DM=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(t){return ME.resolve(null).then(t).catch(MM)}:Sx;function MM(t){setTimeout(function(){throw t})}function Ky(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dd(e)}function io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mc=Math.random().toString(36).slice(2),us="__reactFiber$"+Mc,Ud="__reactProps$"+Mc,ai="__reactContainer$"+Mc,jx="__reactEvents$"+Mc,LM="__reactListeners$"+Mc,VM="__reactHandles$"+Mc;function ma(t){var e=t[us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LE(t);t!==null;){if(n=t[us])return n;t=LE(t)}return e}t=n,n=t.parentNode}return null}function Sh(t){return t=t[us]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function fg(t){return t[Ud]||null}var Cx=[],Ol=-1;function Mo(t){return{current:t}}function dt(t){0>Ol||(t.current=Cx[Ol],Cx[Ol]=null,Ol--)}function ot(t,e){Ol++,Cx[Ol]=t.current,t.current=e}var xo={},En=Mo(xo),Bn=Mo(!1),Aa=xo;function sc(t,e){var n=t.type.contextTypes;if(!n)return xo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zn(t){return t=t.childContextTypes,t!=null}function Yp(){dt(Bn),dt(En)}function VE(t,e,n){if(En.current!==xo)throw Error(Q(168));ot(En,e),ot(Bn,n)}function Ck(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,_6(t)||"Unknown",s));return vt({},n,r)}function Qp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,Aa=En.current,ot(En,t),ot(Bn,Bn.current),!0}function FE(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=Ck(t,e,Aa),r.__reactInternalMemoizedMergedChildContext=t,dt(Bn),dt(En),ot(En,t)):dt(Bn),ot(Bn,n)}var qs=null,pg=!1,Yy=!1;function kk(t){qs===null?qs=[t]:qs.push(t)}function FM(t){pg=!0,kk(t)}function Lo(){if(!Yy&&qs!==null){Yy=!0;var t=0,e=tt;try{var n=qs;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qs=null,pg=!1}catch(s){throw qs!==null&&(qs=qs.slice(t+1)),ek(Rw,Lo),s}finally{tt=e,Yy=!1}}return null}var Dl=[],Ml=0,Zp=null,Xp=0,gr=[],yr=0,Pa=null,Gs=1,Ks="";function ra(t,e){Dl[Ml++]=Xp,Dl[Ml++]=Zp,Zp=t,Xp=e}function Ik(t,e,n){gr[yr++]=Gs,gr[yr++]=Ks,gr[yr++]=Pa,Pa=t;var r=Gs;t=Ks;var s=32-Hr(r)-1;r&=~(1<<s),n+=1;var i=32-Hr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gs=1<<32-Hr(e)+s|n<<s|r,Ks=i+t}else Gs=1<<i|n<<s|r,Ks=t}function Bw(t){t.return!==null&&(ra(t,1),Ik(t,1,0))}function zw(t){for(;t===Zp;)Zp=Dl[--Ml],Dl[Ml]=null,Xp=Dl[--Ml],Dl[Ml]=null;for(;t===Pa;)Pa=gr[--yr],gr[yr]=null,Ks=gr[--yr],gr[yr]=null,Gs=gr[--yr],gr[yr]=null}var rr=null,tr=null,pt=!1,Lr=null;function Ak(t,e){var n=vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function UE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rr=t,tr=io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pa!==null?{id:Gs,overflow:Ks}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rr=t,tr=null,!0):!1;default:return!1}}function kx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ix(t){if(pt){var e=tr;if(e){var n=e;if(!UE(t,e)){if(kx(t))throw Error(Q(418));e=io(n.nextSibling);var r=rr;e&&UE(t,e)?Ak(r,n):(t.flags=t.flags&-4097|2,pt=!1,rr=t)}}else{if(kx(t))throw Error(Q(418));t.flags=t.flags&-4097|2,pt=!1,rr=t}}}function $E(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rr=t}function Lf(t){if(t!==rr)return!1;if(!pt)return $E(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tx(t.type,t.memoizedProps)),e&&(e=tr)){if(kx(t))throw Pk(),Error(Q(418));for(;e;)Ak(t,e),e=io(e.nextSibling)}if($E(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tr=io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=rr?io(t.stateNode.nextSibling):null;return!0}function Pk(){for(var t=tr;t;)t=io(t.nextSibling)}function ic(){tr=rr=null,pt=!1}function Ww(t){Lr===null?Lr=[t]:Lr.push(t)}var UM=_i.ReactCurrentBatchConfig;function bu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BE(t){var e=t._init;return e(t._payload)}function Rk(t){function e(_,x){if(t){var N=_.deletions;N===null?(_.deletions=[x],_.flags|=16):N.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=co(_,x),_.index=0,_.sibling=null,_}function i(_,x,N){return _.index=N,t?(N=_.alternate,N!==null?(N=N.index,N<x?(_.flags|=2,x):N):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,x,N,R){return x===null||x.tag!==6?(x=n0(N,_.mode,R),x.return=_,x):(x=s(x,N),x.return=_,x)}function c(_,x,N,R){var P=N.type;return P===kl?d(_,x,N.props.children,R,N.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vi&&BE(P)===x.type)?(R=s(x,N.props),R.ref=bu(_,x,N),R.return=_,R):(R=bp(N.type,N.key,N.props,null,_.mode,R),R.ref=bu(_,x,N),R.return=_,R)}function u(_,x,N,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=r0(N,_.mode,R),x.return=_,x):(x=s(x,N.children||[]),x.return=_,x)}function d(_,x,N,R,P){return x===null||x.tag!==7?(x=Sa(N,_.mode,R,P),x.return=_,x):(x=s(x,N),x.return=_,x)}function f(_,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=n0(""+x,_.mode,N),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jf:return N=bp(x.type,x.key,x.props,null,_.mode,N),N.ref=bu(_,null,x),N.return=_,N;case Cl:return x=r0(x,_.mode,N),x.return=_,x;case Vi:var R=x._init;return f(_,R(x._payload),N)}if(Bu(x)||gu(x))return x=Sa(x,_.mode,N,null),x.return=_,x;Vf(_,x)}return null}function p(_,x,N,R){var P=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return P!==null?null:l(_,x,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case jf:return N.key===P?c(_,x,N,R):null;case Cl:return N.key===P?u(_,x,N,R):null;case Vi:return P=N._init,p(_,x,P(N._payload),R)}if(Bu(N)||gu(N))return P!==null?null:d(_,x,N,R,null);Vf(_,N)}return null}function g(_,x,N,R,P){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(N)||null,l(x,_,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case jf:return _=_.get(R.key===null?N:R.key)||null,c(x,_,R,P);case Cl:return _=_.get(R.key===null?N:R.key)||null,u(x,_,R,P);case Vi:var O=R._init;return g(_,x,N,O(R._payload),P)}if(Bu(R)||gu(R))return _=_.get(N)||null,d(x,_,R,P,null);Vf(x,R)}return null}function v(_,x,N,R){for(var P=null,O=null,S=x,E=x=0,C=null;S!==null&&E<N.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var A=p(_,S,N[E],R);if(A===null){S===null&&(S=C);break}t&&S&&A.alternate===null&&e(_,S),x=i(A,x,E),O===null?P=A:O.sibling=A,O=A,S=C}if(E===N.length)return n(_,S),pt&&ra(_,E),P;if(S===null){for(;E<N.length;E++)S=f(_,N[E],R),S!==null&&(x=i(S,x,E),O===null?P=S:O.sibling=S,O=S);return pt&&ra(_,E),P}for(S=r(_,S);E<N.length;E++)C=g(S,_,E,N[E],R),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),x=i(C,x,E),O===null?P=C:O.sibling=C,O=C);return t&&S.forEach(function(M){return e(_,M)}),pt&&ra(_,E),P}function b(_,x,N,R){var P=gu(N);if(typeof P!="function")throw Error(Q(150));if(N=P.call(N),N==null)throw Error(Q(151));for(var O=P=null,S=x,E=x=0,C=null,A=N.next();S!==null&&!A.done;E++,A=N.next()){S.index>E?(C=S,S=null):C=S.sibling;var M=p(_,S,A.value,R);if(M===null){S===null&&(S=C);break}t&&S&&M.alternate===null&&e(_,S),x=i(M,x,E),O===null?P=M:O.sibling=M,O=M,S=C}if(A.done)return n(_,S),pt&&ra(_,E),P;if(S===null){for(;!A.done;E++,A=N.next())A=f(_,A.value,R),A!==null&&(x=i(A,x,E),O===null?P=A:O.sibling=A,O=A);return pt&&ra(_,E),P}for(S=r(_,S);!A.done;E++,A=N.next())A=g(S,_,E,A.value,R),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?E:A.key),x=i(A,x,E),O===null?P=A:O.sibling=A,O=A);return t&&S.forEach(function(D){return e(_,D)}),pt&&ra(_,E),P}function T(_,x,N,R){if(typeof N=="object"&&N!==null&&N.type===kl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case jf:e:{for(var P=N.key,O=x;O!==null;){if(O.key===P){if(P=N.type,P===kl){if(O.tag===7){n(_,O.sibling),x=s(O,N.props.children),x.return=_,_=x;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vi&&BE(P)===O.type){n(_,O.sibling),x=s(O,N.props),x.ref=bu(_,O,N),x.return=_,_=x;break e}n(_,O);break}else e(_,O);O=O.sibling}N.type===kl?(x=Sa(N.props.children,_.mode,R,N.key),x.return=_,_=x):(R=bp(N.type,N.key,N.props,null,_.mode,R),R.ref=bu(_,x,N),R.return=_,_=R)}return o(_);case Cl:e:{for(O=N.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(_,x.sibling),x=s(x,N.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=r0(N,_.mode,R),x.return=_,_=x}return o(_);case Vi:return O=N._init,T(_,x,O(N._payload),R)}if(Bu(N))return v(_,x,N,R);if(gu(N))return b(_,x,N,R);Vf(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,N),x.return=_,_=x):(n(_,x),x=n0(N,_.mode,R),x.return=_,_=x),o(_)):n(_,x)}return T}var oc=Rk(!0),Ok=Rk(!1),Jp=Mo(null),em=null,Ll=null,Hw=null;function qw(){Hw=Ll=em=null}function Gw(t){var e=Jp.current;dt(Jp),t._currentValue=e}function Ax(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ql(t,e){em=t,Hw=Ll=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function Er(t){var e=t._currentValue;if(Hw!==t)if(t={context:t,memoizedValue:e,next:null},Ll===null){if(em===null)throw Error(Q(308));Ll=t,em.dependencies={lanes:0,firstContext:t}}else Ll=Ll.next=t;return e}var ga=null;function Kw(t){ga===null?ga=[t]:ga.push(t)}function Dk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Kw(e)):(n.next=s.next,s.next=n),e.interleaved=n,li(t,r)}function li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function Yw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,li(t,n)}return s=r.interleaved,s===null?(e.next=e,Kw(r)):(e.next=s.next,s.next=e),r.interleaved=e,li(t,n)}function mp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ow(t,n)}}function zE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tm(t,e,n,r){var s=t.updateQueue;Fi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,g=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,b=l;switch(p=e,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=vt({},f,p);break e;case 2:Fi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Oa|=o,t.lanes=o,t.memoizedState=f}}function WE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var jh={},gs=Mo(jh),$d=Mo(jh),Bd=Mo(jh);function ya(t){if(t===jh)throw Error(Q(174));return t}function Qw(t,e){switch(ot(Bd,e),ot($d,t),ot(gs,jh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dx(e,t)}dt(gs),ot(gs,e)}function ac(){dt(gs),dt($d),dt(Bd)}function Lk(t){ya(Bd.current);var e=ya(gs.current),n=dx(e,t.type);e!==n&&(ot($d,t),ot(gs,n))}function Zw(t){$d.current===t&&(dt(gs),dt($d))}var gt=Mo(0);function nm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qy=[];function Xw(){for(var t=0;t<Qy.length;t++)Qy[t]._workInProgressVersionPrimary=null;Qy.length=0}var gp=_i.ReactCurrentDispatcher,Zy=_i.ReactCurrentBatchConfig,Ra=0,xt=null,$t=null,Gt=null,rm=!1,cd=!1,zd=0,$M=0;function dn(){throw Error(Q(321))}function Jw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function eb(t,e,n,r,s,i){if(Ra=i,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gp.current=t===null||t.memoizedState===null?HM:qM,t=n(r,s),cd){i=0;do{if(cd=!1,zd=0,25<=i)throw Error(Q(301));i+=1,Gt=$t=null,e.updateQueue=null,gp.current=GM,t=n(r,s)}while(cd)}if(gp.current=sm,e=$t!==null&&$t.next!==null,Ra=0,Gt=$t=xt=null,rm=!1,e)throw Error(Q(300));return t}function tb(){var t=zd!==0;return zd=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?xt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Nr(){if($t===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Gt===null?xt.memoizedState:Gt.next;if(e!==null)Gt=e,$t=t;else{if(t===null)throw Error(Q(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Gt===null?xt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Wd(t,e){return typeof e=="function"?e(t):e}function Xy(t){var e=Nr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=$t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ra&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,xt.lanes|=d,Oa|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Gr(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,xt.lanes|=i,Oa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jy(t){var e=Nr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Gr(i,e.memoizedState)||(Un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Vk(){}function Fk(t,e){var n=xt,r=Nr(),s=e(),i=!Gr(r.memoizedState,s);if(i&&(r.memoizedState=s,Un=!0),r=r.queue,nb(Bk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,Hd(9,$k.bind(null,n,r,s,e),void 0,null),Kt===null)throw Error(Q(349));Ra&30||Uk(n,e,s)}return s}function Uk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $k(t,e,n,r){e.value=n,e.getSnapshot=r,zk(e)&&Wk(t)}function Bk(t,e,n){return n(function(){zk(e)&&Wk(t)})}function zk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function Wk(t){var e=li(t,1);e!==null&&qr(e,t,1,-1)}function HE(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:t},e.queue=t,t=t.dispatch=WM.bind(null,xt,t),[e.memoizedState,t]}function Hd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hk(){return Nr().memoizedState}function yp(t,e,n,r){var s=is();xt.flags|=t,s.memoizedState=Hd(1|e,n,void 0,r===void 0?null:r)}function mg(t,e,n,r){var s=Nr();r=r===void 0?null:r;var i=void 0;if($t!==null){var o=$t.memoizedState;if(i=o.destroy,r!==null&&Jw(r,o.deps)){s.memoizedState=Hd(e,n,i,r);return}}xt.flags|=t,s.memoizedState=Hd(1|e,n,i,r)}function qE(t,e){return yp(8390656,8,t,e)}function nb(t,e){return mg(2048,8,t,e)}function qk(t,e){return mg(4,2,t,e)}function Gk(t,e){return mg(4,4,t,e)}function Kk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yk(t,e,n){return n=n!=null?n.concat([t]):null,mg(4,4,Kk.bind(null,e,t),n)}function rb(){}function Qk(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zk(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xk(t,e,n){return Ra&21?(Gr(n,e)||(n=rk(),xt.lanes|=n,Oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function BM(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Zy.transition;Zy.transition={};try{t(!1),e()}finally{tt=n,Zy.transition=r}}function Jk(){return Nr().memoizedState}function zM(t,e,n){var r=lo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eI(t))tI(e,n);else if(n=Dk(t,e,n,r),n!==null){var s=kn();qr(n,t,r,s),nI(n,e,r)}}function WM(t,e,n){var r=lo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eI(t))tI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Gr(l,o)){var c=e.interleaved;c===null?(s.next=s,Kw(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Dk(t,e,s,r),n!==null&&(s=kn(),qr(n,t,r,s),nI(n,e,r))}}function eI(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function tI(t,e){cd=rm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ow(t,n)}}var sm={readContext:Er,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},HM={readContext:Er,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:Er,useEffect:qE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yp(4194308,4,Kk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yp(4194308,4,t,e)},useInsertionEffect:function(t,e){return yp(4,2,t,e)},useMemo:function(t,e){var n=is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zM.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:HE,useDebugValue:rb,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=HE(!1),e=t[0];return t=BM.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,s=is();if(pt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Kt===null)throw Error(Q(349));Ra&30||Uk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qE(Bk.bind(null,r,i,t),[t]),r.flags|=2048,Hd(9,$k.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=is(),e=Kt.identifierPrefix;if(pt){var n=Ks,r=Gs;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$M++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qM={readContext:Er,useCallback:Qk,useContext:Er,useEffect:nb,useImperativeHandle:Yk,useInsertionEffect:qk,useLayoutEffect:Gk,useMemo:Zk,useReducer:Xy,useRef:Hk,useState:function(){return Xy(Wd)},useDebugValue:rb,useDeferredValue:function(t){var e=Nr();return Xk(e,$t.memoizedState,t)},useTransition:function(){var t=Xy(Wd)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:Vk,useSyncExternalStore:Fk,useId:Jk,unstable_isNewReconciler:!1},GM={readContext:Er,useCallback:Qk,useContext:Er,useEffect:nb,useImperativeHandle:Yk,useInsertionEffect:qk,useLayoutEffect:Gk,useMemo:Zk,useReducer:Jy,useRef:Hk,useState:function(){return Jy(Wd)},useDebugValue:rb,useDeferredValue:function(t){var e=Nr();return $t===null?e.memoizedState=t:Xk(e,$t.memoizedState,t)},useTransition:function(){var t=Jy(Wd)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:Vk,useSyncExternalStore:Fk,useId:Jk,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Px(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gg={isMounted:function(t){return(t=t._reactInternals)?Ya(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),s=lo(t),i=Xs(r,s);i.payload=e,n!=null&&(i.callback=n),e=oo(t,i,s),e!==null&&(qr(e,t,s,r),mp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),s=lo(t),i=Xs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=oo(t,i,s),e!==null&&(qr(e,t,s,r),mp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=lo(t),s=Xs(n,r);s.tag=2,e!=null&&(s.callback=e),e=oo(t,s,r),e!==null&&(qr(e,t,r,n),mp(e,t,r))}};function GE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ld(n,r)||!Ld(s,i):!0}function rI(t,e,n){var r=!1,s=xo,i=e.contextType;return typeof i=="object"&&i!==null?i=Er(i):(s=zn(e)?Aa:En.current,r=e.contextTypes,i=(r=r!=null)?sc(t,s):xo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function KE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gg.enqueueReplaceState(e,e.state,null)}function Rx(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Er(i):(i=zn(e)?Aa:En.current,s.context=sc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Px(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gg.enqueueReplaceState(s,s.state,null),tm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function lc(t,e){try{var n="",r=e;do n+=b6(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function e0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ox(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KM=typeof WeakMap=="function"?WeakMap:Map;function sI(t,e,n){n=Xs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){om||(om=!0,Wx=r),Ox(t,e)},n}function iI(t,e,n){n=Xs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ox(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ox(t,e),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function YE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lL.bind(null,t,e,n),e.then(t,t))}function QE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xs(-1,1),e.tag=2,oo(n,e,1))),n.lanes|=1),t)}var YM=_i.ReactCurrentOwner,Un=!1;function Sn(t,e,n,r){e.child=t===null?Ok(e,null,n,r):oc(e,t.child,n,r)}function XE(t,e,n,r,s){n=n.render;var i=e.ref;return Ql(e,s),r=eb(t,e,n,r,i,s),n=tb(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ci(t,e,s)):(pt&&n&&Bw(e),e.flags|=1,Sn(t,e,r,s),e.child)}function JE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!db(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oI(t,e,i,r,s)):(t=bp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ld,n(o,r)&&t.ref===e.ref)return ci(t,e,s)}return e.flags|=1,t=co(i,r),t.ref=e.ref,t.return=e,e.child=t}function oI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ld(i,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,ci(t,e,s)}return Dx(t,e,n,r,s)}function aI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Fl,Xn),Xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Fl,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ot(Fl,Xn),Xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ot(Fl,Xn),Xn|=r;return Sn(t,e,s,n),e.child}function lI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dx(t,e,n,r,s){var i=zn(n)?Aa:En.current;return i=sc(e,i),Ql(e,s),n=eb(t,e,n,r,i,s),r=tb(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ci(t,e,s)):(pt&&r&&Bw(e),e.flags|=1,Sn(t,e,n,s),e.child)}function eN(t,e,n,r,s){if(zn(n)){var i=!0;Qp(e)}else i=!1;if(Ql(e,s),e.stateNode===null)xp(t,e),rI(e,n,r),Rx(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=zn(n)?Aa:En.current,u=sc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&KE(e,o,r,u),Fi=!1;var p=e.memoizedState;o.state=p,tm(e,r,o,s),c=e.memoizedState,l!==r||p!==c||Bn.current||Fi?(typeof d=="function"&&(Px(e,n,d,r),c=e.memoizedState),(l=Fi||GE(e,n,l,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mk(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Or(e.type,l),o.props=u,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=zn(n)?Aa:En.current,c=sc(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&KE(e,o,r,c),Fi=!1,p=e.memoizedState,o.state=p,tm(e,r,o,s);var v=e.memoizedState;l!==f||p!==v||Bn.current||Fi?(typeof g=="function"&&(Px(e,n,g,r),v=e.memoizedState),(u=Fi||GE(e,n,u,r,p,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Mx(t,e,n,r,i,s)}function Mx(t,e,n,r,s,i){lI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&FE(e,n,!1),ci(t,e,i);r=e.stateNode,YM.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oc(e,t.child,null,i),e.child=oc(e,null,l,i)):Sn(t,e,l,i),e.memoizedState=r.state,s&&FE(e,n,!0),e.child}function cI(t){var e=t.stateNode;e.pendingContext?VE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VE(t,e.context,!1),Qw(t,e.containerInfo)}function tN(t,e,n,r,s){return ic(),Ww(s),e.flags|=256,Sn(t,e,n,r),e.child}var Lx={dehydrated:null,treeContext:null,retryLane:0};function Vx(t){return{baseLanes:t,cachePool:null,transitions:null}}function uI(t,e,n){var r=e.pendingProps,s=gt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ot(gt,s&1),t===null)return Ix(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vg(o,r,0,null),t=Sa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vx(n),e.memoizedState=Lx,t):sb(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return QM(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=co(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=co(l,i):(i=Sa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Vx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Lx,r}return i=t.child,t=i.sibling,r=co(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sb(t,e){return e=vg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ff(t,e,n,r){return r!==null&&Ww(r),oc(e,t.child,null,n),t=sb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=e0(Error(Q(422))),Ff(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=vg({mode:"visible",children:r.children},s,0,null),i=Sa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&oc(e,t.child,null,o),e.child.memoizedState=Vx(o),e.memoizedState=Lx,i);if(!(e.mode&1))return Ff(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Q(419)),r=e0(i,r,void 0),Ff(t,e,o,r)}if(l=(o&t.childLanes)!==0,Un||l){if(r=Kt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,li(t,s),qr(r,t,s,-1))}return ub(),r=e0(Error(Q(421))),Ff(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tr=io(s.nextSibling),rr=e,pt=!0,Lr=null,t!==null&&(gr[yr++]=Gs,gr[yr++]=Ks,gr[yr++]=Pa,Gs=t.id,Ks=t.overflow,Pa=e),e=sb(e,r.children),e.flags|=4096,e)}function nN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ax(t.return,e,n)}function t0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Sn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nN(t,n,e);else if(t.tag===19)nN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(gt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&nm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),t0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&nm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}t0(e,!0,n,null,i);break;case"together":t0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZM(t,e,n){switch(e.tag){case 3:cI(e),ic();break;case 5:Lk(e);break;case 1:zn(e.type)&&Qp(e);break;case 4:Qw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ot(Jp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?uI(t,e,n):(ot(gt,gt.current&1),t=ci(t,e,n),t!==null?t.sibling:null);ot(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ot(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,aI(t,e,n)}return ci(t,e,n)}var hI,Fx,fI,pI;hI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fx=function(){};fI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ya(gs.current);var i=null;switch(n){case"input":s=ax(t,s),r=ax(t,r),i=[];break;case"select":s=vt({},s,{value:void 0}),r=vt({},r,{value:void 0}),i=[];break;case"textarea":s=ux(t,s),r=ux(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kp)}hx(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Id.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Id.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};pI=function(t,e,n,r){n!==r&&(e.flags|=4)};function _u(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XM(t,e,n){var r=e.pendingProps;switch(zw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return zn(e.type)&&Yp(),hn(e),null;case 3:return r=e.stateNode,ac(),dt(Bn),dt(En),Xw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(Gx(Lr),Lr=null))),Fx(t,e),hn(e),null;case 5:Zw(e);var s=ya(Bd.current);if(n=e.type,t!==null&&e.stateNode!=null)fI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return hn(e),null}if(t=ya(gs.current),Lf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[us]=e,r[Ud]=i,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(s=0;s<Wu.length;s++)at(Wu[s],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":dE(r,i),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},at("invalid",r);break;case"textarea":fE(r,i),at("invalid",r)}hx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Mf(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Mf(r.textContent,l,t),s=["children",""+l]):Id.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":Cf(r),hE(r,i,!0);break;case"textarea":Cf(r),pE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Kp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[us]=e,t[Ud]=r,hI(t,e,!1,!1),e.stateNode=t;e:{switch(o=fx(n,r),n){case"dialog":at("cancel",t),at("close",t),s=r;break;case"iframe":case"object":case"embed":at("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wu.length;s++)at(Wu[s],t);s=r;break;case"source":at("error",t),s=r;break;case"img":case"image":case"link":at("error",t),at("load",t),s=r;break;case"details":at("toggle",t),s=r;break;case"input":dE(t,r),s=ax(t,r),at("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=vt({},r,{value:void 0}),at("invalid",t);break;case"textarea":fE(t,r),s=ux(t,r),at("invalid",t);break;default:s=r}hx(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?HC(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zC(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ad(t,c):typeof c=="number"&&Ad(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Id.hasOwnProperty(i)?c!=null&&i==="onScroll"&&at("scroll",t):c!=null&&Cw(t,i,c,o))}switch(n){case"input":Cf(t),hE(t,r,!1);break;case"textarea":Cf(t),pE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ql(t,!!r.multiple,i,!1):r.defaultValue!=null&&ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Kp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)pI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ya(Bd.current),ya(gs.current),Lf(e)){if(r=e.stateNode,n=e.memoizedProps,r[us]=e,(i=r.nodeValue!==n)&&(t=rr,t!==null))switch(t.tag){case 3:Mf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=e,e.stateNode=r}return hn(e),null;case 13:if(dt(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&tr!==null&&e.mode&1&&!(e.flags&128))Pk(),ic(),e.flags|=98560,i=!1;else if(i=Lf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[us]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),i=!1}else Lr!==null&&(Gx(Lr),Lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Bt===0&&(Bt=3):ub())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return ac(),Fx(t,e),t===null&&Vd(e.stateNode.containerInfo),hn(e),null;case 10:return Gw(e.type._context),hn(e),null;case 17:return zn(e.type)&&Yp(),hn(e),null;case 19:if(dt(gt),i=e.memoizedState,i===null)return hn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_u(i,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nm(t),o!==null){for(e.flags|=128,_u(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(gt,gt.current&1|2),e.child}t=t.sibling}i.tail!==null&&kt()>cc&&(e.flags|=128,r=!0,_u(i,!1),e.lanes=4194304)}else{if(!r)if(t=nm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_u(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pt)return hn(e),null}else 2*kt()-i.renderingStartTime>cc&&n!==1073741824&&(e.flags|=128,r=!0,_u(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=kt(),e.sibling=null,n=gt.current,ot(gt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return cb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function JM(t,e){switch(zw(e),e.tag){case 1:return zn(e.type)&&Yp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ac(),dt(Bn),dt(En),Xw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zw(e),null;case 13:if(dt(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(gt),null;case 4:return ac(),null;case 10:return Gw(e.type._context),null;case 22:case 23:return cb(),null;case 24:return null;default:return null}}var Uf=!1,vn=!1,eL=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Vl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(t,e,r)}else n.current=null}function Ux(t,e,n){try{n()}catch(r){Nt(t,e,r)}}var rN=!1;function tL(t,e){if(Ex=Hp,t=vk(),$w(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=o),p===i&&++d===r&&(c=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nx={focusedElem:t,selectionRange:n},Hp=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,T=v.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:Or(e.type,b),T);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(R){Nt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return v=rN,rN=!1,v}function ud(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ux(e,n,i)}s=s.next}while(s!==r)}}function yg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $x(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mI(t){var e=t.alternate;e!==null&&(t.alternate=null,mI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[us],delete e[Ud],delete e[jx],delete e[LM],delete e[VM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gI(t){return t.tag===5||t.tag===3||t.tag===4}function sN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kp));else if(r!==4&&(t=t.child,t!==null))for(Bx(t,e,n),t=t.sibling;t!==null;)Bx(t,e,n),t=t.sibling}function zx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zx(t,e,n),t=t.sibling;t!==null;)zx(t,e,n),t=t.sibling}var Xt=null,Mr=!1;function Oi(t,e,n){for(n=n.child;n!==null;)yI(t,e,n),n=n.sibling}function yI(t,e,n){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(cg,n)}catch{}switch(n.tag){case 5:vn||Vl(n,e);case 6:var r=Xt,s=Mr;Xt=null,Oi(t,e,n),Xt=r,Mr=s,Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?Ky(t.parentNode,n):t.nodeType===1&&Ky(t,n),Dd(t)):Ky(Xt,n.stateNode));break;case 4:r=Xt,s=Mr,Xt=n.stateNode.containerInfo,Mr=!0,Oi(t,e,n),Xt=r,Mr=s;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ux(n,e,o),s=s.next}while(s!==r)}Oi(t,e,n);break;case 1:if(!vn&&(Vl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Nt(n,e,l)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,Oi(t,e,n),vn=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function iN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eL),e.forEach(function(r){var s=uL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xt=l.stateNode,Mr=!1;break e;case 3:Xt=l.stateNode.containerInfo,Mr=!0;break e;case 4:Xt=l.stateNode.containerInfo,Mr=!0;break e}l=l.return}if(Xt===null)throw Error(Q(160));yI(i,o,s),Xt=null,Mr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Nt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xI(e,t),e=e.sibling}function xI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pr(e,t),ss(t),r&4){try{ud(3,t,t.return),yg(3,t)}catch(b){Nt(t,t.return,b)}try{ud(5,t,t.return)}catch(b){Nt(t,t.return,b)}}break;case 1:Pr(e,t),ss(t),r&512&&n!==null&&Vl(n,n.return);break;case 5:if(Pr(e,t),ss(t),r&512&&n!==null&&Vl(n,n.return),t.flags&32){var s=t.stateNode;try{Ad(s,"")}catch(b){Nt(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&UC(s,i),fx(l,o);var u=fx(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?HC(s,f):d==="dangerouslySetInnerHTML"?zC(s,f):d==="children"?Ad(s,f):Cw(s,d,f,u)}switch(l){case"input":lx(s,i);break;case"textarea":$C(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ql(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ql(s,!!i.multiple,i.defaultValue,!0):ql(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ud]=i}catch(b){Nt(t,t.return,b)}}break;case 6:if(Pr(e,t),ss(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){Nt(t,t.return,b)}}break;case 3:if(Pr(e,t),ss(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dd(e.containerInfo)}catch(b){Nt(t,t.return,b)}break;case 4:Pr(e,t),ss(t);break;case 13:Pr(e,t),ss(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ab=kt())),r&4&&iN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(u=vn)||d,Pr(e,t),vn=u):Pr(e,t),ss(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(f=fe=d;fe!==null;){switch(p=fe,g=p.child,p.tag){case 0:case 11:case 14:case 15:ud(4,p,p.return);break;case 1:Vl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Nt(r,n,b)}}break;case 5:Vl(p,p.return);break;case 22:if(p.memoizedState!==null){aN(f);continue}}g!==null?(g.return=p,fe=g):aN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WC("display",o))}catch(b){Nt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Nt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pr(e,t),ss(t),r&4&&iN(t);break;case 21:break;default:Pr(e,t),ss(t)}}function ss(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ad(s,""),r.flags&=-33);var i=sN(t);zx(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sN(t);Bx(t,l,o);break;default:throw Error(Q(161))}}catch(c){Nt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nL(t,e,n){fe=t,vI(t)}function vI(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uf;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vn;l=Uf;var u=vn;if(Uf=o,(vn=c)&&!u)for(fe=s;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?lN(s):c!==null?(c.return=o,fe=c):lN(s);for(;i!==null;)fe=i,vI(i),i=i.sibling;fe=s,Uf=l,vn=u}oN(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):oN(t)}}function oN(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||yg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Or(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&WE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Dd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}vn||e.flags&512&&$x(e)}catch(p){Nt(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function aN(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function lN(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yg(4,e)}catch(c){Nt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Nt(e,s,c)}}var i=e.return;try{$x(e)}catch(c){Nt(e,i,c)}break;case 5:var o=e.return;try{$x(e)}catch(c){Nt(e,o,c)}}}catch(c){Nt(e,e.return,c)}if(e===t){fe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,fe=l;break}fe=e.return}}var rL=Math.ceil,im=_i.ReactCurrentDispatcher,ib=_i.ReactCurrentOwner,br=_i.ReactCurrentBatchConfig,He=0,Kt=null,Mt=null,rn=0,Xn=0,Fl=Mo(0),Bt=0,qd=null,Oa=0,xg=0,ob=0,dd=null,Vn=null,ab=0,cc=1/0,Hs=null,om=!1,Wx=null,ao=null,$f=!1,Xi=null,am=0,hd=0,Hx=null,vp=-1,wp=0;function kn(){return He&6?kt():vp!==-1?vp:vp=kt()}function lo(t){return t.mode&1?He&2&&rn!==0?rn&-rn:UM.transition!==null?(wp===0&&(wp=rk()),wp):(t=tt,t!==0||(t=window.event,t=t===void 0?16:uk(t.type)),t):1}function qr(t,e,n,r){if(50<hd)throw hd=0,Hx=null,Error(Q(185));Nh(t,n,r),(!(He&2)||t!==Kt)&&(t===Kt&&(!(He&2)&&(xg|=n),Bt===4&&Bi(t,rn)),Wn(t,r),n===1&&He===0&&!(e.mode&1)&&(cc=kt()+500,pg&&Lo()))}function Wn(t,e){var n=t.callbackNode;U6(t,e);var r=Wp(t,t===Kt?rn:0);if(r===0)n!==null&&yE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yE(n),e===1)t.tag===0?FM(cN.bind(null,t)):kk(cN.bind(null,t)),DM(function(){!(He&6)&&Lo()}),n=null;else{switch(sk(r)){case 1:n=Rw;break;case 4:n=tk;break;case 16:n=zp;break;case 536870912:n=nk;break;default:n=zp}n=jI(n,wI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wI(t,e){if(vp=-1,wp=0,He&6)throw Error(Q(327));var n=t.callbackNode;if(Zl()&&t.callbackNode!==n)return null;var r=Wp(t,t===Kt?rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lm(t,r);else{e=r;var s=He;He|=2;var i=_I();(Kt!==t||rn!==e)&&(Hs=null,cc=kt()+500,Ta(t,e));do try{oL();break}catch(l){bI(t,l)}while(!0);qw(),im.current=i,He=s,Mt!==null?e=0:(Kt=null,rn=0,e=Bt)}if(e!==0){if(e===2&&(s=xx(t),s!==0&&(r=s,e=qx(t,s))),e===1)throw n=qd,Ta(t,0),Bi(t,r),Wn(t,kt()),n;if(e===6)Bi(t,r);else{if(s=t.current.alternate,!(r&30)&&!sL(s)&&(e=lm(t,r),e===2&&(i=xx(t),i!==0&&(r=i,e=qx(t,i))),e===1))throw n=qd,Ta(t,0),Bi(t,r),Wn(t,kt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:sa(t,Vn,Hs);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=ab+500-kt(),10<e)){if(Wp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sx(sa.bind(null,t,Vn,Hs),e);break}sa(t,Vn,Hs);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rL(r/1960))-r,10<r){t.timeoutHandle=Sx(sa.bind(null,t,Vn,Hs),r);break}sa(t,Vn,Hs);break;case 5:sa(t,Vn,Hs);break;default:throw Error(Q(329))}}}return Wn(t,kt()),t.callbackNode===n?wI.bind(null,t):null}function qx(t,e){var n=dd;return t.current.memoizedState.isDehydrated&&(Ta(t,e).flags|=256),t=lm(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&Gx(e)),t}function Gx(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function sL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~ob,e&=~xg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hr(e),r=1<<n;t[n]=-1,e&=~r}}function cN(t){if(He&6)throw Error(Q(327));Zl();var e=Wp(t,0);if(!(e&1))return Wn(t,kt()),null;var n=lm(t,e);if(t.tag!==0&&n===2){var r=xx(t);r!==0&&(e=r,n=qx(t,r))}if(n===1)throw n=qd,Ta(t,0),Bi(t,e),Wn(t,kt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sa(t,Vn,Hs),Wn(t,kt()),null}function lb(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(cc=kt()+500,pg&&Lo())}}function Da(t){Xi!==null&&Xi.tag===0&&!(He&6)&&Zl();var e=He;He|=1;var n=br.transition,r=tt;try{if(br.transition=null,tt=1,t)return t()}finally{tt=r,br.transition=n,He=e,!(He&6)&&Lo()}}function cb(){Xn=Fl.current,dt(Fl)}function Ta(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OM(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(zw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yp();break;case 3:ac(),dt(Bn),dt(En),Xw();break;case 5:Zw(r);break;case 4:ac();break;case 13:dt(gt);break;case 19:dt(gt);break;case 10:Gw(r.type._context);break;case 22:case 23:cb()}n=n.return}if(Kt=t,Mt=t=co(t.current,null),rn=Xn=e,Bt=0,qd=null,ob=xg=Oa=0,Vn=dd=null,ga!==null){for(e=0;e<ga.length;e++)if(n=ga[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ga=null}return t}function bI(t,e){do{var n=Mt;try{if(qw(),gp.current=sm,rm){for(var r=xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rm=!1}if(Ra=0,Gt=$t=xt=null,cd=!1,zd=0,ib.current=null,n===null||n.return===null){Bt=1,qd=e,Mt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=rn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=QE(o);if(g!==null){g.flags&=-257,ZE(g,o,l,i,e),g.mode&1&&YE(i,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){YE(i,u,e),ub();break e}c=Error(Q(426))}}else if(pt&&l.mode&1){var T=QE(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ZE(T,o,l,i,e),Ww(lc(c,l));break e}}i=c=lc(c,l),Bt!==4&&(Bt=2),dd===null?dd=[i]:dd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=sI(i,c,e);zE(i,_);break e;case 1:l=c;var x=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ao===null||!ao.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=iI(i,l,e);zE(i,R);break e}}i=i.return}while(i!==null)}NI(n)}catch(P){e=P,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function _I(){var t=im.current;return im.current=sm,t===null?sm:t}function ub(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Kt===null||!(Oa&268435455)&&!(xg&268435455)||Bi(Kt,rn)}function lm(t,e){var n=He;He|=2;var r=_I();(Kt!==t||rn!==e)&&(Hs=null,Ta(t,e));do try{iL();break}catch(s){bI(t,s)}while(!0);if(qw(),He=n,im.current=r,Mt!==null)throw Error(Q(261));return Kt=null,rn=0,Bt}function iL(){for(;Mt!==null;)EI(Mt)}function oL(){for(;Mt!==null&&!A6();)EI(Mt)}function EI(t){var e=SI(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?NI(t):Mt=e,ib.current=null}function NI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JM(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Mt=null;return}}else if(n=XM(n,e,Xn),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Bt===0&&(Bt=5)}function sa(t,e,n){var r=tt,s=br.transition;try{br.transition=null,tt=1,aL(t,e,n,r)}finally{br.transition=s,tt=r}return null}function aL(t,e,n,r){do Zl();while(Xi!==null);if(He&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($6(t,i),t===Kt&&(Mt=Kt=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$f||($f=!0,jI(zp,function(){return Zl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=br.transition,br.transition=null;var o=tt;tt=1;var l=He;He|=4,ib.current=null,tL(t,n),xI(n,t),jM(Nx),Hp=!!Ex,Nx=Ex=null,t.current=n,nL(n),P6(),He=l,tt=o,br.transition=i}else t.current=n;if($f&&($f=!1,Xi=t,am=s),i=t.pendingLanes,i===0&&(ao=null),D6(n.stateNode),Wn(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(om)throw om=!1,t=Wx,Wx=null,t;return am&1&&t.tag!==0&&Zl(),i=t.pendingLanes,i&1?t===Hx?hd++:(hd=0,Hx=t):hd=0,Lo(),null}function Zl(){if(Xi!==null){var t=sk(am),e=br.transition,n=tt;try{if(br.transition=null,tt=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,am=0,He&6)throw Error(Q(331));var s=He;for(He|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:ud(8,d,i)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var p=d.sibling,g=d.return;if(mI(d),d===u){fe=null;break}if(p!==null){p.return=g,fe=p;break}fe=g}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ud(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,fe=_;break e}fe=i.return}}var x=t.current;for(fe=x;fe!==null;){o=fe;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,fe=N;else e:for(o=x;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yg(9,l)}}catch(P){Nt(l,l.return,P)}if(l===o){fe=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,fe=R;break e}fe=l.return}}if(He=s,Lo(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(cg,t)}catch{}r=!0}return r}finally{tt=n,br.transition=e}}return!1}function uN(t,e,n){e=lc(n,e),e=sI(t,e,1),t=oo(t,e,1),e=kn(),t!==null&&(Nh(t,1,e),Wn(t,e))}function Nt(t,e,n){if(t.tag===3)uN(t,t,n);else for(;e!==null;){if(e.tag===3){uN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){t=lc(n,t),t=iI(e,t,1),e=oo(e,t,1),t=kn(),e!==null&&(Nh(e,1,t),Wn(e,t));break}}e=e.return}}function lL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(rn&n)===n&&(Bt===4||Bt===3&&(rn&130023424)===rn&&500>kt()-ab?Ta(t,0):ob|=n),Wn(t,e)}function TI(t,e){e===0&&(t.mode&1?(e=Af,Af<<=1,!(Af&130023424)&&(Af=4194304)):e=1);var n=kn();t=li(t,e),t!==null&&(Nh(t,e,n),Wn(t,n))}function cL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TI(t,n)}function uL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),TI(t,n)}var SI;SI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,ZM(t,e,n);Un=!!(t.flags&131072)}else Un=!1,pt&&e.flags&1048576&&Ik(e,Xp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xp(t,e),t=e.pendingProps;var s=sc(e,En.current);Ql(e,n),s=eb(null,e,r,t,s,n);var i=tb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(i=!0,Qp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yw(e),s.updater=gg,e.stateNode=s,s._reactInternals=e,Rx(e,r,t,n),e=Mx(null,e,r,!0,i,n)):(e.tag=0,pt&&i&&Bw(e),Sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hL(r),t=Or(r,t),s){case 0:e=Dx(null,e,r,t,n);break e;case 1:e=eN(null,e,r,t,n);break e;case 11:e=XE(null,e,r,t,n);break e;case 14:e=JE(null,e,r,Or(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),Dx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),eN(t,e,r,s,n);case 3:e:{if(cI(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Mk(t,e),tm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=lc(Error(Q(423)),e),e=tN(t,e,r,n,s);break e}else if(r!==s){s=lc(Error(Q(424)),e),e=tN(t,e,r,n,s);break e}else for(tr=io(e.stateNode.containerInfo.firstChild),rr=e,pt=!0,Lr=null,n=Ok(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ic(),r===s){e=ci(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return Lk(e),t===null&&Ix(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Tx(r,s)?o=null:i!==null&&Tx(r,i)&&(e.flags|=32),lI(t,e),Sn(t,e,o,n),e.child;case 6:return t===null&&Ix(e),null;case 13:return uI(t,e,n);case 4:return Qw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oc(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),XE(t,e,r,s,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ot(Jp,r._currentValue),r._currentValue=o,i!==null)if(Gr(i.value,o)){if(i.children===s.children&&!Bn.current){e=ci(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Xs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ax(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ax(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ql(e,n),s=Er(s),r=r(s),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,s=Or(r,e.pendingProps),s=Or(r.type,s),JE(t,e,r,s,n);case 15:return oI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),xp(t,e),e.tag=1,zn(r)?(t=!0,Qp(e)):t=!1,Ql(e,n),rI(e,r,s),Rx(e,r,s,n),Mx(null,e,r,!0,t,n);case 19:return dI(t,e,n);case 22:return aI(t,e,n)}throw Error(Q(156,e.tag))};function jI(t,e){return ek(t,e)}function dL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new dL(t,e,n,r)}function db(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hL(t){if(typeof t=="function")return db(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iw)return 11;if(t===Aw)return 14}return 2}function co(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")db(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kl:return Sa(n.children,s,i,e);case kw:o=8,s|=8;break;case rx:return t=vr(12,n,e,s|2),t.elementType=rx,t.lanes=i,t;case sx:return t=vr(13,n,e,s),t.elementType=sx,t.lanes=i,t;case ix:return t=vr(19,n,e,s),t.elementType=ix,t.lanes=i,t;case LC:return vg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DC:o=10;break e;case MC:o=9;break e;case Iw:o=11;break e;case Aw:o=14;break e;case Vi:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=vr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Sa(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function vg(t,e,n,r){return t=vr(22,t,r,e),t.elementType=LC,t.lanes=n,t.stateNode={isHidden:!1},t}function n0(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function r0(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ly(0),this.expirationTimes=Ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ly(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hb(t,e,n,r,s,i,o,l,c){return t=new fL(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yw(i),t}function pL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CI(t){if(!t)return xo;t=t._reactInternals;e:{if(Ya(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(zn(n))return Ck(t,n,e)}return e}function kI(t,e,n,r,s,i,o,l,c){return t=hb(n,r,!0,t,s,i,o,l,c),t.context=CI(null),n=t.current,r=kn(),s=lo(n),i=Xs(r,s),i.callback=e??null,oo(n,i,s),t.current.lanes=s,Nh(t,s,r),Wn(t,r),t}function wg(t,e,n,r){var s=e.current,i=kn(),o=lo(s);return n=CI(n),e.context===null?e.context=n:e.pendingContext=n,e=Xs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oo(s,e,o),t!==null&&(qr(t,s,o,i),mp(t,s,o)),o}function cm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fb(t,e){dN(t,e),(t=t.alternate)&&dN(t,e)}function mL(){return null}var II=typeof reportError=="function"?reportError:function(t){console.error(t)};function pb(t){this._internalRoot=t}bg.prototype.render=pb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));wg(t,e,null,null)};bg.prototype.unmount=pb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Da(function(){wg(null,t,null,null)}),e[ai]=null}};function bg(t){this._internalRoot=t}bg.prototype.unstable_scheduleHydration=function(t){if(t){var e=ak();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&ck(t)}};function mb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hN(){}function gL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=cm(o);i.call(u)}}var o=kI(e,r,t,0,null,!1,!1,"",hN);return t._reactRootContainer=o,t[ai]=o.current,Vd(t.nodeType===8?t.parentNode:t),Da(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=cm(c);l.call(u)}}var c=hb(t,0,!1,null,null,!1,!1,"",hN);return t._reactRootContainer=c,t[ai]=c.current,Vd(t.nodeType===8?t.parentNode:t),Da(function(){wg(e,c,n,r)}),c}function Eg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=cm(o);l.call(c)}}wg(e,o,t,s)}else o=gL(n,e,t,s,r);return cm(o)}ik=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&(Ow(e,n|1),Wn(e,kt()),!(He&6)&&(cc=kt()+500,Lo()))}break;case 13:Da(function(){var r=li(t,1);if(r!==null){var s=kn();qr(r,t,1,s)}}),fb(t,1)}};Dw=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var n=kn();qr(e,t,134217728,n)}fb(t,134217728)}};ok=function(t){if(t.tag===13){var e=lo(t),n=li(t,e);if(n!==null){var r=kn();qr(n,t,e,r)}fb(t,e)}};ak=function(){return tt};lk=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};mx=function(t,e,n){switch(e){case"input":if(lx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fg(r);if(!s)throw Error(Q(90));FC(r),lx(r,s)}}}break;case"textarea":$C(t,n);break;case"select":e=n.value,e!=null&&ql(t,!!n.multiple,e,!1)}};KC=lb;YC=Da;var yL={usingClientEntryPoint:!1,Events:[Sh,Rl,fg,qC,GC,lb]},Eu={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xL={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XC(t),t===null?null:t.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||mL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{cg=Bf.inject(xL),ms=Bf}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL;dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mb(e))throw Error(Q(200));return pL(t,e,null,n)};dr.createRoot=function(t,e){if(!mb(t))throw Error(Q(299));var n=!1,r="",s=II;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hb(t,1,!1,null,null,n,!1,r,s),t[ai]=e.current,Vd(t.nodeType===8?t.parentNode:t),new pb(e)};dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=XC(e),t=t===null?null:t.stateNode,t};dr.flushSync=function(t){return Da(t)};dr.hydrate=function(t,e,n){if(!_g(e))throw Error(Q(200));return Eg(null,t,e,!0,n)};dr.hydrateRoot=function(t,e,n){if(!mb(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=II;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kI(e,null,t,1,n??null,s,!1,i,o),t[ai]=e.current,Vd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bg(e)};dr.render=function(t,e,n){if(!_g(e))throw Error(Q(200));return Eg(null,t,e,!1,n)};dr.unmountComponentAtNode=function(t){if(!_g(t))throw Error(Q(40));return t._reactRootContainer?(Da(function(){Eg(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};dr.unstable_batchedUpdates=lb;dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_g(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Eg(t,e,n,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function AI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AI)}catch(t){console.error(t)}}AI(),AC.exports=dr;var ja=AC.exports;const _p=Oo(ja);var fN=ja;tx.createRoot=fN.createRoot,tx.hydrateRoot=fN.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const pN="popstate";function vL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Kx("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:um(s)}return bL(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wL(){return Math.random().toString(36).substr(2,8)}function mN(t,e){return{usr:t.state,key:t.key,idx:e}}function Kx(t,e,n,r){return n===void 0&&(n=null),Gd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lc(e):e,{state:n,key:e&&e.key||r||wL()})}function um(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Ji.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ji.Pop;let T=d(),_=T==null?null:T-u;u=T,c&&c({action:l,location:b.location,delta:_})}function p(T,_){l=Ji.Push;let x=Kx(b.location,T,_);u=d()+1;let N=mN(x,u),R=b.createHref(x);try{o.pushState(N,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(R)}i&&c&&c({action:l,location:b.location,delta:1})}function g(T,_){l=Ji.Replace;let x=Kx(b.location,T,_);u=d();let N=mN(x,u),R=b.createHref(x);o.replaceState(N,"",R),i&&c&&c({action:l,location:b.location,delta:0})}function v(T){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof T=="string"?T:um(T);return x=x.replace(/ $/,"%20"),It(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let b={get action(){return l},get location(){return t(s,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(pN,f),c=T,()=>{s.removeEventListener(pN,f),c=null}},createHref(T){return e(s,T)},createURL:v,encodeLocation(T){let _=v(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(T){return o.go(T)}};return b}var gN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gN||(gN={}));function _L(t,e,n){return n===void 0&&(n="/"),EL(t,e,n)}function EL(t,e,n,r){let s=typeof e=="string"?Lc(e):e,i=gb(s.pathname||"/",n);if(i==null)return null;let o=RI(t);NL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ML(i);l=RL(o[c],u)}return l}function RI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(It(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=uo([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(It(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:AL(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of OI(i.path))s(i,o,c)}),e}function OI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=OI(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function NL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TL=/^:[\w-]+$/,SL=3,jL=2,CL=1,kL=10,IL=-2,yN=t=>t==="*";function AL(t,e){let n=t.split("/"),r=n.length;return n.some(yN)&&(r+=IL),e&&(r+=jL),n.filter(s=>!yN(s)).reduce((s,i)=>s+(TL.test(i)?SL:i===""?CL:kL),r)}function PL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function RL(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=OL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:uo([i,f.pathname]),pathnameBase:UL(uo([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=uo([i,f.pathnameBase]))}return o}function OL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let b=l[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[f];return g&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function DL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ML(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Lc(t):t;return{pathname:n?n.startsWith("/")?n:VL(n,e):e,search:$L(r),hash:BL(s)}}function VL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function s0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yb(t,e){let n=FL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Lc(t):(s=Gd({},t),It(!s.pathname||!s.pathname.includes("?"),s0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),s0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),s0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=LL(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),UL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$L=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DI=["post","put","patch","delete"];new Set(DI);const WL=["get",...DI];new Set(WL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}const vb=y.createContext(null),HL=y.createContext(null),Vo=y.createContext(null),Ng=y.createContext(null),Fo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),MI=y.createContext(null);function qL(t,e){let{relative:n}=e===void 0?{}:e;Vc()||It(!1);let{basename:r,navigator:s}=y.useContext(Vo),{hash:i,pathname:o,search:l}=VI(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:uo([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Vc(){return y.useContext(Ng)!=null}function Qa(){return Vc()||It(!1),y.useContext(Ng).location}function LI(t){y.useContext(Vo).static||y.useLayoutEffect(t)}function Ss(){let{isDataRoute:t}=y.useContext(Fo);return t?i3():GL()}function GL(){Vc()||It(!1);let t=y.useContext(vb),{basename:e,future:n,navigator:r}=y.useContext(Vo),{matches:s}=y.useContext(Fo),{pathname:i}=Qa(),o=JSON.stringify(yb(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return LI(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=xb(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:uo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function VI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Vo),{matches:s}=y.useContext(Fo),{pathname:i}=Qa(),o=JSON.stringify(yb(s,r.v7_relativeSplatPath));return y.useMemo(()=>xb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function KL(t,e){return YL(t,e)}function YL(t,e,n,r){Vc()||It(!1);let{navigator:s}=y.useContext(Vo),{matches:i}=y.useContext(Fo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Qa(),d;if(e){var f;let T=typeof e=="string"?Lc(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||It(!1),d=T}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let T=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=_L(t,{pathname:g}),b=e3(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:uo([c,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:uo([c,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&b?y.createElement(Ng.Provider,{value:{location:Kd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ji.Pop}},b):b}function QL(){let t=s3(),e=zL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const ZL=y.createElement(QL,null);class XL extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Fo.Provider,{value:this.props.routeContext},y.createElement(MI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JL(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(vb);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Fo.Provider,{value:e},r)}function e3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||It(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,v=!1,b=null,T=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||ZL,c&&(u<0&&p===0?(o3("route-fallback"),v=!0,T=null):u===p&&(v=!0,T=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),x=()=>{let N;return g?N=b:v?N=T:f.route.Component?N=y.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,y.createElement(JL,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(XL,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var FI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FI||{}),UI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UI||{});function t3(t){let e=y.useContext(vb);return e||It(!1),e}function n3(t){let e=y.useContext(HL);return e||It(!1),e}function r3(t){let e=y.useContext(Fo);return e||It(!1),e}function $I(t){let e=r3(),n=e.matches[e.matches.length-1];return n.route.id||It(!1),n.route.id}function s3(){var t;let e=y.useContext(MI),n=n3(),r=$I();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function i3(){let{router:t}=t3(FI.UseNavigateStable),e=$I(UI.UseNavigateStable),n=y.useRef(!1);return LI(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Kd({fromRouteId:e},i)))},[t,e])}const xN={};function o3(t,e,n){xN[t]||(xN[t]=!0)}function a3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function l3(t){let{to:e,replace:n,state:r,relative:s}=t;Vc()||It(!1);let{future:i,static:o}=y.useContext(Vo),{matches:l}=y.useContext(Fo),{pathname:c}=Qa(),u=Ss(),d=xb(e,yb(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function lt(t){It(!1)}function c3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ji.Pop,navigator:i,static:o=!1,future:l}=t;Vc()&&It(!1);let c=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Kd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Lc(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,b=y.useMemo(()=>{let T=gb(d,c);return T==null?null:{location:{pathname:T,search:f,hash:p,state:g,key:v},navigationType:s}},[c,d,f,p,g,v,s]);return b==null?null:y.createElement(Vo.Provider,{value:u},y.createElement(Ng.Provider,{children:n,value:b}))}function u3(t){let{children:e,location:n}=t;return KL(Yx(e),n)}new Promise(()=>{});function Yx(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Yx(r.props.children,i));return}r.type!==lt&&It(!1),!r.props.index||!r.props.children||It(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yx(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}function d3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function h3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f3(t,e){return t.button===0&&(!e||e==="_self")&&!h3(t)}function Zx(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function p3(t,e){let n=Zx(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const m3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g3="6";try{window.__reactRouterVersion=g3}catch{}const y3="startTransition",vN=nc[y3];function x3(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=vL({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(f=>{u&&vN?vN(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>a3(r),[r]),y.createElement(c3,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const v3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=d3(e,m3),{basename:g}=y.useContext(Vo),v,b=!1;if(typeof u=="string"&&w3.test(u)&&(v=u,v3))try{let N=new URL(window.location.href),R=u.startsWith("//")?new URL(N.protocol+u):new URL(u),P=gb(R.pathname,g);R.origin===N.origin&&P!=null?u=P+R.search+R.hash:b=!0}catch{}let T=qL(u,{relative:s}),_=b3(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(N){r&&r(N),N.defaultPrevented||_(N)}return y.createElement("a",Qx({},p,{href:v||T,onClick:b||i?r:x,ref:n,target:c}))});var wN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wN||(wN={}));var bN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bN||(bN={}));function b3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ss(),u=Qa(),d=VI(t,{relative:o});return y.useCallback(f=>{if(f3(f,n)){f.preventDefault();let p=r!==void 0?r:um(u)===um(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}function _3(t){let e=y.useRef(Zx(t)),n=y.useRef(!1),r=Qa(),s=y.useMemo(()=>p3(r.search,n.current?null:e.current),[r.search]),i=Ss(),o=y.useCallback((l,c)=>{const u=Zx(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var BI={exports:{}},zI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=y;function E3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var N3=typeof Object.is=="function"?Object.is:E3,T3=Ch.useSyncExternalStore,S3=Ch.useRef,j3=Ch.useEffect,C3=Ch.useMemo,k3=Ch.useDebugValue;zI.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=S3(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=C3(function(){function c(g){if(!u){if(u=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return f=v}return f=g}if(v=f,N3(d,g))return v;var b=r(g);return s!==void 0&&s(v,b)?(d=g,v):(d=g,f=b)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,s]);var l=T3(t,i[0],i[1]);return j3(function(){o.hasValue=!0,o.value=l},[l]),k3(l),l};BI.exports=zI;var I3=BI.exports;function A3(t){t()}function P3(){let t=null,e=null;return{clear(){t=null,e=null},notify(){A3(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var _N={notify(){},get:()=>[]};function R3(t,e){let n,r=_N,s=0,i=!1;function o(b){d();const T=r.subscribe(b);let _=!1;return()=>{_||(_=!0,T(),f())}}function l(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function d(){s++,n||(n=t.subscribe(c),r=P3())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=_N)}function p(){i||(i=!0,d())}function g(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return v}var O3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D3=O3(),M3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",L3=M3(),V3=()=>D3||L3?y.useLayoutEffect:y.useEffect,F3=V3(),i0=Symbol.for("react-redux-context"),o0=typeof globalThis<"u"?globalThis:{};function U3(){if(!y.createContext)return{};const t=o0[i0]??(o0[i0]=new Map);let e=t.get(y.createContext);return e||(e=y.createContext(null),t.set(y.createContext,e)),e}var vo=U3();function $3(t){const{children:e,context:n,serverState:r,store:s}=t,i=y.useMemo(()=>{const c=R3(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),o=y.useMemo(()=>s.getState(),[s]);F3(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=n||vo;return y.createElement(l.Provider,{value:i},e)}var B3=$3;function wb(t=vo){return function(){return y.useContext(t)}}var WI=wb();function HI(t=vo){const e=t===vo?WI:wb(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var z3=HI();function W3(t=vo){const e=t===vo?z3:HI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var qI=W3(),H3=(t,e)=>t===e;function q3(t=vo){const e=t===vo?WI:wb(t),n=(r,s={})=>{const{equalityFn:i=H3}=typeof s=="function"?{equalityFn:s}:s,o=e(),{store:l,subscription:c,getServerState:u}=o;y.useRef(!0);const d=y.useCallback({[r.name](p){return r(p)}}[r.name],[r]),f=I3.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,i);return y.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var bb=q3();function GI(t){return e=>typeof e===t}var G3=GI("function"),K3=t=>t===null,EN=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",NN=t=>!Y3(t)&&!K3(t)&&(G3(t)||typeof t=="object"),Y3=GI("undefined");function Q3(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Cn(t[r],e[r]))return!1;return!0}function Z3(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let s=t.byteLength;for(;s--;)if(n.getUint8(s)!==r.getUint8(s))return!1;return!0}function X3(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Cn(n[1],e.get(n[0])))return!1;return!0}function J3(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Cn(t,e){if(t===e)return!0;if(t&&NN(t)&&e&&NN(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return Q3(t,e);if(t instanceof Map&&e instanceof Map)return X3(t,e);if(t instanceof Set&&e instanceof Set)return J3(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return Z3(t,e);if(EN(t)&&EN(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=n.length;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;for(let s=n.length;s--!==0;){const i=n[s];if(!(i==="_owner"&&t.$$typeof)&&!Cn(t[i],e[i]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var eV=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],tV=["bigint","boolean","null","number","string","symbol","undefined"];function Tg(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(nV(e))return e}function Xr(t){return e=>Tg(e)===t}function nV(t){return eV.includes(t)}function Fc(t){return e=>typeof e===t}function rV(t){return tV.includes(t)}var sV=["innerHTML","ownerDocument","style","attributes","nodeValue"];function he(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(he.array(t))return"Array";if(he.plainFunction(t))return"Function";const e=Tg(t);return e||"Object"}he.array=Array.isArray;he.arrayOf=(t,e)=>!he.array(t)&&!he.function(e)?!1:t.every(n=>e(n));he.asyncGeneratorFunction=t=>Tg(t)==="AsyncGeneratorFunction";he.asyncFunction=Xr("AsyncFunction");he.bigint=Fc("bigint");he.boolean=t=>t===!0||t===!1;he.date=Xr("Date");he.defined=t=>!he.undefined(t);he.domElement=t=>he.object(t)&&!he.plainObject(t)&&t.nodeType===1&&he.string(t.nodeName)&&sV.every(e=>e in t);he.empty=t=>he.string(t)&&t.length===0||he.array(t)&&t.length===0||he.object(t)&&!he.map(t)&&!he.set(t)&&Object.keys(t).length===0||he.set(t)&&t.size===0||he.map(t)&&t.size===0;he.error=Xr("Error");he.function=Fc("function");he.generator=t=>he.iterable(t)&&he.function(t.next)&&he.function(t.throw);he.generatorFunction=Xr("GeneratorFunction");he.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;he.iterable=t=>!he.nullOrUndefined(t)&&he.function(t[Symbol.iterator]);he.map=Xr("Map");he.nan=t=>Number.isNaN(t);he.null=t=>t===null;he.nullOrUndefined=t=>he.null(t)||he.undefined(t);he.number=t=>Fc("number")(t)&&!he.nan(t);he.numericString=t=>he.string(t)&&t.length>0&&!Number.isNaN(Number(t));he.object=t=>!he.nullOrUndefined(t)&&(he.function(t)||typeof t=="object");he.oneOf=(t,e)=>he.array(t)?t.indexOf(e)>-1:!1;he.plainFunction=Xr("Function");he.plainObject=t=>{if(Tg(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};he.primitive=t=>he.null(t)||rV(typeof t);he.promise=Xr("Promise");he.propertyOf=(t,e,n)=>{if(!he.object(t)||!e)return!1;const r=t[e];return he.function(n)?n(r):he.defined(r)};he.regexp=Xr("RegExp");he.set=Xr("Set");he.string=Fc("string");he.symbol=Fc("symbol");he.undefined=Fc("undefined");he.weakMap=Xr("WeakMap");he.weakSet=Xr("WeakSet");var me=he;function iV(...t){return t.every(e=>me.string(e)||me.array(e)||me.plainObject(e))}function oV(t,e,n){return KI(t,e)?[t,e].every(me.array)?!t.some(kN(n))&&e.some(kN(n)):[t,e].every(me.plainObject)?!Object.entries(t).some(CN(n))&&Object.entries(e).some(CN(n)):e===n:!1}function TN(t,e,n){const{actual:r,key:s,previous:i,type:o}=n,l=hs(t,s),c=hs(e,s);let u=[l,c].every(me.number)&&(o==="increased"?l<c:l>c);return me.undefined(r)||(u=u&&c===r),me.undefined(i)||(u=u&&l===i),u}function SN(t,e,n){const{key:r,type:s,value:i}=n,o=hs(t,r),l=hs(e,r),c=s==="added"?o:l,u=s==="added"?l:o;if(!me.nullOrUndefined(i)){if(me.defined(c)){if(me.array(c)||me.plainObject(c))return oV(c,u,i)}else return Cn(u,i);return!1}return[o,l].every(me.array)?!u.every(_b(c)):[o,l].every(me.plainObject)?aV(Object.keys(c),Object.keys(u)):![o,l].every(d=>me.primitive(d)&&me.defined(d))&&(s==="added"?!me.defined(o)&&me.defined(l):me.defined(o)&&!me.defined(l))}function jN(t,e,{key:n}={}){let r=hs(t,n),s=hs(e,n);if(!KI(r,s))throw new TypeError("Inputs have different types");if(!iV(r,s))throw new TypeError("Inputs don't have length");return[r,s].every(me.plainObject)&&(r=Object.keys(r),s=Object.keys(s)),[r,s]}function CN(t){return([e,n])=>me.array(t)?Cn(t,n)||t.some(r=>Cn(r,n)||me.array(n)&&_b(n)(r)):me.plainObject(t)&&t[e]?!!t[e]&&Cn(t[e],n):Cn(t,n)}function aV(t,e){return e.some(n=>!t.includes(n))}function kN(t){return e=>me.array(t)?t.some(n=>Cn(n,e)||me.array(e)&&_b(e)(n)):Cn(t,e)}function Nu(t,e){return me.array(t)?t.some(n=>Cn(n,e)):Cn(t,e)}function _b(t){return e=>t.some(n=>Cn(n,e))}function KI(...t){return t.every(me.array)||t.every(me.number)||t.every(me.plainObject)||t.every(me.string)}function hs(t,e){return me.plainObject(t)||me.array(t)?me.string(e)?e.split(".").reduce((r,s)=>r&&r[s],t):me.number(e)?t[e]:t:t}function dm(t,e){if([t,e].some(me.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(d=>me.plainObject(d)||me.array(d)))throw new Error("Expected plain objects or array");return{added:(d,f)=>{try{return SN(t,e,{key:d,type:"added",value:f})}catch{return!1}},changed:(d,f,p)=>{try{const g=hs(t,d),v=hs(e,d),b=me.defined(f),T=me.defined(p);if(b||T){const _=T?Nu(p,g):!Nu(f,g),x=Nu(f,v);return _&&x}return[g,v].every(me.array)||[g,v].every(me.plainObject)?!Cn(g,v):g!==v}catch{return!1}},changedFrom:(d,f,p)=>{if(!me.defined(d))return!1;try{const g=hs(t,d),v=hs(e,d),b=me.defined(p);return Nu(f,g)&&(b?Nu(p,v):!b)}catch{return!1}},decreased:(d,f,p)=>{if(!me.defined(d))return!1;try{return TN(t,e,{key:d,actual:f,previous:p,type:"decreased"})}catch{return!1}},emptied:d=>{try{const[f,p]=jN(t,e,{key:d});return!!f.length&&!p.length}catch{return!1}},filled:d=>{try{const[f,p]=jN(t,e,{key:d});return!f.length&&!!p.length}catch{return!1}},increased:(d,f,p)=>{if(!me.defined(d))return!1;try{return TN(t,e,{key:d,actual:f,previous:p,type:"increased"})}catch{return!1}},removed:(d,f)=>{try{return SN(t,e,{key:d,type:"removed",value:f})}catch{return!1}}}}var lV=new Error("Element already at target scroll position"),cV=new Error("Scroll cancelled"),uV=Math.min,IN=Date.now,dV={left:AN("scrollLeft"),top:AN("scrollTop")};function AN(t){return function(n,r,s,i){s=s||{},typeof s=="function"&&(i=s,s={}),typeof i!="function"&&(i=fV);var o=IN(),l=n[t],c=s.ease||hV,u=isNaN(s.duration)?350:+s.duration,d=!1;return l===r?i(lV,n[t]):requestAnimationFrame(p),f;function f(){d=!0}function p(g){if(d)return i(cV,n[t]);var v=IN(),b=uV(1,(v-o)/u),T=c(b);n[t]=T*(r-l)+l,b<1?requestAnimationFrame(p):requestAnimationFrame(function(){i(null,n[t])})}}}function hV(t){return .5*(1-Math.cos(Math.PI*t))}function fV(){}const pV=Oo(dV);var YI={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(G5,function(){function e(r){var s=getComputedStyle(r,null).getPropertyValue("overflow");return s.indexOf("scroll")>-1||s.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var s=r.parentNode;s.parentNode;){if(e(s))return s;s=s.parentNode}return document.scrollingElement||document.documentElement}}return n})})(YI);var mV=YI.exports;const QI=Oo(mV);var gV=function(t){return Object.prototype.hasOwnProperty.call(t,"props")},yV=function(t,e){return t+Yd(e)},Yd=function(t){return t===null||typeof t=="boolean"||typeof t>"u"?"":typeof t=="number"?t.toString():typeof t=="string"?t:Array.isArray(t)?t.reduce(yV,""):gV(t)&&Object.prototype.hasOwnProperty.call(t.props,"children")?Yd(t.props.children):""};Yd.default=Yd;var xV=Yd;const PN=Oo(xV);var vV=function(e){return wV(e)&&!bV(e)};function wV(t){return!!t&&typeof t=="object"}function bV(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||NV(t)}var _V=typeof Symbol=="function"&&Symbol.for,EV=_V?Symbol.for("react.element"):60103;function NV(t){return t.$$typeof===EV}function TV(t){return Array.isArray(t)?[]:{}}function Qd(t,e){return e.clone!==!1&&e.isMergeableObject(t)?uc(TV(t),t,e):t}function SV(t,e,n){return t.concat(e).map(function(r){return Qd(r,n)})}function jV(t,e){if(!e.customMerge)return uc;var n=e.customMerge(t);return typeof n=="function"?n:uc}function CV(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function RN(t){return Object.keys(t).concat(CV(t))}function ZI(t,e){try{return e in t}catch{return!1}}function kV(t,e){return ZI(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function IV(t,e,n){var r={};return n.isMergeableObject(t)&&RN(t).forEach(function(s){r[s]=Qd(t[s],n)}),RN(e).forEach(function(s){kV(t,s)||(ZI(t,s)&&n.isMergeableObject(e[s])?r[s]=jV(s,n)(t[s],e[s],n):r[s]=Qd(e[s],n))}),r}function uc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||SV,n.isMergeableObject=n.isMergeableObject||vV,n.cloneUnlessOtherwiseSpecified=Qd;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):IV(t,e,n):Qd(e,n)}uc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return uc(r,s,n)},{})};var AV=uc,PV=AV;const Br=Oo(PV);var XI={exports:{}},RV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OV=RV,DV=OV;function JI(){}function eA(){}eA.resetWarningCache=JI;var MV=function(){function t(r,s,i,o,l,c){if(c!==DV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eA,resetWarningCache:JI};return n.PropTypes=n,n};XI.exports=MV();var LV=XI.exports;const H=Oo(LV);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var kh=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",VV=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(kh&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function FV(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function UV(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},VV))}}var $V=kh&&window.Promise,BV=$V?FV:UV;function tA(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function Za(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function Eb(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Ih(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Za(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/(auto|scroll|overlay)/.test(n+s+r)?t:Ih(Eb(t))}function nA(t){return t&&t.referenceNode?t.referenceNode:t}var ON=kh&&!!(window.MSInputMethodContext&&document.documentMode),DN=kh&&/MSIE 10/.test(navigator.userAgent);function Uc(t){return t===11?ON:t===10?DN:ON||DN}function dc(t){if(!t)return document.documentElement;for(var e=Uc(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&Za(n,"position")==="static"?dc(n):n}function zV(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||dc(t.firstElementChild)===t}function Xx(t){return t.parentNode!==null?Xx(t.parentNode):t}function hm(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,s=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(s,0);var o=i.commonAncestorContainer;if(t!==o&&e!==o||r.contains(s))return zV(o)?o:dc(o);var l=Xx(t);return l.host?hm(l.host,e):hm(t,Xx(e).host)}function hc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var s=t.ownerDocument.documentElement,i=t.ownerDocument.scrollingElement||s;return i[n]}return t[n]}function WV(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=hc(e,"top"),s=hc(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=s*i,t.right+=s*i,t}function MN(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function LN(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Uc(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function rA(t){var e=t.body,n=t.documentElement,r=Uc(10)&&getComputedStyle(n);return{height:LN("Height",e,n,r),width:LN("Width",e,n,r)}}var HV=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},qV=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fc=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},wr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function wo(t){return wr({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Jx(t){var e={};try{if(Uc(10)){e=t.getBoundingClientRect();var n=hc(t,"top"),r=hc(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var s={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i=t.nodeName==="HTML"?rA(t.ownerDocument):{},o=i.width||t.clientWidth||s.width,l=i.height||t.clientHeight||s.height,c=t.offsetWidth-o,u=t.offsetHeight-l;if(c||u){var d=Za(t);c-=MN(d,"x"),u-=MN(d,"y"),s.width-=c,s.height-=u}return wo(s)}function Nb(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Uc(10),s=e.nodeName==="HTML",i=Jx(t),o=Jx(e),l=Ih(t),c=Za(e),u=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);n&&s&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=wo({top:i.top-o.top-u,left:i.left-o.left-d,width:i.width,height:i.height});if(f.marginTop=0,f.marginLeft=0,!r&&s){var p=parseFloat(c.marginTop),g=parseFloat(c.marginLeft);f.top-=u-p,f.bottom-=u-p,f.left-=d-g,f.right-=d-g,f.marginTop=p,f.marginLeft=g}return(r&&!n?e.contains(l):e===l&&l.nodeName!=="BODY")&&(f=WV(f,e)),f}function GV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=Nb(t,n),s=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:hc(n),l=e?0:hc(n,"left"),c={top:o-r.top+r.marginTop,left:l-r.left+r.marginLeft,width:s,height:i};return wo(c)}function sA(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Za(t,"position")==="fixed")return!0;var n=Eb(t);return n?sA(n):!1}function iA(t){if(!t||!t.parentElement||Uc())return document.documentElement;for(var e=t.parentElement;e&&Za(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function Tb(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},o=s?iA(t):hm(t,nA(e));if(r==="viewport")i=GV(o,s);else{var l=void 0;r==="scrollParent"?(l=Ih(Eb(e)),l.nodeName==="BODY"&&(l=t.ownerDocument.documentElement)):r==="window"?l=t.ownerDocument.documentElement:l=r;var c=Nb(l,o,s);if(l.nodeName==="HTML"&&!sA(o)){var u=rA(t.ownerDocument),d=u.height,f=u.width;i.top+=c.top-c.marginTop,i.bottom=d+c.top,i.left+=c.left-c.marginLeft,i.right=f+c.left}else i=c}n=n||0;var p=typeof n=="number";return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function KV(t){var e=t.width,n=t.height;return e*n}function oA(t,e,n,r,s){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var o=Tb(n,r,i,s),l={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},c=Object.keys(l).map(function(p){return wr({key:p},l[p],{area:KV(l[p])})}).sort(function(p,g){return g.area-p.area}),u=c.filter(function(p){var g=p.width,v=p.height;return g>=n.clientWidth&&v>=n.clientHeight}),d=u.length>0?u[0].key:c[0].key,f=t.split("-")[1];return d+(f?"-"+f:"")}function aA(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=r?iA(e):hm(e,nA(n));return Nb(n,s,r)}function lA(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),s=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),i={width:t.offsetWidth+s,height:t.offsetHeight+r};return i}function fm(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function cA(t,e,n){n=n.split("-")[0];var r=lA(t),s={width:r.width,height:r.height},i=["right","left"].indexOf(n)!==-1,o=i?"top":"left",l=i?"left":"top",c=i?"height":"width",u=i?"width":"height";return s[o]=e[o]+e[c]/2-r[c]/2,n===l?s[l]=e[l]-r[u]:s[l]=e[fm(l)],s}function Ah(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function YV(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(s){return s[e]===n});var r=Ah(t,function(s){return s[e]===n});return t.indexOf(r)}function uA(t,e,n){var r=n===void 0?t:t.slice(0,YV(t,"name",n));return r.forEach(function(s){s.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=s.function||s.fn;s.enabled&&tA(i)&&(e.offsets.popper=wo(e.offsets.popper),e.offsets.reference=wo(e.offsets.reference),e=i(e,s))}),e}function QV(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=aA(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=oA(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=cA(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=uA(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function dA(t,e){return t.some(function(n){var r=n.name,s=n.enabled;return s&&r===e})}function Sb(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var s=e[r],i=s?""+s+n:t;if(typeof document.body.style[i]<"u")return i}return null}function ZV(){return this.state.isDestroyed=!0,dA(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Sb("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function hA(t){var e=t.ownerDocument;return e?e.defaultView:window}function fA(t,e,n,r){var s=t.nodeName==="BODY",i=s?t.ownerDocument.defaultView:t;i.addEventListener(e,n,{passive:!0}),s||fA(Ih(i.parentNode),e,n,r),r.push(i)}function XV(t,e,n,r){n.updateBound=r,hA(t).addEventListener("resize",n.updateBound,{passive:!0});var s=Ih(t);return fA(s,"scroll",n.updateBound,n.scrollParents),n.scrollElement=s,n.eventsEnabled=!0,n}function JV(){this.state.eventsEnabled||(this.state=XV(this.reference,this.options,this.state,this.scheduleUpdate))}function eF(t,e){return hA(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function tF(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=eF(this.reference,this.state))}function jb(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function ev(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&jb(e[n])&&(r="px"),t.style[n]=e[n]+r})}function nF(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function rF(t){return ev(t.instance.popper,t.styles),nF(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&ev(t.arrowElement,t.arrowStyles),t}function sF(t,e,n,r,s){var i=aA(s,e,t,n.positionFixed),o=oA(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),ev(e,{position:n.positionFixed?"fixed":"absolute"}),n}function iF(t,e){var n=t.offsets,r=n.popper,s=n.reference,i=Math.round,o=Math.floor,l=function(_){return _},c=i(s.width),u=i(r.width),d=["left","right"].indexOf(t.placement)!==-1,f=t.placement.indexOf("-")!==-1,p=c%2===u%2,g=c%2===1&&u%2===1,v=e?d||f||p?i:o:l,b=e?i:l;return{left:v(g&&!f&&e?r.left-1:r.left),top:b(r.top),bottom:b(r.bottom),right:v(r.right)}}var oF=kh&&/Firefox/i.test(navigator.userAgent);function aF(t,e){var n=e.x,r=e.y,s=t.offsets.popper,i=Ah(t.instance.modifiers,function(N){return N.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=i!==void 0?i:e.gpuAcceleration,l=dc(t.instance.popper),c=Jx(l),u={position:s.position},d=iF(t,window.devicePixelRatio<2||!oF),f=n==="bottom"?"top":"bottom",p=r==="right"?"left":"right",g=Sb("transform"),v=void 0,b=void 0;if(f==="bottom"?l.nodeName==="HTML"?b=-l.clientHeight+d.bottom:b=-c.height+d.bottom:b=d.top,p==="right"?l.nodeName==="HTML"?v=-l.clientWidth+d.right:v=-c.width+d.right:v=d.left,o&&g)u[g]="translate3d("+v+"px, "+b+"px, 0)",u[f]=0,u[p]=0,u.willChange="transform";else{var T=f==="bottom"?-1:1,_=p==="right"?-1:1;u[f]=b*T,u[p]=v*_,u.willChange=f+", "+p}var x={"x-placement":t.placement};return t.attributes=wr({},x,t.attributes),t.styles=wr({},u,t.styles),t.arrowStyles=wr({},t.offsets.arrow,t.arrowStyles),t}function pA(t,e,n){var r=Ah(t,function(l){var c=l.name;return c===e}),s=!!r&&t.some(function(l){return l.name===n&&l.enabled&&l.order<r.order});if(!s){var i="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return s}function lF(t,e){var n;if(!pA(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var s=t.placement.split("-")[0],i=t.offsets,o=i.popper,l=i.reference,c=["left","right"].indexOf(s)!==-1,u=c?"height":"width",d=c?"Top":"Left",f=d.toLowerCase(),p=c?"left":"top",g=c?"bottom":"right",v=lA(r)[u];l[g]-v<o[f]&&(t.offsets.popper[f]-=o[f]-(l[g]-v)),l[f]+v>o[g]&&(t.offsets.popper[f]+=l[f]+v-o[g]),t.offsets.popper=wo(t.offsets.popper);var b=l[f]+l[u]/2-v/2,T=Za(t.instance.popper),_=parseFloat(T["margin"+d]),x=parseFloat(T["border"+d+"Width"]),N=b-t.offsets.popper[f]-_-x;return N=Math.max(Math.min(o[u]-v,N),0),t.arrowElement=r,t.offsets.arrow=(n={},fc(n,f,Math.round(N)),fc(n,p,""),n),t}function cF(t){return t==="end"?"start":t==="start"?"end":t}var mA=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],a0=mA.slice(3);function VN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a0.indexOf(t),r=a0.slice(n+1).concat(a0.slice(0,n));return e?r.reverse():r}var l0={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function uF(t,e){if(dA(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=Tb(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],s=fm(r),i=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case l0.FLIP:o=[r,s];break;case l0.CLOCKWISE:o=VN(r);break;case l0.COUNTERCLOCKWISE:o=VN(r,!0);break;default:o=e.behavior}return o.forEach(function(l,c){if(r!==l||o.length===c+1)return t;r=t.placement.split("-")[0],s=fm(r);var u=t.offsets.popper,d=t.offsets.reference,f=Math.floor,p=r==="left"&&f(u.right)>f(d.left)||r==="right"&&f(u.left)<f(d.right)||r==="top"&&f(u.bottom)>f(d.top)||r==="bottom"&&f(u.top)<f(d.bottom),g=f(u.left)<f(n.left),v=f(u.right)>f(n.right),b=f(u.top)<f(n.top),T=f(u.bottom)>f(n.bottom),_=r==="left"&&g||r==="right"&&v||r==="top"&&b||r==="bottom"&&T,x=["top","bottom"].indexOf(r)!==-1,N=!!e.flipVariations&&(x&&i==="start"&&g||x&&i==="end"&&v||!x&&i==="start"&&b||!x&&i==="end"&&T),R=!!e.flipVariationsByContent&&(x&&i==="start"&&v||x&&i==="end"&&g||!x&&i==="start"&&T||!x&&i==="end"&&b),P=N||R;(p||_||P)&&(t.flipped=!0,(p||_)&&(r=o[c+1]),P&&(i=cF(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=wr({},t.offsets.popper,cA(t.instance.popper,t.offsets.reference,t.placement)),t=uA(t.instance.modifiers,t,"flip"))}),t}function dF(t){var e=t.offsets,n=e.popper,r=e.reference,s=t.placement.split("-")[0],i=Math.floor,o=["top","bottom"].indexOf(s)!==-1,l=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return n[l]<i(r[c])&&(t.offsets.popper[c]=i(r[c])-n[u]),n[c]>i(r[l])&&(t.offsets.popper[c]=i(r[l])),t}function hF(t,e,n,r){var s=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+s[1],o=s[2];if(!i)return t;if(o.indexOf("%")===0){var l=void 0;switch(o){case"%p":l=n;break;case"%":case"%r":default:l=r}var c=wo(l);return c[e]/100*i}else if(o==="vh"||o==="vw"){var u=void 0;return o==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*i}else return i}function fF(t,e,n,r){var s=[0,0],i=["right","left"].indexOf(r)!==-1,o=t.split(/(\+|\-)/).map(function(d){return d.trim()}),l=o.indexOf(Ah(o,function(d){return d.search(/,|\s/)!==-1}));o[l]&&o[l].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=l!==-1?[o.slice(0,l).concat([o[l].split(c)[0]]),[o[l].split(c)[1]].concat(o.slice(l+1))]:[o];return u=u.map(function(d,f){var p=(f===1?!i:i)?"height":"width",g=!1;return d.reduce(function(v,b){return v[v.length-1]===""&&["+","-"].indexOf(b)!==-1?(v[v.length-1]=b,g=!0,v):g?(v[v.length-1]+=b,g=!1,v):v.concat(b)},[]).map(function(v){return hF(v,p,e,n)})}),u.forEach(function(d,f){d.forEach(function(p,g){jb(p)&&(s[f]+=p*(d[g-1]==="-"?-1:1))})}),s}function pF(t,e){var n=e.offset,r=t.placement,s=t.offsets,i=s.popper,o=s.reference,l=r.split("-")[0],c=void 0;return jb(+n)?c=[+n,0]:c=fF(n,i,o,l),l==="left"?(i.top+=c[0],i.left-=c[1]):l==="right"?(i.top+=c[0],i.left+=c[1]):l==="top"?(i.left+=c[0],i.top-=c[1]):l==="bottom"&&(i.left+=c[0],i.top+=c[1]),t.popper=i,t}function mF(t,e){var n=e.boundariesElement||dc(t.instance.popper);t.instance.reference===n&&(n=dc(n));var r=Sb("transform"),s=t.instance.popper.style,i=s.top,o=s.left,l=s[r];s.top="",s.left="",s[r]="";var c=Tb(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);s.top=i,s.left=o,s[r]=l,e.boundaries=c;var u=e.priority,d=t.offsets.popper,f={primary:function(g){var v=d[g];return d[g]<c[g]&&!e.escapeWithReference&&(v=Math.max(d[g],c[g])),fc({},g,v)},secondary:function(g){var v=g==="right"?"left":"top",b=d[v];return d[g]>c[g]&&!e.escapeWithReference&&(b=Math.min(d[v],c[g]-(g==="right"?d.width:d.height))),fc({},v,b)}};return u.forEach(function(p){var g=["left","top"].indexOf(p)!==-1?"primary":"secondary";d=wr({},d,f[g](p))}),t.offsets.popper=d,t}function gF(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var s=t.offsets,i=s.reference,o=s.popper,l=["bottom","top"].indexOf(n)!==-1,c=l?"left":"top",u=l?"width":"height",d={start:fc({},c,i[c]),end:fc({},c,i[c]+i[u]-o[u])};t.offsets.popper=wr({},o,d[r])}return t}function yF(t){if(!pA(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Ah(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function xF(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,s=r.popper,i=r.reference,o=["left","right"].indexOf(n)!==-1,l=["top","left"].indexOf(n)===-1;return s[o?"left":"top"]=i[n]-(l?s[o?"width":"height"]:0),t.placement=fm(e),t.offsets.popper=wo(s),t}var vF={shift:{order:100,enabled:!0,fn:gF},offset:{order:200,enabled:!0,fn:pF,offset:0},preventOverflow:{order:300,enabled:!0,fn:mF,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:dF},arrow:{order:500,enabled:!0,fn:lF,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:uF,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:xF},hide:{order:800,enabled:!0,fn:yF},computeStyle:{order:850,enabled:!0,fn:aF,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:rF,onLoad:sF,gpuAcceleration:void 0}},wF={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:vF},Zd=function(){function t(e,n){var r=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};HV(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=BV(this.update.bind(this)),this.options=wr({},t.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(wr({},t.Defaults.modifiers,s.modifiers)).forEach(function(o){r.options.modifiers[o]=wr({},t.Defaults.modifiers[o]||{},s.modifiers?s.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return wr({name:o},r.options.modifiers[o])}).sort(function(o,l){return o.order-l.order}),this.modifiers.forEach(function(o){o.enabled&&tA(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return qV(t,[{key:"update",value:function(){return QV.call(this)}},{key:"destroy",value:function(){return ZV.call(this)}},{key:"enableEventListeners",value:function(){return JV.call(this)}},{key:"disableEventListeners",value:function(){return tF.call(this)}}]),t}();Zd.Utils=(typeof window<"u"?window:global).PopperUtils;Zd.placements=mA;Zd.Defaults=wF;var bF=["innerHTML","ownerDocument","style","attributes","nodeValue"],_F=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],EF=["bigint","boolean","null","number","string","symbol","undefined"];function Sg(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(NF(e))return e}function Jr(t){return function(e){return Sg(e)===t}}function NF(t){return _F.includes(t)}function $c(t){return function(e){return typeof e===t}}function TF(t){return EF.includes(t)}function z(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(z.array(t))return"Array";if(z.plainFunction(t))return"Function";var e=Sg(t);return e||"Object"}z.array=Array.isArray;z.arrayOf=function(t,e){return!z.array(t)&&!z.function(e)?!1:t.every(function(n){return e(n)})};z.asyncGeneratorFunction=function(t){return Sg(t)==="AsyncGeneratorFunction"};z.asyncFunction=Jr("AsyncFunction");z.bigint=$c("bigint");z.boolean=function(t){return t===!0||t===!1};z.date=Jr("Date");z.defined=function(t){return!z.undefined(t)};z.domElement=function(t){return z.object(t)&&!z.plainObject(t)&&t.nodeType===1&&z.string(t.nodeName)&&bF.every(function(e){return e in t})};z.empty=function(t){return z.string(t)&&t.length===0||z.array(t)&&t.length===0||z.object(t)&&!z.map(t)&&!z.set(t)&&Object.keys(t).length===0||z.set(t)&&t.size===0||z.map(t)&&t.size===0};z.error=Jr("Error");z.function=$c("function");z.generator=function(t){return z.iterable(t)&&z.function(t.next)&&z.function(t.throw)};z.generatorFunction=Jr("GeneratorFunction");z.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};z.iterable=function(t){return!z.nullOrUndefined(t)&&z.function(t[Symbol.iterator])};z.map=Jr("Map");z.nan=function(t){return Number.isNaN(t)};z.null=function(t){return t===null};z.nullOrUndefined=function(t){return z.null(t)||z.undefined(t)};z.number=function(t){return $c("number")(t)&&!z.nan(t)};z.numericString=function(t){return z.string(t)&&t.length>0&&!Number.isNaN(Number(t))};z.object=function(t){return!z.nullOrUndefined(t)&&(z.function(t)||typeof t=="object")};z.oneOf=function(t,e){return z.array(t)?t.indexOf(e)>-1:!1};z.plainFunction=Jr("Function");z.plainObject=function(t){if(Sg(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};z.primitive=function(t){return z.null(t)||TF(typeof t)};z.promise=Jr("Promise");z.propertyOf=function(t,e,n){if(!z.object(t)||!e)return!1;var r=t[e];return z.function(n)?n(r):z.defined(r)};z.regexp=Jr("RegExp");z.set=Jr("Set");z.string=$c("string");z.symbol=$c("symbol");z.undefined=$c("undefined");z.weakMap=Jr("WeakMap");z.weakSet=Jr("WeakSet");function gA(t){return function(e){return typeof e===t}}var SF=gA("function"),jF=function(t){return t===null},FN=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},UN=function(t){return!CF(t)&&!jF(t)&&(SF(t)||typeof t=="object")},CF=gA("undefined"),tv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function kF(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!$n(t[r],e[r]))return!1;return!0}function IF(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),s=t.byteLength;s--;)if(n.getUint8(s)!==r.getUint8(s))return!1;return!0}function AF(t,e){var n,r,s,i;if(t.size!==e.size)return!1;try{for(var o=tv(t.entries()),l=o.next();!l.done;l=o.next()){var c=l.value;if(!e.has(c[0]))return!1}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var u=tv(t.entries()),d=u.next();!d.done;d=u.next()){var c=d.value;if(!$n(c[1],e.get(c[0])))return!1}}catch(f){s={error:f}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}return!0}function PF(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var s=tv(t.entries()),i=s.next();!i.done;i=s.next()){var o=i.value;if(!e.has(o[0]))return!1}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return!0}function $n(t,e){if(t===e)return!0;if(t&&UN(t)&&e&&UN(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return kF(t,e);if(t instanceof Map&&e instanceof Map)return AF(t,e);if(t instanceof Set&&e instanceof Set)return PF(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return IF(t,e);if(FN(t)&&FN(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var s=n.length;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;for(var s=n.length;s--!==0;){var i=n[s];if(!(i==="_owner"&&t.$$typeof)&&!$n(t[i],e[i]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function RF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return z.string(n)||z.array(n)||z.plainObject(n)})}function OF(t,e,n){return yA(t,e)?[t,e].every(z.array)?!t.some(HN(n))&&e.some(HN(n)):[t,e].every(z.plainObject)?!Object.entries(t).some(WN(n))&&Object.entries(e).some(WN(n)):e===n:!1}function $N(t,e,n){var r=n.actual,s=n.key,i=n.previous,o=n.type,l=fs(t,s),c=fs(e,s),u=[l,c].every(z.number)&&(o==="increased"?l<c:l>c);return z.undefined(r)||(u=u&&c===r),z.undefined(i)||(u=u&&l===i),u}function BN(t,e,n){var r=n.key,s=n.type,i=n.value,o=fs(t,r),l=fs(e,r),c=s==="added"?o:l,u=s==="added"?l:o;if(!z.nullOrUndefined(i)){if(z.defined(c)){if(z.array(c)||z.plainObject(c))return OF(c,u,i)}else return $n(u,i);return!1}return[o,l].every(z.array)?!u.every(Cb(c)):[o,l].every(z.plainObject)?DF(Object.keys(c),Object.keys(u)):![o,l].every(function(d){return z.primitive(d)&&z.defined(d)})&&(s==="added"?!z.defined(o)&&z.defined(l):z.defined(o)&&!z.defined(l))}function zN(t,e,n){var r=n===void 0?{}:n,s=r.key,i=fs(t,s),o=fs(e,s);if(!yA(i,o))throw new TypeError("Inputs have different types");if(!RF(i,o))throw new TypeError("Inputs don't have length");return[i,o].every(z.plainObject)&&(i=Object.keys(i),o=Object.keys(o)),[i,o]}function WN(t){return function(e){var n=e[0],r=e[1];return z.array(t)?$n(t,r)||t.some(function(s){return $n(s,r)||z.array(r)&&Cb(r)(s)}):z.plainObject(t)&&t[n]?!!t[n]&&$n(t[n],r):$n(t,r)}}function DF(t,e){return e.some(function(n){return!t.includes(n)})}function HN(t){return function(e){return z.array(t)?t.some(function(n){return $n(n,e)||z.array(e)&&Cb(e)(n)}):$n(t,e)}}function Tu(t,e){return z.array(t)?t.some(function(n){return $n(n,e)}):$n(t,e)}function Cb(t){return function(e){return t.some(function(n){return $n(n,e)})}}function yA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(z.array)||t.every(z.number)||t.every(z.plainObject)||t.every(z.string)}function fs(t,e){if(z.plainObject(t)||z.array(t)){if(z.string(e)){var n=e.split(".");return n.reduce(function(r,s){return r&&r[s]},t)}return z.number(e)?t[e]:t}return t}function MF(t,e){if([t,e].some(z.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(f){return z.plainObject(f)||z.array(f)}))throw new Error("Expected plain objects or array");var n=function(f,p){try{return BN(t,e,{key:f,type:"added",value:p})}catch{return!1}},r=function(f,p,g){try{var v=fs(t,f),b=fs(e,f),T=z.defined(p),_=z.defined(g);if(T||_){var x=_?Tu(g,v):!Tu(p,v),N=Tu(p,b);return x&&N}return[v,b].every(z.array)||[v,b].every(z.plainObject)?!$n(v,b):v!==b}catch{return!1}},s=function(f,p,g){if(!z.defined(f))return!1;try{var v=fs(t,f),b=fs(e,f),T=z.defined(g);return Tu(p,v)&&(T?Tu(g,b):!T)}catch{return!1}},i=function(f,p){return z.defined(f)?r(f,p):!1},o=function(f,p,g){if(!z.defined(f))return!1;try{return $N(t,e,{key:f,actual:p,previous:g,type:"decreased"})}catch{return!1}},l=function(f){try{var p=zN(t,e,{key:f}),g=p[0],v=p[1];return!!g.length&&!v.length}catch{return!1}},c=function(f){try{var p=zN(t,e,{key:f}),g=p[0],v=p[1];return!g.length&&!!v.length}catch{return!1}},u=function(f,p,g){if(!z.defined(f))return!1;try{return $N(t,e,{key:f,actual:p,previous:g,type:"increased"})}catch{return!1}},d=function(f,p){try{return BN(t,e,{key:f,type:"removed",value:p})}catch{return!1}};return{added:n,changed:r,changedFrom:s,changedTo:i,decreased:o,emptied:l,filled:c,increased:u,removed:d}}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ph(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vA(r.key),r)}}function Rh(t,e,n){return e&&LF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gn(t,e,n){return e=vA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nv(t,e)}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nv(t,e)}function VF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function FF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function xA(t,e){if(t==null)return{};var n=FF(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UF(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zs(t)}function Dh(t){var e=VF();return function(){var r=pm(t),s;if(e){var i=pm(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return UF(this,s)}}function $F(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vA(t){var e=$F(t,"string");return typeof e=="symbol"?e:String(e)}var BF={flip:{padding:20},preventOverflow:{padding:10}},zF="The typeValidator argument must be a function with the signature function(props, propName, componentName).",WF="The error message is optional, but must be a string if provided.";function HF(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function qF(t,e){return Object.hasOwnProperty.call(t,e)}function GF(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function KF(t,e){if(typeof t!="function")throw new TypeError(zF);if(e&&typeof e!="string")throw new TypeError(WF)}function GN(t,e,n){return KF(t,n),function(r,s,i){for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return HF(e,r,s,i)?qF(r,s)?t.apply(void 0,[r,s,i].concat(l)):GF(r,s,i):t.apply(void 0,[r,s,i].concat(l))}}var We={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Su=_p.createPortal!==void 0;function ls(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function c0(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function zf(t){var e=t.title,n=t.data,r=t.warn,s=r===void 0?!1:r,i=t.debug,o=i===void 0?!1:i,l=s?console.warn||console.error:console.log;o&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(c){z.plainObject(c)&&c.key?l.apply(console,[c.key,c.value]):l.apply(console,[c])}):l.apply(console,[n]),console.groupEnd())}function YF(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function QF(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function ZF(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s;s=function(o){n(o),QF(t,e,s)},YF(t,e,s,r)}function KN(){}var wA=function(t){Oh(n,t);var e=Dh(n);function n(){return Ph(this,n),e.apply(this,arguments)}return Rh(n,[{key:"componentDidMount",value:function(){ls()&&(this.node||this.appendNode(),Su||this.renderPortal())}},{key:"componentDidUpdate",value:function(){ls()&&(Su||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!ls()||!this.node||(Su||_p.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var s=this.props,i=s.id,o=s.zIndex;this.node||(this.node=document.createElement("div"),i&&(this.node.id=i),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!ls())return null;var s=this.props,i=s.children,o=s.setRef;if(this.node||this.appendNode(),Su)return _p.createPortal(i,this.node);var l=_p.unstable_renderSubtreeIntoContainer(this,i.length>1?ne.createElement("div",null,i):i[0],this.node);return o(l),null}},{key:"renderReact16",value:function(){var s=this.props,i=s.hasChildren,o=s.placement,l=s.target;return i?this.renderPortal():l||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return Su?this.renderReact16():null}}]),n}(ne.Component);gn(wA,"propTypes",{children:H.oneOfType([H.element,H.array]),hasChildren:H.bool,id:H.oneOfType([H.string,H.number]),placement:H.string,setRef:H.func.isRequired,target:H.oneOfType([H.object,H.string]),zIndex:H.number});var bA=function(t){Oh(n,t);var e=Dh(n);function n(){return Ph(this,n),e.apply(this,arguments)}return Rh(n,[{key:"parentStyle",get:function(){var s=this.props,i=s.placement,o=s.styles,l=o.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return i.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=l):i.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=l):i.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):i.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var s=this.props,i=s.placement,o=s.setArrowRef,l=s.styles,c=l.arrow,u=c.color,d=c.display,f=c.length,p=c.margin,g=c.position,v=c.spread,b={display:d,position:g},T,_=v,x=f;return i.startsWith("top")?(T="0,0 ".concat(_/2,",").concat(x," ").concat(_,",0"),b.bottom=0,b.marginLeft=p,b.marginRight=p):i.startsWith("bottom")?(T="".concat(_,",").concat(x," ").concat(_/2,",0 0,").concat(x),b.top=0,b.marginLeft=p,b.marginRight=p):i.startsWith("left")?(x=v,_=f,T="0,0 ".concat(_,",").concat(x/2," 0,").concat(x),b.right=0,b.marginTop=p,b.marginBottom=p):i.startsWith("right")&&(x=v,_=f,T="".concat(_,",").concat(x," ").concat(_,",0 0,").concat(x/2),b.left=0,b.marginTop=p,b.marginBottom=p),ne.createElement("div",{className:"__floater__arrow",style:this.parentStyle},ne.createElement("span",{ref:o,style:b},ne.createElement("svg",{width:_,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},ne.createElement("polygon",{points:T,fill:u}))))}}]),n}(ne.Component);gn(bA,"propTypes",{placement:H.string.isRequired,setArrowRef:H.func.isRequired,styles:H.object.isRequired});var XF=["color","height","width"];function _A(t){var e=t.handleClick,n=t.styles,r=n.color,s=n.height,i=n.width,o=xA(n,XF);return ne.createElement("button",{"aria-label":"close",onClick:e,style:o,type:"button"},ne.createElement("svg",{width:"".concat(i,"px"),height:"".concat(s,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},ne.createElement("g",null,ne.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}_A.propTypes={handleClick:H.func.isRequired,styles:H.object.isRequired};function EA(t){var e=t.content,n=t.footer,r=t.handleClick,s=t.open,i=t.positionWrapper,o=t.showCloseButton,l=t.title,c=t.styles,u={content:ne.isValidElement(e)?e:ne.createElement("div",{className:"__floater__content",style:c.content},e)};return l&&(u.title=ne.isValidElement(l)?l:ne.createElement("div",{className:"__floater__title",style:c.title},l)),n&&(u.footer=ne.isValidElement(n)?n:ne.createElement("div",{className:"__floater__footer",style:c.footer},n)),(o||i)&&!z.boolean(s)&&(u.close=ne.createElement(_A,{styles:c.close,handleClick:r})),ne.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}EA.propTypes={content:H.node.isRequired,footer:H.node,handleClick:H.func.isRequired,open:H.bool,positionWrapper:H.bool.isRequired,showCloseButton:H.bool.isRequired,styles:H.object.isRequired,title:H.node};var NA=function(t){Oh(n,t);var e=Dh(n);function n(){return Ph(this,n),e.apply(this,arguments)}return Rh(n,[{key:"style",get:function(){var s=this.props,i=s.disableAnimation,o=s.component,l=s.placement,c=s.hideArrow,u=s.status,d=s.styles,f=d.arrow.length,p=d.floater,g=d.floaterCentered,v=d.floaterClosing,b=d.floaterOpening,T=d.floaterWithAnimation,_=d.floaterWithComponent,x={};return c||(l.startsWith("top")?x.padding="0 0 ".concat(f,"px"):l.startsWith("bottom")?x.padding="".concat(f,"px 0 0"):l.startsWith("left")?x.padding="0 ".concat(f,"px 0 0"):l.startsWith("right")&&(x.padding="0 0 0 ".concat(f,"px"))),[We.OPENING,We.OPEN].indexOf(u)!==-1&&(x=ft(ft({},x),b)),u===We.CLOSING&&(x=ft(ft({},x),v)),u===We.OPEN&&!i&&(x=ft(ft({},x),T)),l==="center"&&(x=ft(ft({},x),g)),o&&(x=ft(ft({},x),_)),ft(ft({},p),x)}},{key:"render",value:function(){var s=this.props,i=s.component,o=s.handleClick,l=s.hideArrow,c=s.setFloaterRef,u=s.status,d={},f=["__floater"];return i?ne.isValidElement(i)?d.content=ne.cloneElement(i,{closeFn:o}):d.content=i({closeFn:o}):d.content=ne.createElement(EA,this.props),u===We.OPEN&&f.push("__floater__open"),l||(d.arrow=ne.createElement(bA,this.props)),ne.createElement("div",{ref:c,className:f.join(" "),style:this.style},ne.createElement("div",{className:"__floater__body"},d.content,d.arrow))}}]),n}(ne.Component);gn(NA,"propTypes",{component:H.oneOfType([H.func,H.element]),content:H.node,disableAnimation:H.bool.isRequired,footer:H.node,handleClick:H.func.isRequired,hideArrow:H.bool.isRequired,open:H.bool,placement:H.string.isRequired,positionWrapper:H.bool.isRequired,setArrowRef:H.func.isRequired,setFloaterRef:H.func.isRequired,showCloseButton:H.bool,status:H.string.isRequired,styles:H.object.isRequired,title:H.node});var TA=function(t){Oh(n,t);var e=Dh(n);function n(){return Ph(this,n),e.apply(this,arguments)}return Rh(n,[{key:"render",value:function(){var s=this.props,i=s.children,o=s.handleClick,l=s.handleMouseEnter,c=s.handleMouseLeave,u=s.setChildRef,d=s.setWrapperRef,f=s.style,p=s.styles,g;if(i)if(ne.Children.count(i)===1)if(!ne.isValidElement(i))g=ne.createElement("span",null,i);else{var v=z.function(i.type)?"innerRef":"ref";g=ne.cloneElement(ne.Children.only(i),gn({},v,u))}else g=i;return g?ne.createElement("span",{ref:d,style:ft(ft({},p),f),onClick:o,onMouseEnter:l,onMouseLeave:c},g):null}}]),n}(ne.Component);gn(TA,"propTypes",{children:H.node,handleClick:H.func.isRequired,handleMouseEnter:H.func.isRequired,handleMouseLeave:H.func.isRequired,setChildRef:H.func.isRequired,setWrapperRef:H.func.isRequired,style:H.object,styles:H.object.isRequired});var JF={zIndex:100};function e9(t){var e=Br(JF,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var t9=["arrow","flip","offset"],n9=["position","top","right","bottom","left"],kb=function(t){Oh(n,t);var e=Dh(n);function n(r){var s;return Ph(this,n),s=e.call(this,r),gn(zs(s),"setArrowRef",function(i){s.arrowRef=i}),gn(zs(s),"setChildRef",function(i){s.childRef=i}),gn(zs(s),"setFloaterRef",function(i){s.floaterRef=i}),gn(zs(s),"setWrapperRef",function(i){s.wrapperRef=i}),gn(zs(s),"handleTransitionEnd",function(){var i=s.state.status,o=s.props.callback;s.wrapperPopper&&s.wrapperPopper.instance.update(),s.setState({status:i===We.OPENING?We.OPEN:We.IDLE},function(){var l=s.state.status;o(l===We.OPEN?"open":"close",s.props)})}),gn(zs(s),"handleClick",function(){var i=s.props,o=i.event,l=i.open;if(!z.boolean(l)){var c=s.state,u=c.positionWrapper,d=c.status;(s.event==="click"||s.event==="hover"&&u)&&(zf({title:"click",data:[{event:o,status:d===We.OPEN?"closing":"opening"}],debug:s.debug}),s.toggle())}}),gn(zs(s),"handleMouseEnter",function(){var i=s.props,o=i.event,l=i.open;if(!(z.boolean(l)||c0())){var c=s.state.status;s.event==="hover"&&c===We.IDLE&&(zf({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:s.debug}),clearTimeout(s.eventDelayTimeout),s.toggle())}}),gn(zs(s),"handleMouseLeave",function(){var i=s.props,o=i.event,l=i.eventDelay,c=i.open;if(!(z.boolean(c)||c0())){var u=s.state,d=u.status,f=u.positionWrapper;s.event==="hover"&&(zf({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:s.debug}),l?[We.OPENING,We.OPEN].indexOf(d)!==-1&&!f&&!s.eventDelayTimeout&&(s.eventDelayTimeout=setTimeout(function(){delete s.eventDelayTimeout,s.toggle()},l*1e3)):s.toggle(We.IDLE))}}),s.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:We.INIT,statusWrapper:We.INIT},s._isMounted=!1,s.hasMounted=!1,ls()&&window.addEventListener("load",function(){s.popper&&s.popper.instance.update(),s.wrapperPopper&&s.wrapperPopper.instance.update()}),s}return Rh(n,[{key:"componentDidMount",value:function(){if(ls()){var s=this.state.positionWrapper,i=this.props,o=i.children,l=i.open,c=i.target;this._isMounted=!0,zf({title:"init",data:{hasChildren:!!o,hasTarget:!!c,isControlled:z.boolean(l),positionWrapper:s,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&c&&z.boolean(l)}}},{key:"componentDidUpdate",value:function(s,i){if(ls()){var o=this.props,l=o.autoOpen,c=o.open,u=o.target,d=o.wrapperOptions,f=MF(i,this.state),p=f.changedFrom,g=f.changed;if(s.open!==c){var v;z.boolean(c)&&(v=c?We.OPENING:We.CLOSING),this.toggle(v)}(s.wrapperOptions.position!==d.position||s.target!==u)&&this.changeWrapperPosition(this.props),g("status",We.IDLE)&&c?this.toggle(We.OPEN):p("status",We.INIT,We.IDLE)&&l&&this.toggle(We.OPEN),this.popper&&g("status",We.OPENING)&&this.popper.instance.update(),this.floaterRef&&(g("status",We.OPENING)||g("status",We.CLOSING))&&ZF(this.floaterRef,"transitionend",this.handleTransitionEnd),g("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){ls()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var s=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,l=this.props,c=l.disableFlip,u=l.getPopper,d=l.hideArrow,f=l.offset,p=l.placement,g=l.wrapperOptions,v=p==="top"||p==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(p==="center")this.setState({status:We.IDLE});else if(i&&this.floaterRef){var b=this.options,T=b.arrow,_=b.flip,x=b.offset,N=xA(b,t9);new Zd(i,this.floaterRef,{placement:p,modifiers:ft({arrow:ft({enabled:!d,element:this.arrowRef},T),flip:ft({enabled:!c,behavior:v},_),offset:ft({offset:"0, ".concat(f,"px")},x)},N),onCreate:function(O){var S;if(s.popper=O,!((S=s.floaterRef)!==null&&S!==void 0&&S.isConnected)){s.setState({needsUpdate:!0});return}u(O,"floater"),s._isMounted&&s.setState({currentPlacement:O.placement,status:We.IDLE}),p!==O.placement&&setTimeout(function(){O.instance.update()},1)},onUpdate:function(O){s.popper=O;var S=s.state.currentPlacement;s._isMounted&&O.placement!==S&&s.setState({currentPlacement:O.placement})}})}if(o){var R=z.undefined(g.offset)?0:g.offset;new Zd(this.target,this.wrapperRef,{placement:g.placement||p,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(R,"px")},flip:{enabled:!1}},onCreate:function(O){s.wrapperPopper=O,s._isMounted&&s.setState({statusWrapper:We.IDLE}),u(O,"wrapper"),p!==O.placement&&setTimeout(function(){O.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var s=this;this.floaterRefInterval=setInterval(function(){var i;(i=s.floaterRef)!==null&&i!==void 0&&i.isConnected&&(clearInterval(s.floaterRefInterval),s.setState({needsUpdate:!1}),s.initPopper())},50)}},{key:"changeWrapperPosition",value:function(s){var i=s.target,o=s.wrapperOptions;this.setState({positionWrapper:o.position&&!!i})}},{key:"toggle",value:function(s){var i=this.state.status,o=i===We.OPEN?We.CLOSING:We.OPENING;z.undefined(s)||(o=s),this.setState({status:o})}},{key:"debug",get:function(){var s=this.props.debug;return s||ls()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var s=this.props,i=s.disableHoverToClick,o=s.event;return o==="hover"&&c0()&&!i?"click":o}},{key:"options",get:function(){var s=this.props.options;return Br(BF,s||{})}},{key:"styles",get:function(){var s=this,i=this.state,o=i.status,l=i.positionWrapper,c=i.statusWrapper,u=this.props.styles,d=Br(e9(u),u);if(l){var f;[We.IDLE].indexOf(o)===-1||[We.IDLE].indexOf(c)===-1?f=d.wrapperPosition:f=this.wrapperPopper.styles,d.wrapper=ft(ft({},d.wrapper),f)}if(this.target){var p=window.getComputedStyle(this.target);this.wrapperStyles?d.wrapper=ft(ft({},d.wrapper),this.wrapperStyles):["relative","static"].indexOf(p.position)===-1&&(this.wrapperStyles={},l||(n9.forEach(function(g){s.wrapperStyles[g]=p[g]}),d.wrapper=ft(ft({},d.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return d}},{key:"target",get:function(){if(!ls())return null;var s=this.props.target;return s?z.domElement(s)?s:document.querySelector(s):this.childRef||this.wrapperRef}},{key:"render",value:function(){var s=this.state,i=s.currentPlacement,o=s.positionWrapper,l=s.status,c=this.props,u=c.children,d=c.component,f=c.content,p=c.disableAnimation,g=c.footer,v=c.hideArrow,b=c.id,T=c.open,_=c.showCloseButton,x=c.style,N=c.target,R=c.title,P=ne.createElement(TA,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},u),O={};return o?O.wrapperInPortal=P:O.wrapperAsChildren=P,ne.createElement("span",null,ne.createElement(wA,{hasChildren:!!u,id:b,placement:i,setRef:this.setFloaterRef,target:N,zIndex:this.styles.options.zIndex},ne.createElement(NA,{component:d,content:f,disableAnimation:p,footer:g,handleClick:this.handleClick,hideArrow:v||i==="center",open:T,placement:i,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:_,status:l,styles:this.styles,title:R}),O.wrapperInPortal),O.wrapperAsChildren)}}]),n}(ne.Component);gn(kb,"propTypes",{autoOpen:H.bool,callback:H.func,children:H.node,component:GN(H.oneOfType([H.func,H.element]),function(t){return!t.content}),content:GN(H.node,function(t){return!t.component}),debug:H.bool,disableAnimation:H.bool,disableFlip:H.bool,disableHoverToClick:H.bool,event:H.oneOf(["hover","click"]),eventDelay:H.number,footer:H.node,getPopper:H.func,hideArrow:H.bool,id:H.oneOfType([H.string,H.number]),offset:H.number,open:H.bool,options:H.object,placement:H.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:H.bool,style:H.object,styles:H.object,target:H.oneOfType([H.object,H.string]),title:H.node,wrapperOptions:H.shape({offset:H.number,placement:H.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:H.bool})});gn(kb,"defaultProps",{autoOpen:!1,callback:KN,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:KN,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var r9=Object.defineProperty,s9=(t,e,n)=>e in t?r9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ge=(t,e,n)=>s9(t,typeof e!="symbol"?e+"":e,n),Qe={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Vr={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Oe={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Me={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function zi(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function SA(t){return t?t.getBoundingClientRect():null}function i9(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((i,o)=>i-o),s=Math.floor(r.length/2);return r.length%2===0?(r[s-1]+r[s])/2:r[s]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Ys(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function o9(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function Xd(t,e,n){if(!t)return xa();const r=QI(t);if(r){if(r.isSameNode(xa()))return n?document:xa();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",xa()}return r}function jg(t,e){if(!t)return!1;const n=Xd(t,e);return n?!n.isSameNode(xa()):!1}function a9(t){return t.offsetParent!==document.body}function pc(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=o9(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?pc(t.parentNode,e):!1}function l9(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:s}=getComputedStyle(n);if(r==="none"||s==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function c9(t,e,n){var r,s,i;const o=SA(t),l=Xd(t,n),c=jg(t,n),u=pc(t);let d=0,f=(r=o==null?void 0:o.top)!=null?r:0;if(c&&u){const p=(s=t==null?void 0:t.offsetTop)!=null?s:0,g=(i=l==null?void 0:l.scrollTop)!=null?i:0;f=p-g}else l instanceof HTMLElement&&(d=l.scrollTop,!c&&!pc(t)&&(f+=d),l.isSameNode(xa())||(f+=xa().scrollTop));return Math.floor(f-e)}function u9(t,e,n){var r;if(!t)return 0;const{offsetTop:s=0,scrollTop:i=0}=(r=QI(t))!=null?r:{};let o=t.getBoundingClientRect().top+i;s&&(jg(t,n)||a9(t))&&(o-=s);const l=Math.floor(o-e);return l<0?0:l}function xa(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function d9(t,e){const{duration:n,element:r}=e;return new Promise((s,i)=>{const{scrollTop:o}=r,l=t>o?t-o:o-t;pV.top(r,t,{duration:l<100?50:n},c=>c&&c.message!=="Element already at target scroll position"?i(c):s())})}var ju=ja.createPortal!==void 0;function jA(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function Ep(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function cs(t,e={}){const{defaultValue:n,step:r,steps:s}=e;let i=PN(t);if(i)(i.includes("{step}")||i.includes("{steps}"))&&r&&s&&(i=i.replace("{step}",r.toString()).replace("{steps}",s.toString()));else if(y.isValidElement(t)&&!Object.values(t.props).length&&Ep(t.type)==="function"){const o=t.type({});i=cs(o,e)}else i=PN(n);return i}function h9(t,e){return!me.plainObject(t)||!me.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function f9(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(s,i,o,l)=>i+i+o+o+l+l),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function YN(t){return t.disableBeacon||t.placement==="center"}function QN(){return!["chrome","safari","firefox","opera"].includes(jA())}function Ma({data:t,debug:e=!1,title:n,warn:r=!1}){const s=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(i=>{me.plainObject(i)&&i.key?s.apply(console,[i.key,i.value]):s.apply(console,[i])}):s.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function p9(t){return Object.keys(t)}function CA(t,...e){if(!me.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function m9(t,...e){if(!me.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function rv(t,e,n){const r=i=>i.replace("{step}",String(e)).replace("{steps}",String(n));if(Ep(t)==="string")return r(t);if(!y.isValidElement(t))return t;const{children:s}=t.props;if(Ep(s)==="string"&&s.includes("{step}"))return y.cloneElement(t,{children:r(s)});if(Array.isArray(s))return y.cloneElement(t,{children:s.map(i=>typeof i=="string"?r(i):rv(i,e,n))});if(Ep(t.type)==="function"&&!Object.values(t.props).length){const i=t.type({});return rv(i,e,n)}return t}function g9(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:s,step:i,target:o}=t;return!i.disableScrolling&&(!e||s||n===Oe.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!pc(o))&&r!==n&&[Oe.BEACON,Oe.TOOLTIP].includes(n)}var y9={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},kA={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},x9={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:kA,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},v9={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},w9={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Cu={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},ZN={borderRadius:4,position:"absolute"};function b9(t,e){var n,r,s,i,o;const{floaterProps:l,styles:c}=t,u=Br((n=e.floaterProps)!=null?n:{},l??{}),d=Br(c??{},(r=e.styles)!=null?r:{}),f=Br(w9,d.options||{}),p=e.placement==="center"||e.disableBeacon;let{width:g}=f;window.innerWidth>480&&(g=380),"width"in f&&(g=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const v={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},b={beacon:{...Cu,display:p?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${f9(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:g},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Cu,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Cu,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Cu,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Cu,color:f.textColor,fontSize:14},overlay:{...v,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...v},overlayLegacyCenter:{...v,backgroundColor:f.overlayColor},spotlight:{...ZN,backgroundColor:"gray"},spotlightLegacy:{...ZN,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(i=(s=u==null?void 0:u.styles)==null?void 0:s.arrow)==null?void 0:i.color)!=null?o:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return Br(b,d)}function _9(t){return m9(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function bl(t,e){var n,r,s,i,o,l;const c=e??{},u=Br.all([x9,_9(t),c],{isMergeableObject:me.plainObject}),d=b9(t,u),f=jg(Ys(u.target),u.disableScrollParentFix),p=Br.all([y9,(n=t.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return p.offset=u.offset,p.styles=Br((s=p.styles)!=null?s:{},d.floaterStyles),p.offset+=(o=(i=t.spotlightPadding)!=null?i:u.spotlightPadding)!=null?o:0,u.placementBeacon&&p.wrapperOptions&&(p.wrapperOptions.placement=u.placementBeacon),f&&p.options.preventOverflow&&(p.options.preventOverflow.boundariesElement="window"),{...u,locale:Br.all([kA,(l=t.locale)!=null?l:{},u.locale||{}]),floaterProps:p,styles:CA(d,"floaterStyles")}}function IA(t,e=!1){return me.plainObject(t)?t.target?!0:(Ma({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(Ma({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function XN(t,e=!1){return me.array(t)?t.every(n=>IA(n,e)):(Ma({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var AA={action:"init",controlled:!1,index:0,lifecycle:Oe.INIT,origin:null,size:0,status:Me.IDLE},JN=p9(CA(AA,"controlled","size")),E9=class{constructor(t){ge(this,"beaconPopper"),ge(this,"tooltipPopper"),ge(this,"data",new Map),ge(this,"listener"),ge(this,"store",new Map),ge(this,"addListener",s=>{this.listener=s}),ge(this,"setSteps",s=>{const{size:i,status:o}=this.getState(),l={size:s.length,status:o};this.data.set("steps",s),o===Me.WAITING&&!i&&s.length&&(l.status=Me.RUNNING),this.setState(l)}),ge(this,"getPopper",s=>s==="beacon"?this.beaconPopper:this.tooltipPopper),ge(this,"setPopper",(s,i)=>{s==="beacon"?this.beaconPopper=i:this.tooltipPopper=i}),ge(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),ge(this,"close",(s=null)=>{const{index:i,status:o}=this.getState();o===Me.RUNNING&&this.setState({...this.getNextState({action:Qe.CLOSE,index:i+1,origin:s})})}),ge(this,"go",s=>{const{controlled:i,status:o}=this.getState();if(i||o!==Me.RUNNING)return;const l=this.getSteps()[s];this.setState({...this.getNextState({action:Qe.GO,index:s}),status:l?o:Me.FINISHED})}),ge(this,"info",()=>this.getState()),ge(this,"next",()=>{const{index:s,status:i}=this.getState();i===Me.RUNNING&&this.setState(this.getNextState({action:Qe.NEXT,index:s+1}))}),ge(this,"open",()=>{const{status:s}=this.getState();s===Me.RUNNING&&this.setState({...this.getNextState({action:Qe.UPDATE,lifecycle:Oe.TOOLTIP})})}),ge(this,"prev",()=>{const{index:s,status:i}=this.getState();i===Me.RUNNING&&this.setState({...this.getNextState({action:Qe.PREV,index:s-1})})}),ge(this,"reset",(s=!1)=>{const{controlled:i}=this.getState();i||this.setState({...this.getNextState({action:Qe.RESET,index:0}),status:s?Me.RUNNING:Me.READY})}),ge(this,"skip",()=>{const{status:s}=this.getState();s===Me.RUNNING&&this.setState({action:Qe.SKIP,lifecycle:Oe.INIT,status:Me.SKIPPED})}),ge(this,"start",s=>{const{index:i,size:o}=this.getState();this.setState({...this.getNextState({action:Qe.START,index:me.number(s)?s:i},!0),status:o?Me.RUNNING:Me.WAITING})}),ge(this,"stop",(s=!1)=>{const{index:i,status:o}=this.getState();[Me.FINISHED,Me.SKIPPED].includes(o)||this.setState({...this.getNextState({action:Qe.STOP,index:i+(s?1:0)}),status:Me.PAUSED})}),ge(this,"update",s=>{var i,o;if(!h9(s,JN))throw new Error(`State is not valid. Valid keys: ${JN.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...s,action:(i=s.action)!=null?i:Qe.UPDATE,origin:(o=s.origin)!=null?o:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:Qe.INIT,controlled:me.number(n),continuous:e,index:me.number(n)?n:0,lifecycle:Oe.INIT,origin:null,status:r.length?Me.READY:Me.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...AA}}getNextState(t,e=!1){var n,r,s,i,o;const{action:l,controlled:c,index:u,size:d,status:f}=this.getState(),p=me.number(t.index)?t.index:u,g=c&&!e?u:Math.min(Math.max(p,0),d);return{action:(n=t.action)!=null?n:l,controlled:c,index:g,lifecycle:(r=t.lifecycle)!=null?r:Oe.INIT,origin:(s=t.origin)!=null?s:null,size:(i=t.size)!=null?i:d,status:g===d?Me.FINISHED:(o=t.status)!=null?o:f}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:s,lifecycle:i,origin:o=null,size:l,status:c}={...n,...t};this.store.set("action",r),this.store.set("index",s),this.store.set("lifecycle",i),this.store.set("origin",o),this.store.set("size",l),this.store.set("status",c),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function N9(t){return new E9(t)}function T9({styles:t}){return y.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var S9=T9,j9=class extends y.Component{constructor(){super(...arguments),ge(this,"isActive",!1),ge(this,"resizeTimeout"),ge(this,"scrollTimeout"),ge(this,"scrollParent"),ge(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),ge(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Oe.INIT,Oe.BEACON,Oe.COMPLETE,Oe.ERROR];return e||(t?r.includes(n):n!==Oe.TOOLTIP)}),ge(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:s,top:i,width:o}=this.spotlightStyles,l=s==="fixed"?t.clientY:t.pageY,c=s==="fixed"?t.clientX:t.pageX,u=l>=i&&l<=i+n,f=c>=r&&c<=r+o&&u;f!==e&&this.updateState({mouseOverSpotlight:f})}),ge(this,"handleScroll",()=>{const{target:t}=this.props,e=Ys(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else pc(e,"sticky")&&this.updateState({})}),ge(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,s=Ys(r);this.scrollParent=Xd(s??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:s,target:i}=this.props,{changed:o}=dm(t,this.props);if(o("target")||o("disableScrollParentFix")){const l=Ys(i);this.scrollParent=Xd(l??document.body,n,!0)}o("lifecycle",Oe.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:l}=this.state;l||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(s&&r===Oe.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Oe.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let s=r.overlay;return QN()&&(s=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:i9(),pointerEvents:t?"none":"auto",...s}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:s=!1,spotlightClicks:i,spotlightPadding:o=0,styles:l,target:c}=this.props,u=Ys(c),d=SA(u),f=pc(u),p=c9(u,o,s);return{...QN()?l.spotlightLegacy:l.spotlight,height:Math.round(((t=d==null?void 0:d.height)!=null?t:0)+o*2),left:Math.round(((e=d==null?void 0:d.left)!=null?e:0)-o),opacity:r?1:0,pointerEvents:i?"none":"auto",position:f?"fixed":"absolute",top:p,transition:"opacity 0.2s",width:Math.round(((n=d==null?void 0:d.width)!=null?n:0)+o*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:s,spotlightStyles:i}=this;if(r())return null;let o=n!=="center"&&t&&y.createElement(S9,{styles:i});if(jA()==="safari"){const{mixBlendMode:l,zIndex:c,...u}=s;o=y.createElement("div",{style:{...u}},o),delete s.backgroundColor}return y.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:s},o)}},C9=class extends y.Component{constructor(){super(...arguments),ge(this,"node",null)}componentDidMount(){const{id:t}=this.props;zi()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),ju||this.renderReact15())}componentDidUpdate(){zi()&&(ju||this.renderReact15())}componentWillUnmount(){!zi()||!this.node||(ju||ja.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!zi())return;const{children:t}=this.props;this.node&&ja.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!zi()||!ju)return null;const{children:t}=this.props;return this.node?ja.createPortal(t,this.node):null}render(){return ju?this.renderReact16():null}},k9=class{constructor(t,e){if(ge(this,"element"),ge(this,"options"),ge(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),ge(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,s=n.nodeName.toLowerCase();return(r.test(s)&&!n.getAttribute("disabled")||s==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),ge(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),ge(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),ge(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:s}=n;if(!r.length)return;let i=document.activeElement?r.indexOf(document.activeElement):0;i===-1||!s&&i+1===r.length?i=0:s&&i===0?i=r.length-1:i+=s?-1:1,r[i].focus()}),ge(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,s=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&s.getPropertyValue("overflow")!=="visible"||s.getPropertyValue("display")==="none"}),ge(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),ge(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),ge(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),ge(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},I9=class extends y.Component{constructor(t){if(super(t),ge(this,"beacon",null),ge(this,"setBeaconRef",s=>{this.beacon=s}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{me.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:s,onClickOrHover:i,size:o,step:l,styles:c}=this.props,u=cs(s.open),d={"aria-label":u,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:u};let f;if(t){const p=t;f=y.createElement(p,{continuous:e,index:n,isLastStep:r,size:o,step:l,...d})}else f=y.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...d},y.createElement("span",{style:c.beaconInner}),y.createElement("span",{style:c.beaconOuter}));return f}};function A9({styles:t,...e}){const{color:n,height:r,width:s,...i}=t;return ne.createElement("button",{style:i,type:"button",...e},ne.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof s=="number"?`${s}px`:s,xmlns:"http://www.w3.org/2000/svg"},ne.createElement("g",null,ne.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var P9=A9;function R9(t){const{backProps:e,closeProps:n,index:r,isLastStep:s,primaryProps:i,skipProps:o,step:l,tooltipProps:c}=t,{content:u,hideBackButton:d,hideCloseButton:f,hideFooter:p,showSkipButton:g,styles:v,title:b}=l,T={};return T.primary=y.createElement("button",{"data-test-id":"button-primary",style:v.buttonNext,type:"button",...i}),g&&!s&&(T.skip=y.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:v.buttonSkip,type:"button",...o})),!d&&r>0&&(T.back=y.createElement("button",{"data-test-id":"button-back",style:v.buttonBack,type:"button",...e})),T.close=!f&&y.createElement(P9,{"data-test-id":"button-close",styles:v.buttonClose,...n}),y.createElement("div",{key:"JoyrideTooltip","aria-label":cs(b??u),className:"react-joyride__tooltip",style:v.tooltip,...c},y.createElement("div",{style:v.tooltipContainer},b&&y.createElement("h1",{"aria-label":cs(b),style:v.tooltipTitle},b),y.createElement("div",{style:v.tooltipContent},u)),!p&&y.createElement("div",{style:v.tooltipFooter},y.createElement("div",{style:v.tooltipFooterSpacer},T.skip),T.back,T.primary),T.close)}var O9=R9,D9=class extends y.Component{constructor(){super(...arguments),ge(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),ge(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),ge(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),ge(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),ge(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:s,step:i}=this.props,{back:o,close:l,last:c,next:u,nextLabelWithProgress:d,skip:f}=i.locale,p=cs(o),g=cs(l),v=cs(c),b=cs(u),T=cs(f);let _=l,x=g;if(t){if(_=u,x=b,i.showProgress&&!n){const N=cs(d,{step:e+1,steps:s});_=rv(d,e+1,s),x=N}n&&(_=c,x=v)}return{backProps:{"aria-label":p,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:p},closeProps:{"aria-label":g,children:l,"data-action":"close",onClick:this.handleClickClose,role:"button",title:g},primaryProps:{"aria-label":x,children:_,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":T,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:T},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:s,step:i}=this.props,{beaconComponent:o,tooltipComponent:l,...c}=i;let u;if(l){const d={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:s,step:c,setTooltipRef:r},f=l;u=y.createElement(f,{...d})}else u=y.createElement(O9,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:s,step:i});return u}},M9=class extends y.Component{constructor(){super(...arguments),ge(this,"scope",null),ge(this,"tooltip",null),ge(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Oe.TOOLTIP})}),ge(this,"setTooltipRef",t=>{this.tooltip=t}),ge(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:s,step:i,store:o}=this.props;e==="wrapper"?o.setPopper("beacon",t):o.setPopper("tooltip",t),o.getPopper("beacon")&&(o.getPopper("tooltip")||i.placement==="center")&&s===Oe.INIT&&o.update({action:r,lifecycle:Oe.READY}),(n=i.floaterProps)!=null&&n.getPopper&&i.floaterProps.getPopper(t,e)}),ge(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:s,step:i}=this.props;return y.createElement(D9,{continuous:e,helpers:n,index:r,isLastStep:r+1===s,setTooltipRef:this.setTooltipRef,size:s,step:i,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;Ma({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:s,controlled:i,debug:o,helpers:l,index:c,lifecycle:u,shouldScroll:d,status:f,step:p,store:g}=this.props,{changed:v,changedFrom:b}=dm(t,this.props),T=l.info(),_=s&&n!==Qe.CLOSE&&(c>0||n===Qe.PREV),x=v("action")||v("index")||v("lifecycle")||v("status"),N=b("lifecycle",[Oe.TOOLTIP,Oe.INIT],Oe.INIT),R=v("action",[Qe.NEXT,Qe.PREV,Qe.SKIP,Qe.CLOSE]),P=i&&c===t.index;if(R&&(N||P)&&r({...T,index:t.index,lifecycle:Oe.COMPLETE,step:t.step,type:Vr.STEP_AFTER}),p.placement==="center"&&f===Me.RUNNING&&v("index")&&n!==Qe.START&&u===Oe.INIT&&g.update({lifecycle:Oe.READY}),x){const O=Ys(p.target),S=!!O;S&&l9(O)?(b("status",Me.READY,Me.RUNNING)||b("lifecycle",Oe.INIT,Oe.READY))&&r({...T,step:p,type:Vr.STEP_BEFORE}):(console.warn(S?"Target not visible":"Target not mounted",p),r({...T,type:Vr.TARGET_NOT_FOUND,step:p}),i||g.update({index:c+(n===Qe.PREV?-1:1)}))}b("lifecycle",Oe.INIT,Oe.READY)&&g.update({lifecycle:YN(p)||_?Oe.TOOLTIP:Oe.BEACON}),v("index")&&Ma({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:o}),v("lifecycle",Oe.BEACON)&&r({...T,step:p,type:Vr.BEACON}),v("lifecycle",Oe.TOOLTIP)&&(r({...T,step:p,type:Vr.TOOLTIP}),d&&this.tooltip&&(this.scope=new k9(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),b("lifecycle",[Oe.TOOLTIP,Oe.INIT],Oe.INIT)&&((e=this.scope)==null||e.removeScope(),g.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return YN(e)||t===Oe.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:s,size:i,step:o}=this.props,l=Ys(o.target);return!IA(o)||!me.domElement(l)?null:y.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},y.createElement(kb,{...o.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:o.placement,target:o.target},y.createElement(I9,{beaconComponent:o.beaconComponent,continuous:t,index:n,isLastStep:n+1===i,locale:o.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:s,size:i,step:o,styles:o.styles})))}},PA=class extends y.Component{constructor(t){super(t),ge(this,"helpers"),ge(this,"store"),ge(this,"callback",o=>{const{callback:l}=this.props;me.function(l)&&l(o)}),ge(this,"handleKeyboard",o=>{const{index:l,lifecycle:c}=this.state,{steps:u}=this.props,d=u[l];c===Oe.TOOLTIP&&o.code==="Escape"&&d&&!d.disableCloseOnEsc&&this.store.close("keyboard")}),ge(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:l}=this.props;bl(this.props,l[o]).disableOverlayClose||this.helpers.close("overlay")}),ge(this,"syncState",o=>{this.setState(o)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:s}=t;this.store=N9({...t,controlled:r&&me.number(s)}),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;Ma({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),i(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!zi())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:s}=this.store;XN(r,t)&&n&&s(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!zi())return;const{action:n,controlled:r,index:s,status:i}=this.state,{debug:o,run:l,stepIndex:c,steps:u}=this.props,{stepIndex:d,steps:f}=t,{reset:p,setSteps:g,start:v,stop:b,update:T}=this.store,{changed:_}=dm(t,this.props),{changed:x,changedFrom:N}=dm(e,this.state),R=bl(this.props,u[s]),P=!Cn(f,u),O=me.number(c)&&_("stepIndex"),S=Ys(R.target);if(P&&(XN(u,o)?g(u):console.warn("Steps are not valid",u)),_("run")&&(l?v(c):b()),O){let A=me.number(d)&&d<c?Qe.NEXT:Qe.PREV;n===Qe.STOP&&(A=Qe.START),[Me.FINISHED,Me.SKIPPED].includes(i)||T({action:n===Qe.CLOSE?Qe.CLOSE:A,index:c,lifecycle:Oe.INIT})}!r&&i===Me.RUNNING&&s===0&&!S&&(this.store.update({index:s+1}),this.callback({...this.state,type:Vr.TARGET_NOT_FOUND,step:R}));const E={...this.state,index:s,step:R};if(x("action",[Qe.NEXT,Qe.PREV,Qe.SKIP,Qe.CLOSE])&&x("status",Me.PAUSED)){const A=bl(this.props,u[e.index]);this.callback({...E,index:e.index,lifecycle:Oe.COMPLETE,step:A,type:Vr.STEP_AFTER})}if(x("status",[Me.FINISHED,Me.SKIPPED])){const A=bl(this.props,u[e.index]);r||this.callback({...E,index:e.index,lifecycle:Oe.COMPLETE,step:A,type:Vr.STEP_AFTER}),this.callback({...E,type:Vr.TOUR_END,step:A,index:e.index}),p()}else N("status",[Me.IDLE,Me.READY],Me.RUNNING)?this.callback({...E,type:Vr.TOUR_START}):(x("status")||x("action",Qe.RESET))&&this.callback({...E,type:Vr.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:s,disableScrollParentFix:i=!1,scrollDuration:o,scrollOffset:l=20,scrollToFirstStep:c=!1,steps:u}=this.props,d=bl(this.props,u[e]),f=Ys(d.target),p=g9({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:c,step:d,target:f});if(r===Me.RUNNING&&p){const g=jg(f,i),v=Xd(f,i);let b=Math.floor(u9(f,l,i))||0;Ma({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:s});const T=this.store.getPopper("beacon"),_=this.store.getPopper("tooltip");if(n===Oe.BEACON&&T){const{offsets:x,placement:N}=T;!["bottom"].includes(N)&&!g&&(b=Math.floor(x.popper.top-l))}else if(n===Oe.TOOLTIP&&_){const{flipped:x,offsets:N,placement:R}=_;["top","right","left"].includes(R)&&!x&&!g?b=Math.floor(N.popper.top-l):b-=d.spotlightPadding}b=b>=0?b:0,r===Me.RUNNING&&d9(b,{element:v,duration:o}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!zi())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:s=!1,nonce:i,scrollToFirstStep:o=!1,steps:l}=this.props,c=n===Me.RUNNING,u={};if(c&&l[t]){const d=bl(this.props,l[t]);u.step=y.createElement(M9,{...this.state,callback:this.callback,continuous:r,debug:s,helpers:this.helpers,nonce:i,shouldScroll:!d.disableScrolling&&(t!==0||o),step:d,store:this.store}),u.overlay=y.createElement(C9,{id:"react-joyride-portal"},y.createElement(j9,{...d,continuous:r,debug:s,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return y.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};ge(PA,"defaultProps",v9);var L9=PA;function eT(t,e){const n=()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.warn(`Error reading localStorage key "${t}":`,o),e}},[r,s]=y.useState(n),i=o=>{try{const l=o instanceof Function?o(r):o;s(l),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(l))}catch(l){console.warn(`Error setting localStorage key "${t}":`,l)}};return y.useEffect(()=>{s(n())},[]),[r,i]}const V9=y.createContext(void 0),F9=[{target:"body",content:"Welcome to CredExis! Let's take a quick tour of our main features.",placement:"center",disableBeacon:!0},{target:".dashboard-widget",content:"This is your dashboard where you can see all your important metrics at a glance.",placement:"bottom"},{target:".clients-section",content:"Manage your clients and their information here.",placement:"right"},{target:".tasks-section",content:"Keep track of your tasks and deadlines in this section.",placement:"left"},{target:".reports-section",content:"Generate and view detailed reports about your business.",placement:"top"}],U9=({children:t})=>{const[e,n]=y.useState(!1),[r,s]=eT("isFirstVisit",!0),[i,o]=eT("hasCompletedOnboarding",!1);y.useEffect(()=>{r&&!i&&n(!0)},[r,i]);const l=d=>{const{status:f}=d;(f===Me.FINISHED||f===Me.SKIPPED)&&(n(!1),s(!1),o(!0))},c=()=>{n(!0)},u=()=>{s(!1),o(!0)};return a.jsxs(V9.Provider,{value:{startTour:c,isFirstVisit:r,completeOnboarding:u},children:[t,a.jsx(L9,{steps:F9,run:e,continuous:!0,showProgress:!0,showSkipButton:!0,callback:l,styles:{options:{primaryColor:"#4F46E5",zIndex:1e3}}})]})};var $9=Object.defineProperty,B9=(t,e,n)=>e in t?$9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u0=(t,e,n)=>(B9(t,typeof e!="symbol"?e+"":e,n),n);let z9=class{constructor(){u0(this,"current",this.detect()),u0(this,"handoffState","pending"),u0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Js=new z9,ui=(t,e)=>{Js.isServer?y.useEffect(t,e):y.useLayoutEffect(t,e)};function Cg(t){let e=y.useRef(t);return ui(()=>{e.current=t},[t]),e}let _n=function(t){let e=Cg(t);return ne.useCallback((...n)=>e.current(...n),[e])};function kg(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ig(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return kg(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Ig();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function W9(){let[t]=y.useState(Ig);return y.useEffect(()=>()=>t.dispose(),[t]),t}function H9(){let t=typeof document>"u";return"useSyncExternalStore"in nc?(e=>e.useSyncExternalStore)(nc)(()=>()=>{},()=>!1,()=>!t):!1}function Ag(){let t=H9(),[e,n]=y.useState(Js.isHandoffComplete);return e&&Js.isHandoffComplete===!1&&n(!1),y.useEffect(()=>{e!==!0&&n(!0)},[e]),y.useEffect(()=>Js.handoff(),[]),t?!1:e}var tT;let Bc=(tT=ne.useId)!=null?tT:function(){let t=Ag(),[e,n]=ne.useState(t?()=>Js.nextId():null);return ui(()=>{e===null&&n(Js.nextId())},[e]),e!=null?""+e:void 0};function bo(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,bo),r}function RA(t){return Js.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let sv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ca=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ca||{}),OA=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(OA||{}),q9=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(q9||{});function G9(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(sv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var DA=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(DA||{});function K9(t,e=0){var n;return t===((n=RA(t))==null?void 0:n.body)?!1:bo(e,{0(){return t.matches(sv)},1(){let r=t;for(;r!==null;){if(r.matches(sv))return!0;r=r.parentElement}return!1}})}var Y9=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Y9||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ca(t){t==null||t.focus({preventScroll:!0})}let Q9=["textarea","input"].join(",");function Z9(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Q9))!=null?n:!1}function X9(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Np(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?X9(t):t:G9(t);s.length>0&&o.length>1&&(o=o.filter(g=>!s.includes(g))),r=r??i.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=o.length,p;do{if(d>=f||d+f<=0)return 0;let g=c+d;if(e&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}p=o[g],p==null||p.focus(u),d+=l}while(p!==i.activeElement);return e&6&&Z9(p)&&p.select(),2}function MA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function J9(){return/Android/gi.test(window.navigator.userAgent)}function eU(){return MA()||J9()}function Wf(t,e,n){let r=Cg(e);y.useEffect(()=>{function s(i){r.current(i)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[t,n])}function LA(t,e,n){let r=Cg(e);y.useEffect(()=>{function s(i){r.current(i)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[t,n])}function tU(t,e,n=!0){let r=y.useRef(!1);y.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(o,l){if(!r.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||o.composed&&o.composedPath().includes(f))return}return!K9(c,DA.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let i=y.useRef(null);Wf("pointerdown",o=>{var l,c;r.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Wf("mousedown",o=>{var l,c;r.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Wf("click",o=>{eU()||i.current&&(s(o,()=>i.current),i.current=null)},!0),Wf("touchend",o=>s(o,()=>o.target instanceof HTMLElement?o.target:null),!0),LA("blur",o=>s(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Mh(...t){return y.useMemo(()=>RA(...t),[...t])}let VA=Symbol();function nU(t,e=!0){return Object.assign(t,{[VA]:e})}function Ei(...t){let e=y.useRef(t);y.useEffect(()=>{e.current=t},[t]);let n=_n(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[VA]))?void 0:n}function Ib(t,e){let n=y.useRef([]),r=_n(t);y.useEffect(()=>{let s=[...n.current];for(let[i,o]of e.entries())if(n.current[i]!==o){let l=r(e,s);return n.current=e,l}},[r,...e])}function nT(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var iv=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(iv||{}),rU=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(rU||{});function js({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??sU;let c=FA(e,t);if(i)return Hf(c,n,r,o,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Hf(f,n,r,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return bo(d?0:1,{0(){return null},1(){return Hf({...f,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return Hf(c,n,r,o,l)}function Hf(t,e={},n,r,s){let{as:i=n,children:o,refName:l="ref",...c}=d0(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let p=!1,g=[];for(let[v,b]of Object.entries(e))typeof b=="boolean"&&(p=!0),b===!0&&g.push(v);p&&(f["data-headlessui-state"]=g.join(" "))}if(i===y.Fragment&&Object.keys(rT(c)).length>0){if(!y.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let p=d.props,g=typeof(p==null?void 0:p.className)=="function"?(...b)=>nT(p==null?void 0:p.className(...b),c.className):nT(p==null?void 0:p.className,c.className),v=g?{className:g}:{};return y.cloneElement(d,Object.assign({},FA(d.props,rT(d0(c,["ref"]))),f,u,{ref:s(d.ref,u.ref)},v))}return y.createElement(i,Object.assign({},d0(c,["ref"]),i!==y.Fragment&&u,i!==y.Fragment&&f),d)}function sU(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function FA(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...i){let o=n[r];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return e}function Cs(t){var e;return Object.assign(y.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function rT(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function d0(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let iU="div";var mm=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(mm||{});function oU(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return js({ourProps:i,theirProps:s,slot:{},defaultTag:iU,name:"Hidden"})}let ov=Cs(oU),UA=y.createContext(null);UA.displayName="OpenClosedContext";var Hu=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Hu||{});function aU(){return y.useContext(UA)}function lU(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Wi=[];lU(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Wi[0]!==e.target&&(Wi.unshift(e.target),Wi=Wi.filter(n=>n!=null&&n.isConnected),Wi.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function cU(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&uU(n)?!1:r}function uU(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var $A=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))($A||{});function BA(t,e,n,r){let s=Cg(n);y.useEffect(()=>{t=t??window;function i(o){s.current(o)}return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)},[t,e,r])}function zA(){let t=y.useRef(!1);return ui(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function WA(t){let e=_n(t),n=y.useRef(!1);y.useEffect(()=>(n.current=!1,()=>{n.current=!0,kg(()=>{n.current&&e()})}),[e])}var qu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(qu||{});function dU(){let t=y.useRef(0);return LA("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function HA(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let hU="div";var qA=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(qA||{});function fU(t,e){let n=y.useRef(null),r=Ei(n,e),{initialFocus:s,containers:i,features:o=30,...l}=t;Ag()||(o=1);let c=Mh(n);gU({ownerDocument:c},!!(o&16));let u=yU({ownerDocument:c,container:n,initialFocus:s},!!(o&2));xU({ownerDocument:c,container:n,containers:i,previousActiveElement:u},!!(o&8));let d=dU(),f=_n(b=>{let T=n.current;T&&(_=>_())(()=>{bo(d.current,{[qu.Forwards]:()=>{Np(T,ca.First,{skipElements:[b.relatedTarget]})},[qu.Backwards]:()=>{Np(T,ca.Last,{skipElements:[b.relatedTarget]})}})})}),p=W9(),g=y.useRef(!1),v={ref:r,onKeyDown(b){b.key=="Tab"&&(g.current=!0,p.requestAnimationFrame(()=>{g.current=!1}))},onBlur(b){let T=HA(i);n.current instanceof HTMLElement&&T.add(n.current);let _=b.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(GA(T,_)||(g.current?Np(n.current,bo(d.current,{[qu.Forwards]:()=>ca.Next,[qu.Backwards]:()=>ca.Previous})|ca.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&Ca(b.target)))}};return ne.createElement(ne.Fragment,null,!!(o&4)&&ne.createElement(ov,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:mm.Focusable}),js({ourProps:v,theirProps:l,defaultTag:hU,name:"FocusTrap"}),!!(o&4)&&ne.createElement(ov,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:mm.Focusable}))}let pU=Cs(fU),ku=Object.assign(pU,{features:qA});function mU(t=!0){let e=y.useRef(Wi.slice());return Ib(([n],[r])=>{r===!0&&n===!1&&kg(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Wi.slice())},[t,Wi,e]),_n(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function gU({ownerDocument:t},e){let n=mU(e);Ib(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Ca(n())},[e]),WA(()=>{e&&Ca(n())})}function yU({ownerDocument:t,container:e,initialFocus:n},r){let s=y.useRef(null),i=zA();return Ib(()=>{if(!r)return;let o=e.current;o&&kg(()=>{if(!i.current)return;let l=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){s.current=l;return}}else if(o.contains(l)){s.current=l;return}n!=null&&n.current?Ca(n.current):Np(o,ca.First)===OA.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=t==null?void 0:t.activeElement})},[r]),s}function xU({ownerDocument:t,container:e,containers:n,previousActiveElement:r},s){let i=zA();BA(t==null?void 0:t.defaultView,"focus",o=>{if(!s||!i.current)return;let l=HA(n);e.current instanceof HTMLElement&&l.add(e.current);let c=r.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?GA(l,u)?(r.current=u,Ca(u)):(o.preventDefault(),o.stopPropagation(),Ca(c)):Ca(r.current)},!0)}function GA(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let KA=y.createContext(!1);function vU(){return y.useContext(KA)}function av(t){return ne.createElement(KA.Provider,{value:t.force},t.children)}function wU(t){let e=vU(),n=y.useContext(YA),r=Mh(t),[s,i]=y.useState(()=>{if(!e&&n!==null||Js.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return y.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),y.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),s}let bU=y.Fragment;function _U(t,e){let n=t,r=y.useRef(null),s=Ei(nU(d=>{r.current=d}),e),i=Mh(r),o=wU(r),[l]=y.useState(()=>{var d;return Js.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),c=y.useContext(lv),u=Ag();return ui(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),ui(()=>{if(l&&c)return c.register(l)},[c,l]),WA(()=>{var d;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!l?null:ja.createPortal(js({ourProps:{ref:s},theirProps:n,defaultTag:bU,name:"Portal"}),l):null}let EU=y.Fragment,YA=y.createContext(null);function NU(t,e){let{target:n,...r}=t,s={ref:Ei(e)};return ne.createElement(YA.Provider,{value:n},js({ourProps:s,theirProps:r,defaultTag:EU,name:"Popover.Group"}))}let lv=y.createContext(null);function TU(){let t=y.useContext(lv),e=y.useRef([]),n=_n(i=>(e.current.push(i),t&&t.register(i),()=>r(i))),r=_n(i=>{let o=e.current.indexOf(i);o!==-1&&e.current.splice(o,1),t&&t.unregister(i)}),s=y.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,y.useMemo(()=>function({children:i}){return ne.createElement(lv.Provider,{value:s},i)},[s])]}let SU=Cs(_U),jU=Cs(NU),cv=Object.assign(SU,{Group:jU});function CU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const kU=typeof Object.is=="function"?Object.is:CU,{useState:IU,useEffect:AU,useLayoutEffect:PU,useDebugValue:RU}=nc;function OU(t,e,n){const r=e(),[{inst:s},i]=IU({inst:{value:r,getSnapshot:e}});return PU(()=>{s.value=r,s.getSnapshot=e,h0(s)&&i({inst:s})},[t,r,e]),AU(()=>(h0(s)&&i({inst:s}),t(()=>{h0(s)&&i({inst:s})})),[t]),RU(r),r}function h0(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!kU(n,r)}catch{return!0}}function DU(t,e,n){return e()}const MU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LU=!MU,VU=LU?DU:OU,FU="useSyncExternalStore"in nc?(t=>t.useSyncExternalStore)(nc):VU;function UU(t){return FU(t.subscribe,t.getSnapshot,t.getSnapshot)}function $U(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=e[s].call(n,...i);o&&(n=o,r.forEach(l=>l()))}}}function BU(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,s=r.clientWidth-r.offsetWidth,i=t-s;n.style(r,"paddingRight",`${i}px`)}}}function zU(){return MA()?{before({doc:t,d:e,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Ig();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function WU(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function HU(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let va=$U(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ig(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:HU(n)},s=[zU(),BU(),WU()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});va.subscribe(()=>{let t=va.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&va.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&va.dispatch("TEARDOWN",n)}});function qU(t,e,n){let r=UU(va),s=t?r.get(t):void 0,i=s?s.count>0:!1;return ui(()=>{if(!(!t||!e))return va.dispatch("PUSH",t,n),()=>va.dispatch("POP",t,n)},[e,t]),i}let f0=new Map,Iu=new Map;function sT(t,e=!0){ui(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function s(){var o;if(!r)return;let l=(o=Iu.get(r))!=null?o:1;if(l===1?Iu.delete(r):Iu.set(r,l-1),l!==1)return;let c=f0.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,f0.delete(r))}let i=(n=Iu.get(r))!=null?n:0;return Iu.set(r,i+1),i!==0||(f0.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[t,e])}function GU({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let s=y.useRef((r=n==null?void 0:n.current)!=null?r:null),i=Mh(s),o=_n(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(s.current)||f.contains((u=(c=s.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(p=>f.contains(p))||d.push(f));return d});return{resolveContainers:o,contains:_n(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:s,MainTreeNode:y.useMemo(()=>function(){return n!=null?null:ne.createElement(ov,{features:mm.Hidden,ref:s})},[s,n])}}let Ab=y.createContext(()=>{});Ab.displayName="StackContext";var uv=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(uv||{});function KU(){return y.useContext(Ab)}function YU({children:t,onUpdate:e,type:n,element:r,enabled:s}){let i=KU(),o=_n((...l)=>{e==null||e(...l),i(...l)});return ui(()=>{let l=s===void 0||s===!0;return l&&o(0,n,r),()=>{l&&o(1,n,r)}},[o,n,r,s]),ne.createElement(Ab.Provider,{value:o},t)}let QA=y.createContext(null);function ZA(){let t=y.useContext(QA);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ZA),e}return t}function QU(){let[t,e]=y.useState([]);return[t.length>0?t.join(" "):void 0,y.useMemo(()=>function(n){let r=_n(i=>(e(o=>[...o,i]),()=>e(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return ne.createElement(QA.Provider,{value:s},n.children)},[e])]}let ZU="p";function XU(t,e){let n=Bc(),{id:r=`headlessui-description-${n}`,...s}=t,i=ZA(),o=Ei(e);ui(()=>i.register(r),[r,i.register]);let l={ref:o,...i.props,id:r};return js({ourProps:l,theirProps:s,slot:i.slot||{},defaultTag:ZU,name:i.name||"Description"})}let JU=Cs(XU),e$=Object.assign(JU,{});var t$=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(t$||{}),n$=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(n$||{});let r$={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},gm=y.createContext(null);gm.displayName="DialogContext";function Lh(t){let e=y.useContext(gm);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lh),n}return e}function s$(t,e,n=()=>[document.body]){qU(t,e,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function i$(t,e){return bo(e.type,r$,t,e)}let o$="div",a$=iv.RenderStrategy|iv.Static;function l$(t,e){let n=Bc(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=y.useState(0),p=y.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(p.current||(p.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=aU();s===void 0&&g!==null&&(s=(g&Hu.Open)===Hu.Open);let v=y.useRef(null),b=Ei(v,e),T=Mh(v),_=t.hasOwnProperty("open")||g!==null,x=t.hasOwnProperty("onClose");if(!_&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!_)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let N=s?0:1,[R,P]=y.useReducer(i$,{titleId:null,descriptionId:null,panelRef:y.createRef()}),O=_n(()=>i(!1)),S=_n(Ye=>P({type:0,id:Ye})),E=Ag()?c?!1:N===0:!1,C=d>1,A=y.useContext(gm)!==null,[M,D]=TU(),k={get current(){var Ye;return(Ye=R.panelRef.current)!=null?Ye:v.current}},{resolveContainers:oe,mainTreeNodeRef:Ce,MainTreeNode:$e}=GU({portals:M,defaultContainers:[k]}),ke=C?"parent":"leaf",V=g!==null?(g&Hu.Closing)===Hu.Closing:!1,Y=A||V?!1:E,F=y.useCallback(()=>{var Ye,Tt;return(Tt=Array.from((Ye=T==null?void 0:T.querySelectorAll("body > *"))!=null?Ye:[]).find(St=>St.id==="headlessui-portal-root"?!1:St.contains(Ce.current)&&St instanceof HTMLElement))!=null?Tt:null},[Ce]);sT(F,Y);let ee=C?!0:E,ve=y.useCallback(()=>{var Ye,Tt;return(Tt=Array.from((Ye=T==null?void 0:T.querySelectorAll("[data-headlessui-portal]"))!=null?Ye:[]).find(St=>St.contains(Ce.current)&&St instanceof HTMLElement))!=null?Tt:null},[Ce]);sT(ve,ee),tU(oe,Ye=>{Ye.preventDefault(),O()},!(!E||C));let Te=!(C||N!==0);BA(T==null?void 0:T.defaultView,"keydown",Ye=>{Te&&(Ye.defaultPrevented||Ye.key===$A.Escape&&(Ye.preventDefault(),Ye.stopPropagation(),O()))}),s$(T,!(V||N!==0||A),oe),y.useEffect(()=>{if(N!==0||!v.current)return;let Ye=new ResizeObserver(Tt=>{for(let St of Tt){let ln=St.target.getBoundingClientRect();ln.x===0&&ln.y===0&&ln.width===0&&ln.height===0&&O()}});return Ye.observe(v.current),()=>Ye.disconnect()},[N,v,O]);let[bt,Ft]=QU(),Rn=y.useMemo(()=>[{dialogState:N,close:O,setTitleId:S},R],[N,R,O,S]),Gn=y.useMemo(()=>({open:N===0}),[N]),On={ref:b,id:r,role:l,"aria-modal":N===0?!0:void 0,"aria-labelledby":R.titleId,"aria-describedby":bt};return ne.createElement(YU,{type:"Dialog",enabled:N===0,element:v,onUpdate:_n((Ye,Tt)=>{Tt==="Dialog"&&bo(Ye,{[uv.Add]:()=>f(St=>St+1),[uv.Remove]:()=>f(St=>St-1)})})},ne.createElement(av,{force:!0},ne.createElement(cv,null,ne.createElement(gm.Provider,{value:Rn},ne.createElement(cv.Group,{target:v},ne.createElement(av,{force:!1},ne.createElement(Ft,{slot:Gn,name:"Dialog.Description"},ne.createElement(ku,{initialFocus:o,containers:oe,features:E?bo(ke,{parent:ku.features.RestoreFocus,leaf:ku.features.All&~ku.features.FocusLock}):ku.features.None},ne.createElement(D,null,js({ourProps:On,theirProps:u,slot:Gn,defaultTag:o$,features:a$,visible:N===0,name:"Dialog"}))))))))),ne.createElement($e,null))}let c$="div";function u$(t,e){let n=Bc(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=t,[{dialogState:i,close:o}]=Lh("Dialog.Overlay"),l=Ei(e),c=_n(d=>{if(d.target===d.currentTarget){if(cU(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=y.useMemo(()=>({open:i===0}),[i]);return js({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:s,slot:u,defaultTag:c$,name:"Dialog.Overlay"})}let d$="div";function h$(t,e){let n=Bc(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=t,[{dialogState:i},o]=Lh("Dialog.Backdrop"),l=Ei(e);y.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=y.useMemo(()=>({open:i===0}),[i]);return ne.createElement(av,{force:!0},ne.createElement(cv,null,js({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:s,slot:c,defaultTag:d$,name:"Dialog.Backdrop"})))}let f$="div";function p$(t,e){let n=Bc(),{id:r=`headlessui-dialog-panel-${n}`,...s}=t,[{dialogState:i},o]=Lh("Dialog.Panel"),l=Ei(e,o.panelRef),c=y.useMemo(()=>({open:i===0}),[i]),u=_n(d=>{d.stopPropagation()});return js({ourProps:{ref:l,id:r,onClick:u},theirProps:s,slot:c,defaultTag:f$,name:"Dialog.Panel"})}let m$="h2";function g$(t,e){let n=Bc(),{id:r=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:i,setTitleId:o}]=Lh("Dialog.Title"),l=Ei(e);y.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=y.useMemo(()=>({open:i===0}),[i]);return js({ourProps:{ref:l,id:r},theirProps:s,slot:c,defaultTag:m$,name:"Dialog.Title"})}let y$=Cs(l$),x$=Cs(h$),v$=Cs(p$),w$=Cs(u$),b$=Cs(g$),ei=Object.assign(y$,{Backdrop:x$,Panel:v$,Overlay:w$,Title:b$,Description:e$});function _$({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const E$=y.forwardRef(_$);function N$({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const T$=y.forwardRef(N$);function S$({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Pb=y.forwardRef(S$),j$=({isOpen:t,onClose:e})=>{const n=[{title:"Getting Started",items:["Complete your profile setup in Settings","Configure your notification preferences","Customize your dashboard layout","Set up your payment processing"]},{title:"Client Management",items:["Add your first client (N)","Upload client documents (U)","Create a new dispute case (D)","Record initial payment (P)"]},{title:"Core Features",items:["Use automated dispute workflows","Generate and send dispute letters","Track case progress and updates","Manage client communications"]},{title:"Task Management",items:["Create and assign tasks","Set up recurring tasks","Use task templates","Monitor task completion"]},{title:"Reports & Analytics",items:["View business performance metrics","Track client success rates","Monitor payment history","Generate custom reports"]},{title:"Tips & Tricks",items:["Use keyboard shortcuts for quick actions","Enable desktop notifications","Customize your dashboard widgets","Set up automated workflows"]}];return a.jsxs(ei,{open:t,onClose:e,className:"relative z-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs(ei.Panel,{className:"mx-auto w-full max-w-2xl max-h-[90vh] rounded-xl bg-white shadow-lg flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx(ei.Title,{className:"text-2xl font-semibold text-gray-900",children:"Quick Start Guide"}),a.jsx("button",{onClick:e,className:"rounded-full p-1 hover:bg-gray-100",children:a.jsx(Pb,{className:"h-6 w-6 text-gray-500"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"space-y-6",children:n.map((r,s)=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:r.title}),a.jsx("ul",{className:"space-y-2",children:r.items.map((i,o)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-indigo-100 flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 text-sm font-medium",children:o+1})}),a.jsx("span",{className:"ml-3 text-gray-600",children:i})]},o))})]},s))})}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsx("button",{onClick:e,className:"w-full rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Got it, thanks!"})})]})})]})},C$=({isOpen:t,onClose:e})=>{const[n,r]=y.useState(new Set),s=l=>{const c=new Set(n);c.has(l)?c.delete(l):c.add(l),r(c)},i=[{title:"Getting Started",content:"Learn the basics of using CredExis for credit dispute management",subsections:[{title:"Account Setup",content:"Set up your account, configure preferences, and customize your dashboard. Access settings through the profile menu in the top right corner."},{title:"Navigation",content:"Use the sidebar for main navigation and the top bar for quick actions. The dashboard provides an overview of your business metrics."}]},{title:"Client Management",content:"Everything about managing your clients and their cases",subsections:[{title:"Adding Clients",content:"Add new clients through the Clients section. You can import client data, add individual clients, or use the quick action button (N) for faster access."},{title:"Client Profiles",content:"Manage client information, track case progress, and maintain communication history. Access client documents and payment records in one place."}]},{title:"Dispute Management",content:"Handle credit disputes efficiently with our tools",subsections:[{title:"Creating Disputes",content:"Start new disputes using the quick action button (D) or through the Disputes section. Use templates for faster processing."},{title:"Document Management",content:"Upload and manage client documents (U). Generate and send dispute letters automatically. Track document status and responses."}]},{title:"Tasks & Workflow",content:"Manage your daily tasks and workflow efficiently",subsections:[{title:"Task Management",content:"Create, assign, and track tasks. Set priorities, due dates, and reminders. Use filters to organize tasks by status, priority, or assignee."},{title:"Automation",content:"Set up automated workflows for recurring tasks. Use templates for common processes. Configure notifications for important updates."}]},{title:"Payments & Billing",content:"Handle payments and manage billing",subsections:[{title:"Recording Payments",content:"Record client payments (P) and track payment history. Generate invoices and payment receipts automatically."},{title:"Billing Management",content:"Manage subscription plans, view billing history, and handle payment disputes. Access detailed financial reports."}]},{title:"Reports & Analytics",content:"Track your business performance",subsections:[{title:"Business Analytics",content:"View key metrics, track success rates, and monitor business growth. Access customizable reports and dashboards."},{title:"Client Analytics",content:"Track client progress, success rates, and case statistics. Generate detailed reports for individual clients."}]},{title:"Settings & Customization",content:"Customize your CredExis experience",subsections:[{title:"Profile Settings",content:"Update your profile, manage notifications, and customize your dashboard layout."},{title:"System Settings",content:"Configure system preferences, manage user roles, and set up integrations with other tools."}]}],o=(l,c=0)=>{var f;const u=n.has(l.title),d=u?E$:T$;return a.jsxs("div",{className:"mb-2",children:[a.jsxs("button",{onClick:()=>s(l.title),className:"flex items-center w-full text-left py-2 hover:bg-gray-50 rounded-lg px-2",children:[a.jsx(d,{className:"h-5 w-5 text-gray-500 mr-2"}),a.jsx("span",{className:"font-medium text-gray-900",children:l.title})]}),u&&a.jsxs("div",{className:"pl-7 mt-1",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:l.content}),(f=l.subsections)==null?void 0:f.map(p=>o(p,c+1))]})]},l.title)};return a.jsxs(ei,{open:t,onClose:e,className:"relative z-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs(ei.Panel,{className:"mx-auto w-full max-w-4xl max-h-[90vh] rounded-xl bg-white shadow-lg flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx(ei.Title,{className:"text-2xl font-semibold text-gray-900",children:"Help Documentation"}),a.jsx("button",{onClick:e,className:"rounded-full p-1 hover:bg-gray-100",children:a.jsx(Pb,{className:"h-6 w-6 text-gray-500"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"space-y-4",children:i.map(l=>o(l))})}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("p",{className:"font-medium mb-2",children:"Need more help?"}),a.jsxs("p",{children:["Contact our support team at ",a.jsx("a",{href:"mailto:support@credexis.com",className:"text-indigo-600 hover:text-indigo-500",children:"support@credexis.com"})]})]})})]})})]})},k$=({isOpen:t,onClose:e,onComplete:n})=>{const[r,s]=y.useState(0),i=[{title:"Welcome to CredExis!",description:"We're excited to have you on board. Let's take a quick tour of what CredExis can do for you."},{title:"Streamline Your Workflow",description:"Manage clients, track tasks, and handle payments all in one place. Our intuitive interface makes it easy to stay organized."},{title:"Powerful Features",description:"From client management to automated reporting, CredExis provides all the tools you need to grow your business."},{title:"Ready to Get Started?",description:"You're all set! Start exploring CredExis and discover how it can help you manage your business more effectively."}],o=()=>{r<i.length-1?s(r+1):n()},l=()=>{r>0&&s(r-1)},c=(r+1)/i.length*100;return a.jsxs(ei,{open:t,onClose:e,className:"relative z-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:a.jsxs(ei.Panel,{className:"mx-auto max-w-2xl w-full rounded-xl bg-white p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx(ei.Title,{className:"text-2xl font-semibold text-gray-900",children:i[r].title}),a.jsx("button",{onClick:e,className:"rounded-full p-1 hover:bg-gray-100",children:a.jsx(Pb,{className:"h-6 w-6 text-gray-500"})})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"h-2 bg-gray-200 rounded-full",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all duration-300",style:{width:`${c}%`}})})}),a.jsx("div",{className:"mb-8",children:a.jsx("p",{className:"text-gray-600 text-lg",children:i[r].description})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:l,disabled:r===0,className:`px-4 py-2 rounded-md ${r===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Previous"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",r+1," of ",i.length]}),a.jsx("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:r===i.length-1?"Get Started":"Next"})]})]})})]})},Rb=y.createContext({});function Ob(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Pg=y.createContext(null),Db=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class I$ extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A$({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(Db);return y.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(e||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),a.jsx(I$,{isPresent:e,childRef:r,sizeRef:s,children:y.cloneElement(t,{ref:r})})}const P$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Ob(R$),c=y.useId(),u=y.useCallback(f=>{l.set(f,!0);for(const p of l.values())if(!p)return;r&&r()},[l,r]),d=y.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[n,u]);return y.useMemo(()=>{l.forEach((f,p)=>l.set(p,!1))},[n]),y.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(A$,{isPresent:n,children:t})),a.jsx(Pg.Provider,{value:d,children:t})};function R$(){return new Map}function XA(t=!0){const e=y.useContext(Pg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{t&&s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const qf=t=>t.key||"";function iT(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Mb=typeof window<"u",JA=Mb?y.useLayoutEffect:y.useEffect,nn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=XA(o),u=y.useMemo(()=>iT(t),[t]),d=o&&!l?[]:u.map(qf),f=y.useRef(!0),p=y.useRef(u),g=Ob(()=>new Map),[v,b]=y.useState(u),[T,_]=y.useState(u);JA(()=>{f.current=!1,p.current=u;for(let R=0;R<T.length;R++){const P=qf(T[R]);d.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[T,d.length,d.join("-")]);const x=[];if(u!==v){let R=[...u];for(let P=0;P<T.length;P++){const O=T[P],S=qf(O);d.includes(S)||(R.splice(P,0,O),x.push(O))}i==="wait"&&x.length&&(R=x),_(iT(R)),b(u);return}const{forceRender:N}=y.useContext(Rb);return a.jsx(a.Fragment,{children:T.map(R=>{const P=qf(R),O=o&&!l?!1:u===T||d.includes(P),S=()=>{if(g.has(P))g.set(P,!0);else return;let E=!0;g.forEach(C=>{C||(E=!1)}),E&&(N==null||N(),_(p.current),o&&(c==null||c()),r&&r())};return a.jsx(P$,{isPresent:O,initial:!f.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:O?void 0:S,children:R},P)})})},sr=t=>t;let eP=sr;function Lb(t){let e;return()=>(e===void 0&&(e=t()),e)}const mc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ti=t=>t*1e3,ni=t=>t/1e3,O$={useManualTiming:!1};function D$(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const g=f&&r?e:n;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Gf=["read","resolveKeyframes","update","preRender","render","postRender"],M$=40;function tP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gf.reduce((_,x)=>(_[x]=D$(i),_),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:p}=o,g=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,M$),1),s.timestamp=_,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Gf.reduce((_,x)=>{const N=o[x];return _[x]=(R,P=!1,O=!1)=>(n||v(),N.schedule(R,P,O)),_},{}),cancel:_=>{for(let x=0;x<Gf.length;x++)o[Gf[x]].cancel(_)},state:s,steps:o}}const{schedule:ht,cancel:_o,state:Jt,steps:p0}=tP(typeof requestAnimationFrame<"u"?requestAnimationFrame:sr,!0),nP=y.createContext({strict:!1}),oT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gc={};for(const t in oT)gc[t]={isEnabled:e=>oT[t].some(n=>!!e[n])};function L$(t){for(const e in t)gc[e]={...gc[e],...t[e]}}const V$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ym(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||V$.has(t)}let rP=t=>!ym(t);function F$(t){t&&(rP=e=>e.startsWith("on")?!ym(e):t(e))}try{F$(require("@emotion/is-prop-valid").default)}catch{}function U$(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(rP(s)||n===!0&&ym(s)||!e&&!ym(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function $$(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Rg=y.createContext({});function Jd(t){return typeof t=="string"||Array.isArray(t)}function Og(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Vb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fb=["initial",...Vb];function Dg(t){return Og(t.animate)||Fb.some(e=>Jd(t[e]))}function sP(t){return!!(Dg(t)||t.variants)}function B$(t,e){if(Dg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jd(n)?n:void 0,animate:Jd(r)?r:void 0}}return t.inherit!==!1?e:{}}function z$(t){const{initial:e,animate:n}=B$(t,y.useContext(Rg));return y.useMemo(()=>({initial:e,animate:n}),[aT(e),aT(n)])}function aT(t){return Array.isArray(t)?t.join(" "):t}const W$=Symbol.for("motionComponentSymbol");function Ul(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function H$(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ul(n)&&(n.current=r))},[e])}const Ub=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q$="framerAppearId",iP="data-"+Ub(q$),{schedule:$b}=tP(queueMicrotask,!1),oP=y.createContext({});function G$(t,e,n,r,s){var i,o;const{visualElement:l}=y.useContext(Rg),c=y.useContext(nP),u=y.useContext(Pg),d=y.useContext(Db).reducedMotion,f=y.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,g=y.useContext(oP);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&K$(f.current,n,s,g);const v=y.useRef(!1);y.useInsertionEffect(()=>{p&&v.current&&p.update(n,u)});const b=n[iP],T=y.useRef(!!b&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return JA(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),$b.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),y.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,b)}),T.current=!1))}),p}function K$(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aP(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Ul(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function aP(t){if(t)return t.options.allowProjection!==!1?t.projection:aP(t.parent)}function Y$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&L$(t);function l(u,d){let f;const p={...y.useContext(Db),...u,layoutId:Q$(u)},{isStatic:g}=p,v=z$(u),b=r(u,g);if(!g&&Mb){Z$();const T=X$(p);f=T.MeasureLayout,v.visualElement=G$(s,b,p,e,T.ProjectionNode)}return a.jsxs(Rg.Provider,{value:v,children:[f&&v.visualElement?a.jsx(f,{visualElement:v.visualElement,...p}):null,n(s,u,H$(b,v.visualElement,d),b,g,v.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=y.forwardRef(l);return c[W$]=s,c}function Q$({layoutId:t}){const e=y.useContext(Rb).id;return e&&t!==void 0?e+"-"+t:t}function Z$(t,e){y.useContext(nP).strict}function X$(t){const{drag:e,layout:n}=gc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const J$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bb(t){return typeof t!="string"||t.includes("-")?!1:!!(J$.indexOf(t)>-1||/[A-Z]/u.test(t))}function lT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zb(t,e,n,r){if(typeof e=="function"){const[s,i]=lT(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=lT(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const dv=t=>Array.isArray(t),e7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),t7=t=>dv(t)?t[t.length-1]||0:t,bn=t=>!!(t&&t.getVelocity);function Tp(t){const e=bn(t)?t.get():t;return e7(e)?e.toValue():e}function n7({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:r7(r,s,i,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const lP=t=>(e,n)=>{const r=y.useContext(Rg),s=y.useContext(Pg),i=()=>n7(t,e,r,s);return n?i():Ob(i)};function r7(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Tp(i[p]);let{initial:o,animate:l}=t;const c=Dg(t),u=sP(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Og(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const v=zb(t,p[g]);if(v){const{transitionEnd:b,transition:T,..._}=v;for(const x in _){let N=_[x];if(Array.isArray(N)){const R=d?N.length-1:0;N=N[R]}N!==null&&(s[x]=N)}for(const x in b)s[x]=b[x]}}}return s}const zc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xa=new Set(zc),cP=t=>e=>typeof e=="string"&&e.startsWith(t),uP=cP("--"),s7=cP("var(--"),Wb=t=>s7(t)?i7.test(t.split("/*")[0].trim()):!1,i7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,di=(t,e,n)=>n>e?e:n<t?t:n,Wc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},eh={...Wc,transform:t=>di(0,1,t)},Kf={...Wc,default:1},Vh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=Vh("deg"),ys=Vh("%"),_e=Vh("px"),o7=Vh("vh"),a7=Vh("vw"),cT={...ys,parse:t=>ys.parse(t)/100,transform:t=>ys.transform(t*100)},l7={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},c7={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Kf,scaleX:Kf,scaleY:Kf,scaleZ:Kf,skew:Li,skewX:Li,skewY:Li,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:eh,originX:cT,originY:cT,originZ:_e},uT={...Wc,transform:Math.round},Hb={...l7,...c7,zIndex:uT,size:_e,fillOpacity:eh,strokeOpacity:eh,numOctaves:uT},u7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d7=zc.length;function h7(t,e,n){let r="",s=!0;for(let i=0;i<d7;i++){const o=zc[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=dP(l,Hb[o]);if(!c){s=!1;const d=u7[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function qb(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Xa.has(c)){o=!0;continue}else if(uP(c)){s[c]=u;continue}else{const d=dP(u,Hb[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=h7(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const f7={offset:"stroke-dashoffset",array:"stroke-dasharray"},p7={offset:"strokeDashoffset",array:"strokeDasharray"};function m7(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?f7:p7;t[i.offset]=_e.transform(-r);const o=_e.transform(e),l=_e.transform(n);t[i.array]=`${o} ${l}`}function dT(t,e,n){return typeof t=="string"?t:_e.transform(e+n*t)}function g7(t,e,n){const r=dT(e,t.x,t.width),s=dT(n,t.y,t.height);return`${r} ${s}`}function Gb(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(qb(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:v}=t;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=g7(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&m7(p,o,l,c,!1)}const Kb=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hP=()=>({...Kb(),attrs:{}}),Yb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const pP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mP(t,e,n,r){fP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(pP.has(s)?s:Ub(s),e.attrs[s])}const xm={};function y7(t){Object.assign(xm,t)}function gP(t,{layout:e,layoutId:n}){return Xa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xm[t]||t==="opacity")}function Qb(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(bn(s[o])||e.style&&bn(e.style[o])||gP(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function yP(t,e,n){const r=Qb(t,e,n);for(const s in t)if(bn(t[s])||bn(e[s])){const i=zc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function x7(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hT=["x","y","width","height","cx","cy","r"],v7={useVisualState:lP({scrapeMotionValuesFromProps:yP,createRenderState:hP,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(Xa.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<hT.length;l++){const c=hT[l];t[c]!==e[c]&&(o=!0)}o&&ht.read(()=>{x7(n,r),ht.render(()=>{Gb(r,s,Yb(n.tagName),t.transformTemplate),mP(n,r)})})}})},w7={useVisualState:lP({scrapeMotionValuesFromProps:Qb,createRenderState:Kb})};function xP(t,e,n){for(const r in e)!bn(e[r])&&!gP(r,n)&&(t[r]=e[r])}function b7({transformTemplate:t},e){return y.useMemo(()=>{const n=Kb();return qb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _7(t,e){const n=t.style||{},r={};return xP(r,n,t),Object.assign(r,b7(t,e)),r}function E7(t,e){const n={},r=_7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function N7(t,e,n,r){const s=y.useMemo(()=>{const i=hP();return Gb(i,e,Yb(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};xP(i,t.style,t),s.style={...i,...s.style}}return s}function T7(t=!1){return(n,r,s,{latestValues:i},o)=>{const c=(Bb(n)?N7:E7)(r,i,o,n),u=U$(r,typeof n=="string",t),d=n!==y.Fragment?{...u,...c,ref:s}:{},{children:f}=r,p=y.useMemo(()=>bn(f)?f.get():f,[f]);return y.createElement(n,{...d,children:p})}}function S7(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Bb(r)?v7:w7,preloadedFeatures:t,useRender:T7(s),createVisualElement:e,Component:r};return Y$(o)}}function vP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Mg(t,e,n){const r=t.getProps();return zb(r,e,n!==void 0?n:r.custom,t)}const j7=Lb(()=>window.ScrollTimeline!==void 0);class C7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(j7()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class k7 extends C7{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Zb(t,e){return t?t[e]||t.default||t:void 0}const hv=2e4;function wP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<hv;)e+=n,r=t.next(e);return e>=hv?1/0:e}function Xb(t){return typeof t=="function"}function fT(t,e){t.timeline=e,t.onfinish=null}const Jb=t=>Array.isArray(t)&&typeof t[0]=="number",I7={linearEasing:void 0};function A7(t,e){const n=Lb(t);return()=>{var r;return(r=I7[e])!==null&&r!==void 0?r:n()}}const vm=A7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bP=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(mc(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function _P(t){return!!(typeof t=="function"&&vm()||!t||typeof t=="string"&&(t in fv||vm())||Jb(t)||Array.isArray(t)&&t.every(_P))}const Gu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,fv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gu([0,.65,.55,1]),circOut:Gu([.55,0,1,.45]),backIn:Gu([.31,.01,.66,-.59]),backOut:Gu([.33,1.53,.69,.99])};function EP(t,e){if(t)return typeof t=="function"&&vm()?bP(t,e):Jb(t)?Gu(t):Array.isArray(t)?t.map(n=>EP(n,e)||fv.easeOut):fv[t]}const Rr={x:!1,y:!1};function NP(){return Rr.x||Rr.y}function P7(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function TP(t,e){const n=P7(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function pT(t){return e=>{e.pointerType==="touch"||NP()||t(e)}}function R7(t,e,n={}){const[r,s,i]=TP(t,n),o=pT(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=pT(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const SP=(t,e)=>e?t===e?!0:SP(t,e.parentElement):!1,e1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,O7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function D7(t){return O7.has(t.tagName)||t.tabIndex!==-1}const Ku=new WeakSet;function mT(t){return e=>{e.key==="Enter"&&t(e)}}function m0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const M7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=mT(()=>{if(Ku.has(n))return;m0(n,"down");const s=mT(()=>{m0(n,"up")}),i=()=>m0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function gT(t){return e1(t)&&!NP()}function L7(t,e,n={}){const[r,s,i]=TP(t,n),o=l=>{const c=l.currentTarget;if(!gT(l)||Ku.has(c))return;Ku.add(c);const u=e(l),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!gT(g)||!Ku.has(c))&&(Ku.delete(c),typeof u=="function"&&u(g,{success:v}))},f=g=>{d(g,n.useGlobalTarget||SP(c,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{!D7(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>M7(u,s),s)}),i}function V7(t){return t==="x"||t==="y"?Rr[t]?null:(Rr[t]=!0,()=>{Rr[t]=!1}):Rr.x||Rr.y?null:(Rr.x=Rr.y=!0,()=>{Rr.x=Rr.y=!1})}const jP=new Set(["width","height","top","left","right","bottom",...zc]);let Sp;function F7(){Sp=void 0}const xs={now:()=>(Sp===void 0&&xs.set(Jt.isProcessing||O$.useManualTiming?Jt.timestamp:performance.now()),Sp),set:t=>{Sp=t,queueMicrotask(F7)}};function t1(t,e){t.indexOf(e)===-1&&t.push(e)}function n1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class r1{constructor(){this.subscriptions=[]}add(e){return t1(this.subscriptions,e),()=>n1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function CP(t,e){return e?t*(1e3/e):0}const yT=30,U7=t=>!isNaN(parseFloat(t));class $7{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=xs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=U7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new r1);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yT);return CP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function th(t,e){return new $7(t,e)}function B7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,th(n))}function z7(t,e){const n=Mg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=t7(i[o]);B7(t,o,l)}}function W7(t){return!!(bn(t)&&t.add)}function pv(t,e){const n=t.getValue("willChange");if(W7(n))return n.add(e)}function kP(t){return t.props[iP]}const IP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,H7=1e-7,q7=12;function G7(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=IP(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>H7&&++l<q7);return o}function Fh(t,e,n,r){if(t===e&&n===r)return sr;const s=i=>G7(i,0,1,t,n);return i=>i===0||i===1?i:IP(s(i),e,r)}const AP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PP=t=>e=>1-t(1-e),RP=Fh(.33,1.53,.69,.99),s1=PP(RP),OP=AP(s1),DP=t=>(t*=2)<1?.5*s1(t):.5*(2-Math.pow(2,-10*(t-1))),i1=t=>1-Math.sin(Math.acos(t)),MP=PP(i1),LP=AP(i1),VP=t=>/^0[^.\s]+$/u.test(t);function K7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VP(t):!0}const fd=t=>Math.round(t*1e5)/1e5,o1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y7(t){return t==null}const Q7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a1=(t,e)=>n=>!!(typeof n=="string"&&Q7.test(n)&&n.startsWith(t)||e&&!Y7(n)&&Object.prototype.hasOwnProperty.call(n,e)),FP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(o1);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Z7=t=>di(0,255,t),g0={...Wc,transform:t=>Math.round(Z7(t))},wa={test:a1("rgb","red"),parse:FP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+g0.transform(t)+", "+g0.transform(e)+", "+g0.transform(n)+", "+fd(eh.transform(r))+")"};function X7(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const mv={test:a1("#"),parse:X7,transform:wa.transform},$l={test:a1("hsl","hue"),parse:FP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ys.transform(fd(e))+", "+ys.transform(fd(n))+", "+fd(eh.transform(r))+")"},mn={test:t=>wa.test(t)||mv.test(t)||$l.test(t),parse:t=>wa.test(t)?wa.parse(t):$l.test(t)?$l.parse(t):mv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wa.transform(t):$l.transform(t)},J7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function e8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(o1))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(J7))===null||n===void 0?void 0:n.length)||0)>0}const UP="number",$P="color",t8="var",n8="var(",xT="${}",r8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(r8,c=>(mn.test(c)?(r.color.push(i),s.push($P),n.push(mn.parse(c))):c.startsWith(n8)?(r.var.push(i),s.push(t8),n.push(c)):(r.number.push(i),s.push(UP),n.push(parseFloat(c))),++i,xT)).split(xT);return{values:n,split:l,indexes:r,types:s}}function BP(t){return nh(t).values}function zP(t){const{split:e,types:n}=nh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===UP?i+=fd(s[o]):l===$P?i+=mn.transform(s[o]):i+=s[o]}return i}}const s8=t=>typeof t=="number"?0:t;function i8(t){const e=BP(t);return zP(t)(e.map(s8))}const Eo={test:e8,parse:BP,createTransformer:zP,getAnimatableNone:i8},o8=new Set(["brightness","contrast","saturate","opacity"]);function a8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(o1)||[];if(!r)return t;const s=n.replace(r,"");let i=o8.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const l8=/\b([a-z-]*)\(.*?\)/gu,gv={...Eo,getAnimatableNone:t=>{const e=t.match(l8);return e?e.map(a8).join(" "):t}},c8={...Hb,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:gv,WebkitFilter:gv},l1=t=>c8[t];function WP(t,e){let n=l1(t);return n!==gv&&(n=Eo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u8=new Set(["auto","none","0"]);function d8(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!u8.has(i)&&nh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=WP(n,s)}const vT=t=>t===Wc||t===_e,wT=(t,e)=>parseFloat(t.split(", ")[e]),bT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return wT(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?wT(i[1],t):0}},h8=new Set(["x","y","z"]),f8=zc.filter(t=>!h8.has(t));function p8(t){const e=[];return f8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bT(4,13),y:bT(5,14)};yc.translateX=yc.x;yc.translateY=yc.y;const ka=new Set;let yv=!1,xv=!1;function HP(){if(xv){const t=Array.from(ka).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=p8(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xv=!1,yv=!1,ka.forEach(t=>t.complete()),ka.clear()}function qP(){ka.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xv=!0)})}function m8(){qP(),HP()}class c1{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ka.add(this),yv||(yv=!0,ht.read(qP),ht.resolveKeyframes(HP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ka.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ka.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const GP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),g8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y8(t){const e=g8.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function KP(t,e,n=1){const[r,s]=y8(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return GP(o)?parseFloat(o):o}return Wb(s)?KP(s,e,n+1):s}const YP=t=>e=>e.test(t),x8={test:t=>t==="auto",parse:t=>t},QP=[Wc,_e,ys,Li,a7,o7,x8],_T=t=>QP.find(YP(t));class ZP extends c1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Wb(u))){const d=KP(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!jP.has(r)||e.length!==2)return;const[s,i]=e,o=_T(s),l=_T(i);if(o!==l)if(vT(o)&&vT(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)K7(e[s])&&r.push(s);r.length&&d8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=yc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const ET=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Eo.test(t)||t==="0")&&!t.startsWith("url("));function v8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function w8(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=ET(s,e),l=ET(i,e);return!o||!l?!1:v8(t)||(n==="spring"||Xb(n))&&r}const b8=t=>t!==null;function Lg(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(b8),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const _8=40;class XP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xs.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&m8(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=xs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!w8(e,r,s,i))if(o)this.options.duration=0;else{c&&c(Lg(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const yt=(t,e,n)=>t+(e-t)*n;function y0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function E8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=y0(c,l,t+1/3),i=y0(c,l,t),o=y0(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function wm(t,e){return n=>n>0?e:t}const x0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},N8=[mv,wa,$l],T8=t=>N8.find(e=>e.test(t));function NT(t){const e=T8(t);if(!e)return!1;let n=e.parse(t);return e===$l&&(n=E8(n)),n}const TT=(t,e)=>{const n=NT(t),r=NT(e);if(!n||!r)return wm(t,e);const s={...n};return i=>(s.red=x0(n.red,r.red,i),s.green=x0(n.green,r.green,i),s.blue=x0(n.blue,r.blue,i),s.alpha=yt(n.alpha,r.alpha,i),wa.transform(s))},S8=(t,e)=>n=>e(t(n)),Uh=(...t)=>t.reduce(S8),vv=new Set(["none","hidden"]);function j8(t,e){return vv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function C8(t,e){return n=>yt(t,e,n)}function u1(t){return typeof t=="number"?C8:typeof t=="string"?Wb(t)?wm:mn.test(t)?TT:A8:Array.isArray(t)?JP:typeof t=="object"?mn.test(t)?TT:k8:wm}function JP(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>u1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function k8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=u1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function I8(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const A8=(t,e)=>{const n=Eo.createTransformer(e),r=nh(t),s=nh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?vv.has(t)&&!s.values.length||vv.has(e)&&!r.values.length?j8(t,e):Uh(JP(I8(r,s),s.values),n):wm(t,e)};function eR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):u1(t)(t,e)}const P8=5;function tR(t,e,n){const r=Math.max(e-P8,0);return CP(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},v0=.001;function R8({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let s,i,o=1-e;o=di(Et.minDamping,Et.maxDamping,o),t=di(Et.minDuration,Et.maxDuration,ni(t)),o<1?(s=u=>{const d=u*o,f=d*t,p=d-n,g=wv(u,o),v=Math.exp(-f);return v0-p/g*v},i=u=>{const f=u*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-f),b=wv(Math.pow(u,2),o);return(-s(u)+v0>0?-1:1)*((p-g)*v)/b}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-v0+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=D8(s,i,l);if(t=ti(t),isNaN(c))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const O8=12;function D8(t,e,n){let r=n;for(let s=1;s<O8;s++)r=r-t(r)/e(r);return r}function wv(t,e){return t*Math.sqrt(1-e*e)}const M8=["duration","bounce"],L8=["stiffness","damping","mass"];function ST(t,e){return e.some(n=>t[n]!==void 0)}function V8(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!ST(t,L8)&&ST(t,M8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Et.mass,stiffness:s,damping:i}}else{const n=R8(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function nR(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=V8({...n,velocity:-ni(n.velocity||0)}),v=p||0,b=u/(2*Math.sqrt(c*d)),T=o-i,_=ni(Math.sqrt(c/d)),x=Math.abs(T)<5;r||(r=x?Et.restSpeed.granular:Et.restSpeed.default),s||(s=x?Et.restDelta.granular:Et.restDelta.default);let N;if(b<1){const P=wv(_,b);N=O=>{const S=Math.exp(-b*_*O);return o-S*((v+b*_*T)/P*Math.sin(P*O)+T*Math.cos(P*O))}}else if(b===1)N=P=>o-Math.exp(-_*P)*(T+(v+_*T)*P);else{const P=_*Math.sqrt(b*b-1);N=O=>{const S=Math.exp(-b*_*O),E=Math.min(P*O,300);return o-S*((v+b*_*T)*Math.sinh(E)+P*T*Math.cosh(E))/P}}const R={calculatedDuration:g&&f||null,next:P=>{const O=N(P);if(g)l.done=P>=f;else{let S=0;b<1&&(S=P===0?ti(v):tR(N,P,O));const E=Math.abs(S)<=r,C=Math.abs(o-O)<=s;l.done=E&&C}return l.value=l.done?o:O,l},toString:()=>{const P=Math.min(wP(R),hv),O=bP(S=>R.next(P*S).value,P,30);return P+"ms "+O}};return R}function jT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=E=>l!==void 0&&E<l||c!==void 0&&E>c,v=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let b=n*e;const T=f+b,_=o===void 0?T:o(T);_!==T&&(b=_-f);const x=E=>-b*Math.exp(-E/r),N=E=>_+x(E),R=E=>{const C=x(E),A=N(E);p.done=Math.abs(C)<=u,p.value=p.done?_:A};let P,O;const S=E=>{g(p.value)&&(P=E,O=nR({keyframes:[p.value,v(p.value)],velocity:tR(N,E,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let C=!1;return!O&&P===void 0&&(C=!0,R(E),S(E)),P!==void 0&&E>=P?O.next(E-P):(!C&&R(E),p)}}}const F8=Fh(.42,0,1,1),U8=Fh(0,0,.58,1),rR=Fh(.42,0,.58,1),$8=t=>Array.isArray(t)&&typeof t[0]!="number",B8={linear:sr,easeIn:F8,easeInOut:rR,easeOut:U8,circIn:i1,circInOut:LP,circOut:MP,backIn:s1,backInOut:OP,backOut:RP,anticipate:DP},CT=t=>{if(Jb(t)){eP(t.length===4);const[e,n,r,s]=t;return Fh(e,n,r,s)}else if(typeof t=="string")return B8[t];return t};function z8(t,e,n){const r=[],s=n||eR,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||sr:e;l=Uh(c,l)}r.push(l)}return r}function W8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(eP(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=z8(e,r,s),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=mc(t[f],t[f+1],d);return l[f](p)};return n?d=>u(di(t[0],t[i-1],d)):u}function H8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=mc(0,e,r);t.push(yt(n,1,s))}}function q8(t){const e=[0];return H8(e,t.length-1),e}function G8(t,e){return t.map(n=>n*e)}function K8(t,e){return t.map(()=>e||rR).splice(0,t.length-1)}function bm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=$8(r)?r.map(CT):CT(r),i={done:!1,value:e[0]},o=G8(n&&n.length===e.length?n:q8(e),t),l=W8(o,e,{ease:Array.isArray(s)?s:K8(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Y8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ht.update(e,!0),stop:()=>_o(e),now:()=>Jt.isProcessing?Jt.timestamp:xs.now()}},Q8={decay:jT,inertia:jT,tween:bm,keyframes:bm,spring:nR},Z8=t=>t/100;class d1 extends XP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||c1,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=Xb(n)?n:Q8[n]||bm;let c,u;l!==bm&&typeof e[0]!="number"&&(c=Uh(Z8,eR(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=wP(d));const{calculatedDuration:f}=d,p=f+s,g=p*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:v,repeatDelay:b,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),x=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let N=this.currentTime,R=i;if(g){const E=Math.min(this.currentTime,d)/f;let C=Math.floor(E),A=E%1;!A&&E>=1&&(A=1),A===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(v==="reverse"?(A=1-A,b&&(A-=b/f)):v==="mirror"&&(R=o)),N=di(0,1,A)*f}const P=x?{done:!1,value:c[0]}:R.next(N);l&&(P.value=l(P.value));let{done:O}=P;!x&&u!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return S&&s!==void 0&&(P.value=Lg(c,this.options,s)),T&&T(P.value),S&&this.finish(),P}get duration(){const{resolved:e}=this;return e?ni(e.calculatedDuration):0}get time(){return ni(this.currentTime)}set time(e){e=ti(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ni(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Y8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const X8=new Set(["opacity","clipPath","filter","transform"]);function J8(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=EP(l,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const eB=Lb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_m=10,tB=2e4;function nB(t){return Xb(t.type)||t.type==="spring"||!_P(t.ease)}function rB(t,e){const n=new d1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<tB;)r=n.sample(i),s.push(r.value),i+=_m;return{times:void 0,keyframes:s,duration:i-_m,ease:"linear"}}const sR={anticipate:DP,backInOut:OP,circInOut:LP};function sB(t){return t in sR}class kT extends XP{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new ZP(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&vm()&&sB(i)&&(i=sR[i]),nB(this.options)){const{onComplete:f,onUpdate:p,motionValue:g,element:v,...b}=this.options,T=rB(e,b);e=T.keyframes,e.length===1&&(e[1]=e[0]),r=T.duration,s=T.times,i=T.ease,o="keyframes"}const d=J8(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(fT(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Lg(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ni(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ni(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ti(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return sr;const{animation:r}=n;fT(r,e)}return sr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:p,...g}=this.options,v=new d1({...g,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),b=ti(this.time);u.setWithVelocity(v.sample(b-_m).value,v.sample(b).value,_m)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return eB()&&r&&X8.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const iB={type:"spring",stiffness:500,damping:25,restSpeed:10},oB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aB={type:"keyframes",duration:.8},lB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cB=(t,{keyframes:e})=>e.length>2?aB:Xa.has(t)?t.startsWith("scale")?oB(e[1]):iB:lB;function uB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const h1=(t,e,n,r={},s,i)=>o=>{const l=Zb(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ti(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};uB(l)||(d={...d,...cB(t,d)}),d.duration&&(d.duration=ti(d.duration)),d.repeatDelay&&(d.repeatDelay=ti(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const p=Lg(d.keyframes,l);if(p!==void 0)return ht.update(()=>{d.onUpdate(p),d.onComplete()}),new k7([])}return!i&&kT.supports(d)?new kT(d):new d1(d)};function dB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function iR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in c){const p=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),g=c[f];if(g===void 0||d&&dB(d,f))continue;const v={delay:n,...Zb(o||{},f)};let b=!1;if(window.MotionHandoffAnimation){const _=kP(t);if(_){const x=window.MotionHandoffAnimation(_,f,ht);x!==null&&(v.startTime=x,b=!0)}}pv(t,f),p.start(h1(f,p,g,t.shouldReduceMotion&&jP.has(f)?{type:!1}:v,t,b));const T=p.animation;T&&u.push(T)}return l&&Promise.all(u).then(()=>{ht.update(()=>{l&&z7(t,l)})}),u}function bv(t,e,n={}){var r;const s=Mg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(iR(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return hB(t,e,d+u,f,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function hB(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(fB).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(bv(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function fB(t,e){return t.sortNodePosition(e)}function pB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>bv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=bv(t,e,n);else{const s=typeof e=="function"?Mg(t,e,n.custom):e;r=Promise.all(iR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const mB=Fb.length;function oR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mB;n++){const r=Fb[n],s=t.props[r];(Jd(s)||s===!1)&&(e[r]=s)}return e}const gB=[...Vb].reverse(),yB=Vb.length;function xB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pB(t,n,r)))}function vB(t){let e=xB(t),n=IT(),r=!0;const s=c=>(u,d)=>{var f;const p=Mg(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:g,transitionEnd:v,...b}=p;u={...u,...b,...v}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=oR(t.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let T=0;T<yB;T++){const _=gB[T],x=n[_],N=u[_]!==void 0?u[_]:d[_],R=Jd(N),P=_===c?x.isActive:null;P===!1&&(v=T);let O=N===d[_]&&N!==u[_]&&R;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),x.protectedKeys={...g},!x.isActive&&P===null||!N&&!x.prevProp||Og(N)||typeof N=="boolean")continue;const S=wB(x.prevProp,N);let E=S||_===c&&x.isActive&&!O&&R||T>v&&R,C=!1;const A=Array.isArray(N)?N:[N];let M=A.reduce(s(_),{});P===!1&&(M={});const{prevResolvedValues:D={}}=x,k={...D,...M},oe=ke=>{E=!0,p.has(ke)&&(C=!0,p.delete(ke)),x.needsAnimating[ke]=!0;const V=t.getValue(ke);V&&(V.liveStyle=!1)};for(const ke in k){const V=M[ke],Y=D[ke];if(g.hasOwnProperty(ke))continue;let F=!1;dv(V)&&dv(Y)?F=!vP(V,Y):F=V!==Y,F?V!=null?oe(ke):p.add(ke):V!==void 0&&p.has(ke)?oe(ke):x.protectedKeys[ke]=!0}x.prevProp=N,x.prevResolvedValues=M,x.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&S)||C)&&f.push(...A.map(ke=>({animation:ke,options:{type:_}})))}if(p.size){const T={};p.forEach(_=>{const x=t.getBaseTarget(_),N=t.getValue(_);N&&(N.liveStyle=!0),T[_]=x??null}),f.push({animation:T})}let b=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=IT(),r=!0}}}function wB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vP(e,t):!1}function na(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IT(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bB extends Uo{constructor(e){super(e),e.animationState||(e.animationState=vB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Og(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _B=0;class EB extends Uo{constructor(){super(...arguments),this.id=_B++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const NB={animation:{Feature:bB},exit:{Feature:EB}};function rh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $h(t){return{point:{x:t.pageX,y:t.pageY}}}const TB=t=>e=>e1(e)&&t(e,$h(e));function pd(t,e,n,r){return rh(t,e,TB(n),r)}const AT=(t,e)=>Math.abs(t-e);function SB(t,e){const n=AT(t.x,e.x),r=AT(t.y,e.y);return Math.sqrt(n**2+r**2)}class aR{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=b0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=SB(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=f,{timestamp:b}=Jt;this.history.push({...v,timestamp:b});const{onStart:T,onMove:_}=this.handlers;p||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=w0(p,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=b0(f.type==="pointercancel"?this.lastMoveEventInfo:w0(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,T),v&&v(f,T)},!e1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=$h(e),l=w0(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Jt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,b0(l,this.history)),this.removeListeners=Uh(pd(this.contextWindow,"pointermove",this.handlePointerMove),pd(this.contextWindow,"pointerup",this.handlePointerUp),pd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_o(this.updatePoint)}}function w0(t,e){return e?{point:e(t.point)}:t}function PT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function b0({point:t},e){return{point:t,delta:PT(t,lR(e)),offset:PT(t,jB(e)),velocity:CB(e,.1)}}function jB(t){return t[0]}function lR(t){return t[t.length-1]}function CB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=lR(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ti(e)));)n--;if(!r)return{x:0,y:0};const i=ni(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const cR=1e-4,kB=1-cR,IB=1+cR,uR=.01,AB=0-uR,PB=0+uR;function ar(t){return t.max-t.min}function RB(t,e,n){return Math.abs(t-e)<=n}function RT(t,e,n,r=.5){t.origin=r,t.originPoint=yt(e.min,e.max,t.origin),t.scale=ar(n)/ar(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kB&&t.scale<=IB||isNaN(t.scale))&&(t.scale=1),(t.translate>=AB&&t.translate<=PB||isNaN(t.translate))&&(t.translate=0)}function md(t,e,n,r){RT(t.x,e.x,n.x,r?r.originX:void 0),RT(t.y,e.y,n.y,r?r.originY:void 0)}function OT(t,e,n){t.min=n.min+e.min,t.max=t.min+ar(e)}function OB(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function DT(t,e,n){t.min=e.min-n.min,t.max=t.min+ar(e)}function gd(t,e,n){DT(t.x,e.x,n.x),DT(t.y,e.y,n.y)}function DB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yt(n,t,r.max):Math.min(t,n)),t}function MT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MB(t,{top:e,left:n,bottom:r,right:s}){return{x:MT(t.x,n,s),y:MT(t.y,e,r)}}function LT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function LB(t,e){return{x:LT(t.x,e.x),y:LT(t.y,e.y)}}function VB(t,e){let n=.5;const r=ar(t),s=ar(e);return s>r?n=mc(e.min,e.max-r,t.min):r>s&&(n=mc(t.min,t.max-s,e.min)),di(0,1,n)}function FB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _v=.35;function UB(t=_v){return t===!1?t=0:t===!0&&(t=_v),{x:VT(t,"left","right"),y:VT(t,"top","bottom")}}function VT(t,e,n){return{min:FT(t,e),max:FT(t,n)}}function FT(t,e){return typeof t=="number"?t:t[e]||0}const UT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bl=()=>({x:UT(),y:UT()}),$T=()=>({min:0,max:0}),jt=()=>({x:$T(),y:$T()});function mr(t){return[t("x"),t("y")]}function dR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $B({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _0(t){return t===void 0||t===1}function Ev({scale:t,scaleX:e,scaleY:n}){return!_0(t)||!_0(e)||!_0(n)}function ia(t){return Ev(t)||hR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hR(t){return BT(t.x)||BT(t.y)}function BT(t){return t&&t!=="0%"}function Em(t,e,n){const r=t-n,s=e*r;return n+s}function zT(t,e,n,r,s){return s!==void 0&&(t=Em(t,s,r)),Em(t,n,r)+e}function Nv(t,e=0,n=1,r,s){t.min=zT(t.min,e,n,r,s),t.max=zT(t.max,e,n,r,s)}function fR(t,{x:e,y:n}){Nv(t.x,e.translate,e.scale,e.originPoint),Nv(t.y,n.translate,n.scale,n.originPoint)}const WT=.999999999999,HT=1.0000000000001;function zB(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fR(t,o)),r&&ia(i.latestValues)&&Wl(t,i.latestValues))}e.x<HT&&e.x>WT&&(e.x=1),e.y<HT&&e.y>WT&&(e.y=1)}function zl(t,e){t.min=t.min+e,t.max=t.max+e}function qT(t,e,n,r,s=.5){const i=yt(t.min,t.max,s);Nv(t,e,n,i,r)}function Wl(t,e){qT(t.x,e.x,e.scaleX,e.scale,e.originX),qT(t.y,e.y,e.scaleY,e.scale,e.originY)}function pR(t,e){return dR(BB(t.getBoundingClientRect(),e))}function WB(t,e,n){const r=pR(t,n),{scroll:s}=e;return s&&(zl(r.x,s.offset.x),zl(r.y,s.offset.y)),r}const mR=({current:t})=>t?t.ownerDocument.defaultView:null,HB=new WeakMap;class qB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($h(d).point)},i=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V7(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mr(T=>{let _=this.getAxisMotionValue(T).get()||0;if(ys.test(_)){const{projection:x}=this.visualElement;if(x&&x.layout){const N=x.layout.layoutBox[T];N&&(_=ar(N)*(parseFloat(_)/100))}}this.originPoint[T]=_}),v&&ht.postRender(()=>v(d,f)),pv(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=f;if(g&&this.currentDirection===null){this.currentDirection=GB(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),b&&b(d,f)},l=(d,f)=>this.stop(d,f),c=()=>mr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new aR(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:mR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ht.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Yf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=DB(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ul(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=MB(s.layoutBox,n):this.constraints=!1,this.elastic=UB(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&mr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=FB(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ul(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=WB(r,s.root,this.visualElement.getTransformPagePoint());let o=LB(s.layout.layoutBox,i);if(n){const l=n($B(o));this.hasMutatedConstraints=!!l,l&&(o=dR(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=mr(d=>{if(!Yf(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pv(this.visualElement,e),r.start(h1(e,r,0,n,this.visualElement,!1))}stopAnimation(){mr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){mr(n=>{const{drag:r}=this.getProps();if(!Yf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-yt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ul(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};mr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=VB({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mr(o=>{if(!Yf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(yt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;HB.set(this.visualElement,this);const e=this.visualElement.current,n=pd(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ul(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const o=rh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(mr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=_v,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KB extends Uo{constructor(e){super(e),this.removeGroupControls=sr,this.removeListeners=sr,this.controls=new qB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const GT=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class YB extends Uo{constructor(){super(...arguments),this.removePointerDownListener=sr}onPointerDown(e){this.session=new aR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:GT(e),onStart:GT(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ht.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=pd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=KT(t,e.target.x),r=KT(t,e.target.y);return`${n}% ${r}%`}},QB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Eo.parse(t);if(s.length>5)return r;const i=Eo.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=yt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class ZB extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;y7(XB),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ht.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$b.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gR(t){const[e,n]=XA(),r=y.useContext(Rb);return a.jsx(ZB,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(oP),isPresent:e,safeToRemove:n})}const XB={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:QB};function JB(t,e,n){const r=bn(t)?t:th(t);return r.start(h1("",r,e,n)),r.animation}function ez(t){return t instanceof SVGElement&&t.tagName!=="svg"}const tz=(t,e)=>t.depth-e.depth;class nz{constructor(){this.children=[],this.isDirty=!1}add(e){t1(this.children,e),this.isDirty=!0}remove(e){n1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tz),this.isDirty=!1,this.children.forEach(e)}}function rz(t,e){const n=xs.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(_o(r),t(i-e))};return ht.read(r,!0),()=>_o(r)}const yR=["TopLeft","TopRight","BottomLeft","BottomRight"],sz=yR.length,YT=t=>typeof t=="string"?parseFloat(t):t,QT=t=>typeof t=="number"||_e.test(t);function iz(t,e,n,r,s,i){s?(t.opacity=yt(0,n.opacity!==void 0?n.opacity:1,oz(r)),t.opacityExit=yt(e.opacity!==void 0?e.opacity:1,0,az(r))):i&&(t.opacity=yt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<sz;o++){const l=`border${yR[o]}Radius`;let c=ZT(e,l),u=ZT(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||QT(c)===QT(u)?(t[l]=Math.max(yt(YT(c),YT(u),r),0),(ys.test(u)||ys.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,r))}function ZT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oz=xR(0,.5,MP),az=xR(.5,.95,sr);function xR(t,e,n){return r=>r<t?0:r>e?1:n(mc(t,e,r))}function XT(t,e){t.min=e.min,t.max=e.max}function pr(t,e){XT(t.x,e.x),XT(t.y,e.y)}function JT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function eS(t,e,n,r,s){return t-=e,t=Em(t,1/n,r),s!==void 0&&(t=Em(t,1/s,r)),t}function lz(t,e=0,n=1,r=.5,s,i=t,o=t){if(ys.test(e)&&(e=parseFloat(e),e=yt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=yt(i.min,i.max,r);t===i&&(l-=e),t.min=eS(t.min,e,n,l,s),t.max=eS(t.max,e,n,l,s)}function tS(t,e,[n,r,s],i,o){lz(t,e[n],e[r],e[s],e.scale,i,o)}const cz=["x","scaleX","originX"],uz=["y","scaleY","originY"];function nS(t,e,n,r){tS(t.x,e,cz,n?n.x:void 0,r?r.x:void 0),tS(t.y,e,uz,n?n.y:void 0,r?r.y:void 0)}function rS(t){return t.translate===0&&t.scale===1}function vR(t){return rS(t.x)&&rS(t.y)}function sS(t,e){return t.min===e.min&&t.max===e.max}function dz(t,e){return sS(t.x,e.x)&&sS(t.y,e.y)}function iS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wR(t,e){return iS(t.x,e.x)&&iS(t.y,e.y)}function oS(t){return ar(t.x)/ar(t.y)}function aS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hz{constructor(){this.members=[]}add(e){t1(this.members,e),e.scheduleRender()}remove(e){if(n1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fz(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const oa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Yu=typeof window<"u"&&window.MotionDebug!==void 0,E0=["","X","Y","Z"],pz={visibility:"hidden"},lS=1e3;let mz=0;function N0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bR(r)}function _R({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=mz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yu&&(oa.totalNodes=oa.resolvedTargetDeltas=oa.recalculatedProjection=0),this.nodes.forEach(xz),this.nodes.forEach(Ez),this.nodes.forEach(Nz),this.nodes.forEach(vz),Yu&&window.MotionDebug.record(oa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new nz)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new r1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ez(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=rz(p,250),jp.hasAnimatedSinceResize&&(jp.hasAnimatedSinceResize=!1,this.nodes.forEach(uS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||kz,{onLayoutAnimationStart:T,onLayoutAnimationComplete:_}=d.getProps(),x=!this.targetLayout||!wR(this.targetLayout,v)||g,N=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,N);const R={...Zb(b,"layout"),onPlay:T,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||uS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Tz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cS);return}this.isUpdating||this.nodes.forEach(bz),this.isUpdating=!1,this.nodes.forEach(_z),this.nodes.forEach(gz),this.nodes.forEach(yz),this.clearAllSnapshots();const l=xs.now();Jt.delta=di(0,1e3/60,l-Jt.timestamp),Jt.timestamp=l,Jt.isProcessing=!0,p0.update.process(Jt),p0.preRender.process(Jt),p0.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$b.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wz),this.sharedNodes.forEach(Sz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!vR(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ia(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Iz(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return jt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Az))){const{scroll:d}=this.root;d&&(zl(c.x,d.offset.x),zl(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=jt();if(pr(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&pr(c,o),zl(c.x,f.offset.x),zl(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=jt();pr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ia(d.latestValues)&&Wl(c,d.latestValues)}return ia(this.latestValues)&&Wl(c,this.latestValues),c}removeTransform(o){const l=jt();pr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ia(u.latestValues))continue;Ev(u.latestValues)&&u.updateSnapshot();const d=jt(),f=u.measurePageBox();pr(d,f),nS(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ia(this.latestValues)&&nS(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),gd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pr(this.target,this.layout.layoutBox),fR(this.target,this.targetDelta)):pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),gd(this.relativeTargetOrigin,this.target,g.target),pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yu&&oa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ev(this.parent.latestValues)||hR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;pr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;zB(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=jt());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JT(this.prevProjectionDelta.x,this.projectionDelta.x),JT(this.prevProjectionDelta.y,this.projectionDelta.y)),md(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!aS(this.projectionDelta.x,this.prevProjectionDelta.x)||!aS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Yu&&oa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bl(),this.projectionDelta=Bl(),this.projectionDeltaWithTransform=Bl()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=jt(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,b=g!==v,T=this.getStack(),_=!T||T.members.length<=1,x=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(Cz));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const P=R/1e3;dS(f.x,o.x,P),dS(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jz(this.relativeTarget,this.relativeTargetOrigin,p,P),N&&dz(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=jt()),pr(N,this.relativeTarget)),b&&(this.animationValues=d,iz(d,u,this.latestValues,P,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{jp.hasAnimatedSinceResize=!0,this.currentAnimation=JB(0,lS,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&ER(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||jt();const f=ar(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=ar(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}pr(l,c),Wl(l,d),md(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hz),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&N0("z",o,u,this.animationValues);for(let d=0;d<E0.length;d++)N0(`rotate${E0[d]}`,o,u,this.animationValues),N0(`skew${E0[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pz;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Tp(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Tp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=fz(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in xm){if(p[b]===void 0)continue;const{correct:T,applyTo:_}=xm[b],x=u.transform==="none"?p[b]:T(p[b],f);if(_){const N=_.length;for(let R=0;R<N;R++)u[_[R]]=x}else u[b]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Tp(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(cS),this.root.sharedNodes.clear()}}}function gz(t){t.updateLayout()}function yz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?mr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=ar(p);p.min=r[f].min,p.max=p.min+g}):ER(i,n.layoutBox,r)&&mr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=ar(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=Bl();md(l,r,n.layoutBox);const c=Bl();o?md(c,t.applyTransform(s,!0),n.measuredBox):md(c,r,n.layoutBox);const u=!vR(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=jt();gd(v,n.layoutBox,p.layoutBox);const b=jt();gd(b,r,g.layoutBox),wR(v,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xz(t){Yu&&oa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wz(t){t.clearSnapshot()}function cS(t){t.clearMeasurements()}function bz(t){t.isLayoutDirty=!1}function _z(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function uS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ez(t){t.resolveTargetDelta()}function Nz(t){t.calcProjection()}function Tz(t){t.resetSkewAndRotation()}function Sz(t){t.removeLeadSnapshot()}function dS(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hS(t,e,n,r){t.min=yt(e.min,n.min,r),t.max=yt(e.max,n.max,r)}function jz(t,e,n,r){hS(t.x,e.x,n.x,r),hS(t.y,e.y,n.y,r)}function Cz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kz={duration:.45,ease:[.4,0,.1,1]},fS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pS=fS("applewebkit/")&&!fS("chrome/")?Math.round:sr;function mS(t){t.min=pS(t.min),t.max=pS(t.max)}function Iz(t){mS(t.x),mS(t.y)}function ER(t,e,n){return t==="position"||t==="preserve-aspect"&&!RB(oS(e),oS(n),.2)}function Az(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Pz=_R({attachResizeListener:(t,e)=>rh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T0={current:void 0},NR=_R({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!T0.current){const t=new Pz({});t.mount(window),t.setOptions({layoutScroll:!0}),T0.current=t}return T0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Rz={pan:{Feature:YB},drag:{Feature:KB,ProjectionNode:NR,MeasureLayout:gR}};function gS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ht.postRender(()=>i(e,$h(e)))}class Oz extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=R7(e,n=>(gS(this.node,n,"Start"),r=>gS(this.node,r,"End"))))}unmount(){}}class Dz extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uh(rh(this.node.current,"focus",()=>this.onFocus()),rh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yS(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ht.postRender(()=>i(e,$h(e)))}class Mz extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=L7(e,n=>(yS(this.node,n,"Start"),(r,{success:s})=>yS(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tv=new WeakMap,S0=new WeakMap,Lz=t=>{const e=Tv.get(t.target);e&&e(t)},Vz=t=>{t.forEach(Lz)};function Fz({root:t,...e}){const n=t||document;S0.has(n)||S0.set(n,{});const r=S0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Vz,{root:t,...e})),r[s]}function Uz(t,e,n){const r=Fz(e);return Tv.set(t,n),r.observe(t),()=>{Tv.delete(t),r.unobserve(t)}}const $z={some:0,all:1};class Bz extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$z[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return Uz(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zz(e,n))&&this.startObserver()}unmount(){}}function zz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Wz={inView:{Feature:Bz},tap:{Feature:Mz},focus:{Feature:Dz},hover:{Feature:Oz}},Hz={layout:{ProjectionNode:NR,MeasureLayout:gR}},Sv={current:null},TR={current:!1};function qz(){if(TR.current=!0,!!Mb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sv.current=t.matches;t.addListener(e),e()}else Sv.current=!1}const Gz=[...QP,mn,Eo],Kz=t=>Gz.find(YP(t)),xS=new WeakMap;function Yz(t,e,n){for(const r in e){const s=e[r],i=n[r];if(bn(s))t.addValue(r,s);else if(bn(i))t.addValue(r,th(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,th(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const vS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=xs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ht.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Dg(n),this.isVariantNode=sP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];c[g]!==void 0&&bn(v)&&v.set(c[g],!1)}}mount(e){this.current=e,xS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TR.current||qz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xS.delete(this.current),this.projection&&this.projection.unmount(),_o(this.notifyUpdate),_o(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xa.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gc){const n=gc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vS.length;r++){const s=vS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Yz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=th(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(GP(s)||VP(s))?s=parseFloat(s):!Kz(s)&&Eo.test(n)&&(s=WP(e,n)),this.setBaseTarget(e,bn(s)?s.get():s)),bn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=zb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!bn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new r1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class SR extends Qz{constructor(){super(...arguments),this.KeyframeResolver=ZP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Zz(t){return window.getComputedStyle(t)}class Xz extends SR{constructor(){super(...arguments),this.type="html",this.renderInstance=fP}readValueFromInstance(e,n){if(Xa.has(n)){const r=l1(n);return r&&r.default||0}else{const r=Zz(e),s=(uP(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pR(e,n)}build(e,n,r){qb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Qb(e,n,r)}}class Jz extends SR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xa.has(n)){const r=l1(n);return r&&r.default||0}return n=pP.has(n)?n:Ub(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yP(e,n,r)}build(e,n,r){Gb(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){mP(e,n,r,s)}mount(e){this.isSVGTag=Yb(e.tagName),super.mount(e)}}const eW=(t,e)=>Bb(t)?new Jz(e):new Xz(e,{allowProjection:t!==y.Fragment}),tW=S7({...NB,...Wz,...Rz,...Hz},eW),se=$$(tW);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(t,e)=>{const n=y.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...nW,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${rW(t)}`,l].join(" "),...u},[...e.map(([f,p])=>y.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=le("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=le("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=le("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=le("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=le("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=le("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=le("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=le("ClipboardPlus",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M9 14h6",key:"159ibu"}],["path",{d:"M12 17v-6",key:"1y8rbf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=le("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=le("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=le("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=le("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=le("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=le("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=le("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=le("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=le("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=le("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=le("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=le("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=le("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),VW=[{icon:a.jsx(Ja,{className:"w-8 h-8"}),title:"Secure Dispute Management",description:"Handle disputes efficiently with our secure and compliant platform. Bank-level encryption ensures your data is always protected."},{icon:a.jsx(v1,{className:"w-8 h-8"}),title:"Automated Workflows",description:"Streamline your processes with intelligent automation and templates. Save hours with automated dispute letters and follow-ups."},{icon:a.jsx(La,{className:"w-8 h-8"}),title:"Client Portal",description:"Provide your clients with a professional, easy-to-use portal. Real-time updates and transparent communication.",comingSoon:!0},{icon:a.jsx(aW,{className:"w-8 h-8"}),title:"Advanced Analytics",description:"Make data-driven decisions with comprehensive analytics and reporting. Track success rates and optimize strategies."},{icon:a.jsx(xc,{className:"w-8 h-8"}),title:"Client Management CRM",description:"Efficiently manage all your clients in one place. Track cases, organize documents, and maintain detailed client histories."},{icon:a.jsx(CR,{className:"w-8 h-8"}),title:"Compliance Ready",description:"Stay compliant with FCRA, FDCPA, and other regulations. Built-in compliance checks and documentation."}],FW=[{name:"Basic",price:29,description:"Perfect for individuals and small businesses",features:["Up to 50 clients","Basic dispute management","Email support","Standard templates","Basic analytics"],popular:!1},{name:"Pro",price:49,description:"Ideal for growing businesses",features:["Up to 200 clients","Advanced dispute management","Priority email support","Custom templates","Advanced analytics","API access","Custom branding"],popular:!0},{name:"Enterprise",price:99,description:"For large organizations with advanced needs",features:["Unlimited clients","Enterprise dispute management","24/7 priority support","Custom templates & workflows","Advanced analytics & reporting","Full API access","Custom branding & white-labeling","Dedicated account manager"],popular:!1}],UW=[{quote:"This platform has transformed how we handle disputes. It's intuitive and efficient.",author:"Sarah Johnson",role:"Legal Director, TechCorp",rating:5},{quote:"The automation features have saved us countless hours. Highly recommended!",author:"Michael Chen",role:"Operations Manager, Global Solutions",rating:5},{quote:"The client portal is a game-changer. Our clients love the transparency.",author:"Emma Rodriguez",role:"CEO, LegalTech Partners",rating:5}],$W=[{number:"10,000+",label:"Disputes Resolved"},{number:"500+",label:"Happy Clients"},{number:"95%",label:"Success Rate"},{number:"24/7",label:"Support Available"}];function BW(){const[t,e]=y.useState(!1),n=[{name:"Features",href:"#features"},{name:"Pricing",href:"#pricing"},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}];return a.jsxs("main",{className:"min-h-screen bg-white",children:[a.jsx("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(Je,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-500 bg-clip-text text-transparent",children:"Credexis"})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[n.map(r=>a.jsx("a",{href:r.href,className:"text-gray-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors",children:r.name},r.name)),a.jsx(Je,{to:"/login",className:"text-gray-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors",children:"Sign In"}),a.jsx(Je,{to:"/signup",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors",children:"Get Started"})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{type:"button",className:"text-gray-600 hover:text-indigo-600 focus:outline-none focus:text-indigo-600",onClick:()=>e(!t),children:t?a.jsx(sn,{className:"h-6 w-6","aria-hidden":"true"}):a.jsx(x1,{className:"h-6 w-6","aria-hidden":"true"})})})]}),t&&a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t border-gray-200",children:[n.map(r=>a.jsx("a",{href:r.href,className:"text-gray-600 hover:text-indigo-600 block px-3 py-2 text-base font-medium transition-colors",onClick:()=>e(!1),children:r.name},r.name)),a.jsx(Je,{to:"/login",className:"text-gray-600 hover:text-indigo-600 block px-3 py-2 text-base font-medium transition-colors",onClick:()=>e(!1),children:"Sign In"}),a.jsx(Je,{to:"/signup",className:"bg-indigo-600 text-white block px-3 py-2 rounded-lg text-base font-medium hover:bg-indigo-700 transition-colors mt-2",onClick:()=>e(!1),children:"Get Started"})]})})]})}),a.jsx("header",{className:"relative overflow-hidden pt-16 pb-24",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:a.jsx("span",{className:"inline-block px-4 py-2 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"Welcome to Credexis"})}),a.jsxs(se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[a.jsx("span",{className:"block",children:"Streamline Your"}),a.jsx("span",{className:"block text-indigo-600",children:"Credit Dispute Management"}),a.jsx("span",{className:"block text-lg sm:text-xl md:text-2xl font-normal text-gray-500 mt-4",children:"with Credexis"})]}),a.jsx(se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"Credexis is the professional credit repair software for modern businesses. Automate dispute management, maintain FCRA compliance, and provide exceptional client service with our comprehensive platform."}),a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8",role:"group","aria-label":"Get started with Credexis",children:[a.jsx("div",{className:"rounded-md shadow",children:a.jsxs(Je,{to:"/signup",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10 transition-colors","aria-label":"Start free trial of Credexis credit dispute management software",children:["Start Free Trial",a.jsx(wS,{className:"ml-2 w-5 h-5","aria-hidden":"true"})]})}),a.jsx("div",{className:"mt-3 rounded-md shadow sm:mt-0 sm:ml-3",children:a.jsx(Je,{to:"/login",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10 transition-colors","aria-label":"Sign in to existing Credexis account",children:"Sign In"})})]})]})})}),a.jsx("section",{className:"py-16 bg-indigo-600","aria-labelledby":"stats-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{id:"stats-heading",className:"sr-only",children:"Credexis Platform Statistics"}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:"Trusted by Credit Repair Professionals"}),a.jsx("p",{className:"text-indigo-200 mt-2",children:"See why businesses choose Credexis for their credit dispute management"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:$W.map((r,s)=>a.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:r.number}),a.jsx("div",{className:"text-indigo-200",children:r.label})]},s))})]})}),a.jsx("section",{className:"py-24 bg-gray-50",id:"features","aria-labelledby":"features-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("header",{className:"text-center",children:[a.jsx("h2",{id:"features-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Complete Credit Dispute Management Features"}),a.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Powerful Credexis tools to streamline your workflow and enhance client satisfaction"})]}),a.jsx("div",{className:"mt-20 grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:VW.map((r,s)=>a.jsxs(se.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"relative p-8 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[r.comingSoon&&a.jsx("div",{className:"absolute -top-3 -right-3 bg-gradient-to-r from-orange-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg",children:"Coming Soon"}),a.jsx("div",{className:"text-indigo-600 mb-6","aria-hidden":"true",children:r.icon}),a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:[r.title,r.comingSoon&&a.jsx("span",{className:"ml-2 text-sm text-orange-500 font-medium",children:"(Coming Soon)"})]}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]},s))})]})}),a.jsx("section",{className:"py-24 bg-white",id:"pricing","aria-labelledby":"pricing-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("header",{className:"text-center",children:[a.jsx("h2",{id:"pricing-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Credexis Pricing Plans"}),a.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Transparent pricing for credit dispute management software that scales with your business"})]}),a.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:FW.map((r,s)=>a.jsxs(se.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:`relative rounded-2xl border ${r.popular?"border-indigo-500 shadow-lg scale-105":"border-gray-200"} p-8 flex flex-col bg-white`,children:[r.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-indigo-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",r.price]}),a.jsx("span",{className:"text-gray-500",children:"/month"})]}),a.jsx("p",{className:"text-gray-500 mt-4",children:r.description}),a.jsx("ul",{className:"mt-8 space-y-4",role:"list",children:r.features.map((i,o)=>a.jsxs("li",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(sh,{className:"w-5 h-5 text-green-500","aria-hidden":"true"}),a.jsx("span",{children:i})]},o))})]}),a.jsx("button",{className:`mt-8 w-full py-3 px-6 rounded-lg font-medium transition-colors ${r.popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,"aria-label":`Get started with ${r.name} plan for $${r.price} per month`,children:"Get Started"})]},s))})]})}),a.jsx("section",{className:"py-24 bg-gray-50",id:"about","aria-labelledby":"about-heading",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 lg:items-center",children:[a.jsxs("article",{children:[a.jsx("h2",{id:"about-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"About Credexis"}),a.jsx("p",{className:"mt-6 text-lg text-gray-600 leading-relaxed",children:"Founded by industry experts with over 20 years of combined experience in credit repair and dispute management, Credexis was built to solve the real challenges faced by credit repair professionals and businesses."}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 leading-relaxed",children:"Our platform combines cutting-edge technology with deep industry knowledge to provide the most comprehensive credit dispute management solution available. Credexis is committed to helping businesses scale efficiently while maintaining the highest standards of FCRA compliance and client service."}),a.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oh,{className:"w-6 h-6 text-indigo-600","aria-hidden":"true"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Mission-Driven"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ja,{className:"w-6 h-6 text-indigo-600","aria-hidden":"true"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Security First"})]})]})]}),a.jsx("div",{className:"mt-12 lg:mt-0",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"20+"}),a.jsx("div",{className:"text-gray-600",children:"Years Experience"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"99.9%"}),a.jsx("div",{className:"text-gray-600",children:"Uptime"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"SOC 2"}),a.jsx("div",{className:"text-gray-600",children:"Compliant"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"24/7"}),a.jsx("div",{className:"text-gray-600",children:"Support"})]})]})})]})})}),a.jsx("section",{className:"py-24 bg-white","aria-labelledby":"testimonials-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("header",{className:"text-center",children:a.jsx("h2",{id:"testimonials-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"What Our Customers Say About Credexis"})}),a.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:UW.map((r,s)=>a.jsxs(se.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"bg-gray-50 p-8 rounded-xl",children:[a.jsx("div",{className:"flex items-center mb-4",role:"img","aria-label":`${r.rating} out of 5 stars`,children:[...Array(r.rating)].map((i,o)=>a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o))}),a.jsxs("blockquote",{className:"text-gray-600 italic mb-6",children:['"',r.quote,'"']}),a.jsxs("footer",{children:[a.jsx("cite",{className:"font-semibold text-gray-900 not-italic",children:r.author}),a.jsx("p",{className:"text-gray-500",children:r.role})]})]},s))})]})}),a.jsx("section",{className:"py-24 bg-gray-50",id:"contact","aria-labelledby":"contact-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("header",{className:"text-center mb-16",children:[a.jsx("h2",{id:"contact-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Contact the Credexis Team"}),a.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Have questions about Credexis credit dispute management software? We'd love to hear from you."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("address",{className:"flex items-start gap-4 not-italic",children:[a.jsx(ih,{className:"w-6 h-6 text-indigo-600 mt-1","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Us"}),a.jsx("p",{className:"text-gray-600",children:a.jsx("a",{href:"mailto:support@credexis.com",className:"hover:text-indigo-600 transition-colors",children:"support@credexis.com"})}),a.jsx("p",{className:"text-gray-600",children:a.jsx("a",{href:"mailto:sales@credexis.com",className:"hover:text-indigo-600 transition-colors",children:"sales@credexis.com"})})]})]}),a.jsxs("address",{className:"flex items-start gap-4 not-italic",children:[a.jsx(MR,{className:"w-6 h-6 text-indigo-600 mt-1","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Call Us"}),a.jsx("p",{className:"text-gray-600",children:a.jsx("a",{href:"tel:+15551234567",className:"hover:text-indigo-600 transition-colors",children:"+1 (555) 123-4567"})}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Monday-Friday, 9am-6pm EST"})]})]}),a.jsxs("address",{className:"flex items-start gap-4 not-italic",children:[a.jsx(DR,{className:"w-6 h-6 text-indigo-600 mt-1","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Office"}),a.jsx("p",{className:"text-gray-600",children:"123 Business Ave"}),a.jsx("p",{className:"text-gray-600",children:"Miami, FL 33101"})]})]})]})}),a.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:a.jsxs("form",{className:"space-y-6","aria-label":"Contact form",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{type:"text",id:"lastName",name:"lastName",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",rows:4,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-md font-medium hover:bg-indigo-700 transition-colors","aria-label":"Send contact message",children:"Send Message"})]})})]})]})}),a.jsx("section",{className:"bg-indigo-600","aria-labelledby":"cta-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between",children:[a.jsxs("h2",{id:"cta-heading",className:"text-3xl font-extrabold tracking-tight text-white sm:text-4xl",children:[a.jsx("span",{className:"block",children:"Ready to get started with Credexis?"}),a.jsx("span",{className:"block text-indigo-200",children:"Start your free trial today."})]}),a.jsx("div",{className:"mt-8 flex lg:mt-0 lg:flex-shrink-0",children:a.jsx("div",{className:"inline-flex rounded-md shadow",children:a.jsxs(Je,{to:"/signup",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-indigo-50 transition-colors","aria-label":"Start free trial of Credexis credit repair software",children:["Get started",a.jsx(wS,{className:"ml-2 w-5 h-5","aria-hidden":"true"})]})})})]})})]})}var zh=t=>t.type==="checkbox",ba=t=>t instanceof Date,jn=t=>t==null;const VR=t=>typeof t=="object";var At=t=>!jn(t)&&!Array.isArray(t)&&VR(t)&&!ba(t),zW=t=>At(t)&&t.target?zh(t.target)?t.target.checked:t.target.value:t,WW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,HW=(t,e)=>t.has(WW(e)),qW=t=>{const e=t.constructor&&t.constructor.prototype;return At(e)&&e.hasOwnProperty("isPrototypeOf")},w1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(w1&&(t instanceof Blob||r))&&(n||At(t)))if(e=n?[]:{},!n&&!qW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=pn(t[s]));else return t;return e}var Ug=t=>Array.isArray(t)?t.filter(Boolean):[],Ot=t=>t===void 0,pe=(t,e,n)=>{if(!e||!At(t))return n;const r=Ug(e.split(/[,[\].]+?/)).reduce((s,i)=>jn(s)?s:s[i],t);return Ot(r)||r===t?Ot(t[e])?n:t[e]:r},os=t=>typeof t=="boolean",b1=t=>/^\w*$/.test(t),FR=t=>Ug(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(t,e,n)=>{let r=-1;const s=b1(e)?[e]:FR(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=At(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const bS={BLUR:"blur",FOCUS_OUT:"focusout"},Fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$s={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ne.createContext(null);var GW=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Fr.all&&(e._proxyFormState[o]=!r||Fr.all),t[o]}});return s};const KW=typeof window<"u"?y.useLayoutEffect:y.useEffect;var ps=t=>typeof t=="string",YW=(t,e,n,r,s)=>ps(t)?(r&&e.watch.add(t),pe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),pe(n,i))):(r&&(e.watchAll=!0),n),_1=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},yd=t=>Array.isArray(t)?t:[t],_S=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Cv=t=>jn(t)||!VR(t);function Hi(t,e){if(Cv(t)||Cv(e))return t===e;if(ba(t)&&ba(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ba(i)&&ba(o)||At(i)&&At(o)||Array.isArray(i)&&Array.isArray(o)?!Hi(i,o):i!==o)return!1}}return!0}var Mn=t=>At(t)&&!Object.keys(t).length,E1=t=>t.type==="file",Ur=t=>typeof t=="function",Tm=t=>{if(!w1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},UR=t=>t.type==="select-multiple",N1=t=>t.type==="radio",QW=t=>N1(t)||zh(t),j0=t=>Tm(t)&&t.isConnected;function ZW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ot(t)?r++:t[e[r++]];return t}function XW(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ot(t[e]))return!1;return!0}function Ut(t,e){const n=Array.isArray(e)?e:b1(e)?[e]:FR(e),r=n.length===1?t:ZW(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(At(r)&&Mn(r)||Array.isArray(r)&&XW(r))&&Ut(t,n.slice(0,-1)),t}var $R=t=>{for(const e in t)if(Ur(t[e]))return!0;return!1};function Sm(t,e={}){const n=Array.isArray(t);if(At(t)||n)for(const r in t)Array.isArray(t[r])||At(t[r])&&!$R(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Sm(t[r],e[r])):jn(t[r])||(e[r]=!0);return e}function BR(t,e,n){const r=Array.isArray(t);if(At(t)||r)for(const s in t)Array.isArray(t[s])||At(t[s])&&!$R(t[s])?Ot(e)||Cv(n[s])?n[s]=Array.isArray(t[s])?Sm(t[s],[]):{...Sm(t[s])}:BR(t[s],jn(e)?{}:e[s],n[s]):n[s]=!Hi(t[s],e[s]);return n}var Pu=(t,e)=>BR(t,e,Sm(e));const ES={value:!1,isValid:!1},NS={value:!0,isValid:!0};var zR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ot(t[0].attributes.value)?Ot(t[0].value)||t[0].value===""?NS:{value:t[0].value,isValid:!0}:NS:ES}return ES},WR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ot(t)?t:e?t===""?NaN:t&&+t:n&&ps(t)?new Date(t):r?r(t):t;const TS={isValid:!1,value:null};var HR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,TS):TS;function SS(t){const e=t.ref;return E1(e)?e.files:N1(e)?HR(t.refs).value:UR(e)?[...e.selectedOptions].map(({value:n})=>n):zh(e)?zR(t.refs).value:WR(Ot(e.value)?t.ref.value:e.value,t)}var JW=(t,e,n,r)=>{const s={};for(const i of t){const o=pe(e,i);o&&nt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},jm=t=>t instanceof RegExp,Ru=t=>Ot(t)?t:jm(t)?t.source:At(t)?jm(t.value)?t.value.source:t.value:t,jS=t=>({isOnSubmit:!t||t===Fr.onSubmit,isOnBlur:t===Fr.onBlur,isOnChange:t===Fr.onChange,isOnAll:t===Fr.all,isOnTouch:t===Fr.onTouched});const CS="AsyncFunction";var eH=t=>!!t&&!!t.validate&&!!(Ur(t.validate)&&t.validate.constructor.name===CS||At(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===CS)),tH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),kS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const xd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=pe(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(xd(l,e))break}else if(At(l)&&xd(l,e))break}}};function IS(t,e,n){const r=pe(t,n);if(r||b1(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=pe(e,i),l=pe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var nH=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Mn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Fr.all))},rH=(t,e,n)=>!t||!e||t===e||yd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),sH=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,iH=(t,e)=>!Ug(pe(t,e)).length&&Ut(t,e),oH=(t,e,n)=>{const r=yd(pe(t,n));return nt(r,"root",e[n]),nt(t,n,r),t},Cp=t=>ps(t);function AS(t,e,n="validate"){if(Cp(t)||Array.isArray(t)&&t.every(Cp)||os(t)&&!t)return{type:n,message:Cp(t)?t:"",ref:e}}var _l=t=>At(t)&&!jm(t)?t:{value:t,message:""},PS=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:g,validate:v,name:b,valueAsNumber:T,mount:_}=t._f,x=pe(n,b);if(!_||e.has(b))return{};const N=l?l[0]:o,R=D=>{s&&N.reportValidity&&(N.setCustomValidity(os(D)?"":D||""),N.reportValidity())},P={},O=N1(o),S=zh(o),E=O||S,C=(T||E1(o))&&Ot(o.value)&&Ot(x)||Tm(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,A=_1.bind(null,b,r,P),M=(D,k,oe,Ce=$s.maxLength,$e=$s.minLength)=>{const ke=D?k:oe;P[b]={type:D?Ce:$e,message:ke,ref:o,...A(D?Ce:$e,ke)}};if(i?!Array.isArray(x)||!x.length:c&&(!E&&(C||jn(x))||os(x)&&!x||S&&!zR(l).isValid||O&&!HR(l).isValid)){const{value:D,message:k}=Cp(c)?{value:!!c,message:c}:_l(c);if(D&&(P[b]={type:$s.required,message:k,ref:N,...A($s.required,k)},!r))return R(k),P}if(!C&&(!jn(f)||!jn(p))){let D,k;const oe=_l(p),Ce=_l(f);if(!jn(x)&&!isNaN(x)){const $e=o.valueAsNumber||x&&+x;jn(oe.value)||(D=$e>oe.value),jn(Ce.value)||(k=$e<Ce.value)}else{const $e=o.valueAsDate||new Date(x),ke=F=>new Date(new Date().toDateString()+" "+F),V=o.type=="time",Y=o.type=="week";ps(oe.value)&&x&&(D=V?ke(x)>ke(oe.value):Y?x>oe.value:$e>new Date(oe.value)),ps(Ce.value)&&x&&(k=V?ke(x)<ke(Ce.value):Y?x<Ce.value:$e<new Date(Ce.value))}if((D||k)&&(M(!!D,oe.message,Ce.message,$s.max,$s.min),!r))return R(P[b].message),P}if((u||d)&&!C&&(ps(x)||i&&Array.isArray(x))){const D=_l(u),k=_l(d),oe=!jn(D.value)&&x.length>+D.value,Ce=!jn(k.value)&&x.length<+k.value;if((oe||Ce)&&(M(oe,D.message,k.message),!r))return R(P[b].message),P}if(g&&!C&&ps(x)){const{value:D,message:k}=_l(g);if(jm(D)&&!x.match(D)&&(P[b]={type:$s.pattern,message:k,ref:o,...A($s.pattern,k)},!r))return R(k),P}if(v){if(Ur(v)){const D=await v(x,n),k=AS(D,N);if(k&&(P[b]={...k,...A($s.validate,k.message)},!r))return R(k.message),P}else if(At(v)){let D={};for(const k in v){if(!Mn(D)&&!r)break;const oe=AS(await v[k](x,n),N,k);oe&&(D={...oe,...A(k,oe.message)},R(oe.message),r&&(P[b]=D))}if(!Mn(D)&&(P[b]={ref:N,...D},!r))return P}}return R(!0),P};const aH={mode:Fr.onSubmit,reValidateMode:Fr.onChange,shouldFocusError:!0};function lH(t={}){let e={...aH,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=At(e.defaultValues)||At(e.values)?pn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:pn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:_S(),state:_S()},g=e.criteriaMode===Fr.all,v=L=>$=>{clearTimeout(u),u=setTimeout(L,$)},b=async L=>{if(!e.disabled&&(d.isValid||f.isValid||L)){const $=e.resolver?Mn((await S()).errors):await C(r,!0);$!==n.isValid&&p.state.next({isValid:$})}},T=(L,$)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(l.mount)).forEach(W=>{W&&($?nt(n.validatingFields,W,$):Ut(n.validatingFields,W))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Mn(n.validatingFields)}))},_=(L,$=[],W,ie,J=!0,Z=!0)=>{if(ie&&W&&!e.disabled){if(o.action=!0,Z&&Array.isArray(pe(r,L))){const ae=W(pe(r,L),ie.argA,ie.argB);J&&nt(r,L,ae)}if(Z&&Array.isArray(pe(n.errors,L))){const ae=W(pe(n.errors,L),ie.argA,ie.argB);J&&nt(n.errors,L,ae),iH(n.errors,L)}if((d.touchedFields||f.touchedFields)&&Z&&Array.isArray(pe(n.touchedFields,L))){const ae=W(pe(n.touchedFields,L),ie.argA,ie.argB);J&&nt(n.touchedFields,L,ae)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Pu(s,i)),p.state.next({name:L,isDirty:M(L,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else nt(i,L,$)},x=(L,$)=>{nt(n.errors,L,$),p.state.next({errors:n.errors})},N=L=>{n.errors=L,p.state.next({errors:n.errors,isValid:!1})},R=(L,$,W,ie)=>{const J=pe(r,L);if(J){const Z=pe(i,L,Ot(W)?pe(s,L):W);Ot(Z)||ie&&ie.defaultChecked||$?nt(i,L,$?Z:SS(J._f)):oe(L,Z),o.mount&&b()}},P=(L,$,W,ie,J)=>{let Z=!1,ae=!1;const je={name:L};if(!e.disabled){if(!W||ie){(d.isDirty||f.isDirty)&&(ae=n.isDirty,n.isDirty=je.isDirty=M(),Z=ae!==je.isDirty);const Be=Hi(pe(s,L),$);ae=!!pe(n.dirtyFields,L),Be?Ut(n.dirtyFields,L):nt(n.dirtyFields,L,!0),je.dirtyFields=n.dirtyFields,Z=Z||(d.dirtyFields||f.dirtyFields)&&ae!==!Be}if(W){const Be=pe(n.touchedFields,L);Be||(nt(n.touchedFields,L,W),je.touchedFields=n.touchedFields,Z=Z||(d.touchedFields||f.touchedFields)&&Be!==W)}Z&&J&&p.state.next(je)}return Z?je:{}},O=(L,$,W,ie)=>{const J=pe(n.errors,L),Z=(d.isValid||f.isValid)&&os($)&&n.isValid!==$;if(e.delayError&&W?(c=v(()=>x(L,W)),c(e.delayError)):(clearTimeout(u),c=null,W?nt(n.errors,L,W):Ut(n.errors,L)),(W?!Hi(J,W):J)||!Mn(ie)||Z){const ae={...ie,...Z&&os($)?{isValid:$}:{},errors:n.errors,name:L};n={...n,...ae},p.state.next(ae)}},S=async L=>{T(L,!0);const $=await e.resolver(i,e.context,JW(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(L),$},E=async L=>{const{errors:$}=await S(L);if(L)for(const W of L){const ie=pe($,W);ie?nt(n.errors,W,ie):Ut(n.errors,W)}else n.errors=$;return $},C=async(L,$,W={valid:!0})=>{for(const ie in L){const J=L[ie];if(J){const{_f:Z,...ae}=J;if(Z){const je=l.array.has(Z.name),Be=J._f&&eH(J._f);Be&&d.validatingFields&&T([ie],!0);const Ht=await PS(J,l.disabled,i,g,e.shouldUseNativeValidation&&!$,je);if(Be&&d.validatingFields&&T([ie]),Ht[Z.name]&&(W.valid=!1,$))break;!$&&(pe(Ht,Z.name)?je?oH(n.errors,Ht,Z.name):nt(n.errors,Z.name,Ht[Z.name]):Ut(n.errors,Z.name))}!Mn(ae)&&await C(ae,$,W)}}return W.valid},A=()=>{for(const L of l.unMount){const $=pe(r,L);$&&($._f.refs?$._f.refs.every(W=>!j0(W)):!j0($._f.ref))&&Ft(L)}l.unMount=new Set},M=(L,$)=>!e.disabled&&(L&&$&&nt(i,L,$),!Hi(F(),s)),D=(L,$,W)=>YW(L,l,{...o.mount?i:Ot($)?s:ps(L)?{[L]:$}:$},W,$),k=L=>Ug(pe(o.mount?i:s,L,e.shouldUnregister?pe(s,L,[]):[])),oe=(L,$,W={})=>{const ie=pe(r,L);let J=$;if(ie){const Z=ie._f;Z&&(!Z.disabled&&nt(i,L,WR($,Z)),J=Tm(Z.ref)&&jn($)?"":$,UR(Z.ref)?[...Z.ref.options].forEach(ae=>ae.selected=J.includes(ae.value)):Z.refs?zh(Z.ref)?Z.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(J)?ae.checked=!!J.find(je=>je===ae.value):ae.checked=J===ae.value||!!J)}):Z.refs.forEach(ae=>ae.checked=ae.value===J):E1(Z.ref)?Z.ref.value="":(Z.ref.value=J,Z.ref.type||p.state.next({name:L,values:pn(i)})))}(W.shouldDirty||W.shouldTouch)&&P(L,J,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&Y(L)},Ce=(L,$,W)=>{for(const ie in $){if(!$.hasOwnProperty(ie))return;const J=$[ie],Z=L+"."+ie,ae=pe(r,Z);(l.array.has(L)||At(J)||ae&&!ae._f)&&!ba(J)?Ce(Z,J,W):oe(Z,J,W)}},$e=(L,$,W={})=>{const ie=pe(r,L),J=l.array.has(L),Z=pn($);nt(i,L,Z),J?(p.array.next({name:L,values:pn(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&W.shouldDirty&&p.state.next({name:L,dirtyFields:Pu(s,i),isDirty:M(L,Z)})):ie&&!ie._f&&!jn(Z)?Ce(L,Z,W):oe(L,Z,W),kS(L,l)&&p.state.next({...n}),p.state.next({name:o.mount?L:void 0,values:pn(i)})},ke=async L=>{o.mount=!0;const $=L.target;let W=$.name,ie=!0;const J=pe(r,W),Z=Be=>{ie=Number.isNaN(Be)||ba(Be)&&isNaN(Be.getTime())||Hi(Be,pe(i,W,Be))},ae=jS(e.mode),je=jS(e.reValidateMode);if(J){let Be,Ht;const Ps=$.type?SS(J._f):zW(L),fr=L.type===bS.BLUR||L.type===bS.FOCUS_OUT,es=!tH(J._f)&&!e.resolver&&!pe(n.errors,W)&&!J._f.deps||sH(fr,pe(n.touchedFields,W),n.isSubmitted,je,ae),Rs=kS(W,l,fr);nt(i,W,Ps),fr?(J._f.onBlur&&J._f.onBlur(L),c&&c(0)):J._f.onChange&&J._f.onChange(L);const Os=P(W,Ps,fr),Si=!Mn(Os)||Rs;if(!fr&&p.state.next({name:W,type:L.type,values:pn(i)}),es)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?fr&&b():fr||b()),Si&&p.state.next({name:W,...Rs?{}:Os});if(!fr&&Rs&&p.state.next({...n}),e.resolver){const{errors:Yo}=await S([W]);if(Z(Ps),ie){const cl=IS(n.errors,r,W),ji=IS(Yo,r,cl.name||W);Be=ji.error,W=ji.name,Ht=Mn(Yo)}}else T([W],!0),Be=(await PS(J,l.disabled,i,g,e.shouldUseNativeValidation))[W],T([W]),Z(Ps),ie&&(Be?Ht=!1:(d.isValid||f.isValid)&&(Ht=await C(r,!0)));ie&&(J._f.deps&&Y(J._f.deps),O(W,Ht,Be,Os))}},V=(L,$)=>{if(pe(n.errors,$)&&L.focus)return L.focus(),1},Y=async(L,$={})=>{let W,ie;const J=yd(L);if(e.resolver){const Z=await E(Ot(L)?L:J);W=Mn(Z),ie=L?!J.some(ae=>pe(Z,ae)):W}else L?(ie=(await Promise.all(J.map(async Z=>{const ae=pe(r,Z);return await C(ae&&ae._f?{[Z]:ae}:ae)}))).every(Boolean),!(!ie&&!n.isValid)&&b()):ie=W=await C(r);return p.state.next({...!ps(L)||(d.isValid||f.isValid)&&W!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:W}:{},errors:n.errors}),$.shouldFocus&&!ie&&xd(r,V,L?J:l.mount),ie},F=L=>{const $={...o.mount?i:s};return Ot(L)?$:ps(L)?pe($,L):L.map(W=>pe($,W))},ee=(L,$)=>({invalid:!!pe(($||n).errors,L),isDirty:!!pe(($||n).dirtyFields,L),error:pe(($||n).errors,L),isValidating:!!pe(n.validatingFields,L),isTouched:!!pe(($||n).touchedFields,L)}),ve=L=>{L&&yd(L).forEach($=>Ut(n.errors,$)),p.state.next({errors:L?n.errors:{}})},G=(L,$,W)=>{const ie=(pe(r,L,{_f:{}})._f||{}).ref,J=pe(n.errors,L)||{},{ref:Z,message:ae,type:je,...Be}=J;nt(n.errors,L,{...Be,...$,ref:ie}),p.state.next({name:L,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&ie&&ie.focus&&ie.focus()},Te=(L,$)=>Ur(L)?p.state.subscribe({next:W=>L(D(void 0,$),W)}):D(L,$,!0),Se=L=>p.state.subscribe({next:$=>{rH(L.name,$.name,L.exact)&&nH($,L.formState||d,ll,L.reRenderRoot)&&L.callback({values:{...i},...n,...$})}}).unsubscribe,bt=L=>(o.mount=!0,f={...f,...L.formState},Se({...L,formState:f})),Ft=(L,$={})=>{for(const W of L?yd(L):l.mount)l.mount.delete(W),l.array.delete(W),$.keepValue||(Ut(r,W),Ut(i,W)),!$.keepError&&Ut(n.errors,W),!$.keepDirty&&Ut(n.dirtyFields,W),!$.keepTouched&&Ut(n.touchedFields,W),!$.keepIsValidating&&Ut(n.validatingFields,W),!e.shouldUnregister&&!$.keepDefaultValue&&Ut(s,W);p.state.next({values:pn(i)}),p.state.next({...n,...$.keepDirty?{isDirty:M()}:{}}),!$.keepIsValid&&b()},Rn=({disabled:L,name:$})=>{(os(L)&&o.mount||L||l.disabled.has($))&&(L?l.disabled.add($):l.disabled.delete($))},Gn=(L,$={})=>{let W=pe(r,L);const ie=os($.disabled)||os(e.disabled);return nt(r,L,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:L}},name:L,mount:!0,...$}}),l.mount.add(L),W?Rn({disabled:os($.disabled)?$.disabled:e.disabled,name:L}):R(L,!0,$.value),{...ie?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:Ru($.min),max:Ru($.max),minLength:Ru($.minLength),maxLength:Ru($.maxLength),pattern:Ru($.pattern)}:{},name:L,onChange:ke,onBlur:ke,ref:J=>{if(J){Gn(L,$),W=pe(r,L);const Z=Ot(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,ae=QW(Z),je=W._f.refs||[];if(ae?je.find(Be=>Be===Z):Z===W._f.ref)return;nt(r,L,{_f:{...W._f,...ae?{refs:[...je.filter(j0),Z,...Array.isArray(pe(s,L))?[{}]:[]],ref:{type:Z.type,name:L}}:{ref:Z}}}),R(L,!1,void 0,Z)}else W=pe(r,L,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(HW(l.array,L)&&o.action)&&l.unMount.add(L)}}},On=()=>e.shouldFocusError&&xd(r,V,l.mount),Ye=L=>{os(L)&&(p.state.next({disabled:L}),xd(r,($,W)=>{const ie=pe(r,W);ie&&($.disabled=ie._f.disabled||L,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(J=>{J.disabled=ie._f.disabled||L}))},0,!1))},Tt=(L,$)=>async W=>{let ie;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let J=pn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:ae}=await S();n.errors=Z,J=ae}else await C(r);if(l.disabled.size)for(const Z of l.disabled)nt(J,Z,void 0);if(Ut(n.errors,"root"),Mn(n.errors)){p.state.next({errors:{}});try{await L(J,W)}catch(Z){ie=Z}}else $&&await $({...n.errors},W),On(),setTimeout(On);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},St=(L,$={})=>{pe(r,L)&&(Ot($.defaultValue)?$e(L,pn(pe(s,L))):($e(L,$.defaultValue),nt(s,L,pn($.defaultValue))),$.keepTouched||Ut(n.touchedFields,L),$.keepDirty||(Ut(n.dirtyFields,L),n.isDirty=$.defaultValue?M(L,pn(pe(s,L))):M()),$.keepError||(Ut(n.errors,L),d.isValid&&b()),p.state.next({...n}))},ln=(L,$={})=>{const W=L?pn(L):s,ie=pn(W),J=Mn(L),Z=J?s:ie;if($.keepDefaultValues||(s=W),!$.keepValues){if($.keepDirtyValues){const ae=new Set([...l.mount,...Object.keys(Pu(s,i))]);for(const je of Array.from(ae))pe(n.dirtyFields,je)?nt(Z,je,pe(i,je)):$e(je,pe(Z,je))}else{if(w1&&Ot(L))for(const ae of l.mount){const je=pe(r,ae);if(je&&je._f){const Be=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Tm(Be)){const Ht=Be.closest("form");if(Ht){Ht.reset();break}}}}for(const ae of l.mount)$e(ae,pe(Z,ae))}i=pn(Z),p.array.next({values:{...Z}}),p.state.next({values:{...Z}})}l={mount:$.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:J?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Hi(L,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Pu(s,i):n.dirtyFields:$.keepDefaultValues&&L?Pu(s,L):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Is=(L,$)=>ln(Ur(L)?L(i):L,$),As=(L,$={})=>{const W=pe(r,L),ie=W&&W._f;if(ie){const J=ie.refs?ie.refs[0]:ie.ref;J.focus&&(J.focus(),$.shouldSelect&&Ur(J.select)&&J.select())}},ll=L=>{n={...n,...L}},Ti={control:{register:Gn,unregister:Ft,getFieldState:ee,handleSubmit:Tt,setError:G,_subscribe:Se,_runSchema:S,_focusError:On,_getWatch:D,_getDirty:M,_setValid:b,_setFieldArray:_,_setDisabledField:Rn,_setErrors:N,_getFieldArray:k,_reset:ln,_resetDefaultValues:()=>Ur(e.defaultValues)&&e.defaultValues().then(L=>{Is(L,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Ye,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:bt,trigger:Y,register:Gn,handleSubmit:Tt,watch:Te,setValue:$e,getValues:F,reset:Is,resetField:St,clearErrors:ve,unregister:Ft,setError:G,setFocus:As,getFieldState:ee};return{...Ti,formControl:Ti}}function T1(t={}){const e=ne.useRef(void 0),n=ne.useRef(void 0),[r,s]=ne.useState({isDirty:!1,isValidating:!1,isLoading:Ur(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ur(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:lH(t),formState:r},t.formControl&&t.defaultValues&&!Ur(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,KW(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ne.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ne.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ne.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ne.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ne.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ne.useEffect(()=>{t.values&&!Hi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=GW(r,i),e.current}const RS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=pe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},kv=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?RS(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>RS(s,n,t))}},OS=(t,e)=>{e.shouldUseNativeValidation&&kv(t,e);const n={};for(const r in t){const s=pe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(cH(e.names||Object.keys(t),r)){const o=Object.assign({},pe(n,r));nt(o,"root",i),nt(n,r,o)}else nt(n,r,i)}return n},cH=(t,e)=>{const n=DS(e);return t.some(r=>DS(r).match(`^${n}\\.\\d+`))};function DS(t){return t.replace(/\]|\[/g,"")}function qR(t,e,n){function r(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(t),e(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(l){var c;const u=n!=null&&n.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class uH extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const dH={};function GR(t){return dH}function hH(t,e){return typeof e=="bigint"?e.toString():e}function Zf(t){return typeof t=="string"?t:t==null?void 0:t.message}function KR(t,e,n){var s,i,o,l,c,u;const r={...t,path:t.path??[]};if(!t.message){const d=Zf((o=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??Zf((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??Zf((c=n.customError)==null?void 0:c.call(n,t))??Zf((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const YR=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,hH,2)},enumerable:!0})},fH=qR("$ZodError",YR),QR=qR("$ZodError",YR,{Parent:Error}),pH=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new uH;if(o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>KR(c,i,GR())));throw Error.captureStackTrace(l,s==null?void 0:s.callee),l}return o.value},mH=pH(QR),gH=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>KR(c,i,GR())));throw Error.captureStackTrace(l,s==null?void 0:s.callee),l}return o.value},yH=gH(QR);function MS(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function xH(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=_1(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function vH(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if(r.code==="invalid_union"){var l=r.errors[0][0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(d){return d.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=_1(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function S1(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,i){try{return Promise.resolve(MS(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(o){return i.shouldUseNativeValidation&&kv({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:OS(xH(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,i){try{return Promise.resolve(MS(function(){return Promise.resolve((n.mode==="sync"?mH:yH)(t,r,e)).then(function(o){return i.shouldUseNativeValidation&&kv({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return l instanceof fH}(o))return{values:{},errors:OS(vH(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}let wH={data:""},bH=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||wH,_H=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,EH=/\/\*[^]*?\*\/|  +/g,LS=/\n+/g,qi=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?qi(o,i):i+"{"+qi(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=qi(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=qi.p?qi.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Bs={},ZR=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+ZR(t[n]);return e}return t},NH=(t,e,n,r,s)=>{let i=ZR(t),o=Bs[i]||(Bs[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Bs[o]){let c=i!==t?t:(u=>{let d,f,p=[{}];for(;d=_H.exec(u.replace(EH,""));)d[4]?p.shift():d[3]?(f=d[3].replace(LS," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(LS," ").trim();return p[0]})(t);Bs[o]=qi(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Bs.g?Bs.g:null;return n&&(Bs.g=Bs[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Bs[o],e,r,l),o},TH=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":qi(l,""):l===!1?"":l}return r+s+(o??"")},"");function $g(t){let e=this||{},n=t.call?t(e.p):t;return NH(n.unshift?n.raw?TH(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,bH(e.target),e.g,e.o,e.k)}let XR,Iv,Av;$g.bind({g:1});let pi=$g.bind({k:1});function SH(t,e,n,r){qi.p=e,XR=t,Iv=n,Av=r}function $o(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:Iv&&Iv()},l),n.o=/ *go\d+/.test(c),l.className=$g.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Av&&u[0]&&Av(l),XR(u,l)}return s}}var jH=t=>typeof t=="function",Cm=(t,e)=>jH(t)?t(e):t,CH=(()=>{let t=0;return()=>(++t).toString()})(),JR=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),kH=20,e4=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,kH)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return e4(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},kp=[],_a={toasts:[],pausedAt:void 0},el=t=>{_a=e4(_a,t),kp.forEach(e=>{e(_a)})},IH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},AH=(t={})=>{let[e,n]=y.useState(_a),r=y.useRef(_a);y.useEffect(()=>(r.current!==_a&&n(_a),kp.push(n),()=>{let i=kp.indexOf(n);i>-1&&kp.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||IH[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},PH=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||CH()}),Wh=t=>(e,n)=>{let r=PH(e,t,n);return el({type:2,toast:r}),r.id},et=(t,e)=>Wh("blank")(t,e);et.error=Wh("error");et.success=Wh("success");et.loading=Wh("loading");et.custom=Wh("custom");et.dismiss=t=>{el({type:3,toastId:t})};et.remove=t=>el({type:4,toastId:t});et.promise=(t,e,n)=>{let r=et.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Cm(e.success,s):void 0;return i?et.success(i,{id:r,...n,...n==null?void 0:n.success}):et.dismiss(r),s}).catch(s=>{let i=e.error?Cm(e.error,s):void 0;i?et.error(i,{id:r,...n,...n==null?void 0:n.error}):et.dismiss(r)}),t};var RH=(t,e)=>{el({type:1,toast:{id:t,height:e}})},OH=()=>{el({type:5,time:Date.now()})},vd=new Map,DH=1e3,MH=(t,e=DH)=>{if(vd.has(t))return;let n=setTimeout(()=>{vd.delete(t),el({type:4,toastId:t})},e);vd.set(t,n)},LH=t=>{let{toasts:e,pausedAt:n}=AH(t);y.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&et.dismiss(l.id);return}return setTimeout(()=>et.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=y.useCallback(()=>{n&&el({type:6,time:Date.now()})},[n]),s=y.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(g=>(g.position||u)===(i.position||u)&&g.height),f=d.findIndex(g=>g.id===i.id),p=d.filter((g,v)=>v<f&&g.visible).length;return d.filter(g=>g.visible).slice(...l?[p+1]:[0,p]).reduce((g,v)=>g+(v.height||0)+c,0)},[e]);return y.useEffect(()=>{e.forEach(i=>{if(i.dismissed)MH(i.id,i.removeDelay);else{let o=vd.get(i.id);o&&(clearTimeout(o),vd.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:RH,startPause:OH,endPause:r,calculateOffset:s}}},VH=pi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,FH=pi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UH=pi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$H=$o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${FH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BH=pi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zH=$o("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${BH} 1s linear infinite;
`,WH=pi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,HH=pi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qH=$o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${HH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GH=$o("div")`
  position: absolute;
`,KH=$o("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,YH=pi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QH=$o("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${YH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZH=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?y.createElement(QH,null,e):e:n==="blank"?null:y.createElement(KH,null,y.createElement(zH,{...r}),n!=="loading"&&y.createElement(GH,null,n==="error"?y.createElement($H,{...r}):y.createElement(qH,{...r})))},XH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JH=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,eq="0%{opacity:0;} 100%{opacity:1;}",tq="0%{opacity:1;} 100%{opacity:0;}",nq=$o("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rq=$o("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sq=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=JR()?[eq,tq]:[XH(n),JH(n)];return{animation:e?`${pi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iq=y.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?sq(t.position||e||"top-center",t.visible):{opacity:0},i=y.createElement(ZH,{toast:t}),o=y.createElement(rq,{...t.ariaProps},Cm(t.message,t));return y.createElement(nq,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):y.createElement(y.Fragment,null,i,o))});SH(y.createElement);var oq=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=y.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return y.createElement("div",{ref:i,className:e,style:n},s)},aq=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:JR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},lq=$g`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xf=16,t4=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=LH(n);return y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Xf,left:Xf,right:Xf,bottom:Xf,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=aq(d,f);return y.createElement(oq,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?lq:"",style:p},u.type==="custom"?Cm(u.message,u):s?s(u):y.createElement(iq,{toast:u,position:d}))}))},ut=et;const VS=y.forwardRef(({label:t,error:e,showPasswordToggle:n,isPassword:r,onTogglePassword:s,className:i="",...o},l)=>{const d=`appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${e?"border-red-300 text-red-900 placeholder-red-300":"border-gray-300"} ${i}`;return a.jsxs("div",{children:[a.jsx("label",{htmlFor:o.id,className:"block text-sm font-medium text-gray-700",children:t}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{...o,ref:l,className:d,"aria-invalid":e?"true":"false","aria-describedby":e?`${o.id}-error`:void 0}),r&&n!==void 0&&a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:s,children:n?a.jsx(m1,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ni,{className:"h-5 w-5 text-gray-400"})})]}),e&&a.jsx("p",{className:"mt-2 text-sm text-red-600",id:`${o.id}-error`,role:"alert",children:e.message})]})}),cq=({size:t="md",className:e=""})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:`flex items-center justify-center ${e}`,children:a.jsx("div",{className:`animate-spin rounded-full border-b-2 border-indigo-600 ${n[t]}`,role:"status","aria-label":"Loading",children:a.jsx("span",{className:"sr-only",children:"Loading..."})})})};var Ke;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ke||(Ke={}));var FS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(FS||(FS={}));const ye=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ui=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},X=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class mi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof mi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}mi.create=t=>new mi(t);const Pv=(t,e)=>{let n;switch(t.code){case X.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ke.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ke.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ke.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${Ke.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ke.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ke.assertNever(t)}return{message:n}};let uq=Pv;function dq(){return uq}const hq=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function ce(t,e){const n=dq(),r=hq({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Pv?void 0:Pv].filter(s=>!!s)});t.common.issues.push(r)}class lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ae;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return lr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ae;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ae=Object.freeze({status:"aborted"}),Qu=t=>({status:"dirty",value:t}),Sr=t=>({status:"valid",value:t}),US=t=>t.status==="aborted",$S=t=>t.status==="dirty",_c=t=>t.status==="valid",km=t=>typeof Promise<"u"&&t instanceof Promise;var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));class To{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BS=(t,e)=>{if(_c(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new mi(t.common.issues);return this._error=n,this._error}}};function Le(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class qe{get description(){return this._def.description}_getType(e){return Ui(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ui(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new lr,ctx:{common:e.parent.common,data:e.data,parsedType:Ui(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(km(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ui(e)},s=this._parseSync({data:e,path:r.path,parent:r});return BS(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ui(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return _c(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>_c(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ui(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(km(s)?s:Promise.resolve(s));return BS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:X.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Nc({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ho.create(this,this._def)}nullable(){return Tc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vs.create(this)}promise(){return Rm.create(this,this._def)}or(e){return Am.create([this,e],this._def)}and(e){return Pm.create(this,e,this._def)}transform(e){return new Nc({...Le(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ov({...Le(this._def),innerType:this,defaultValue:n,typeName:Pe.ZodDefault})}brand(){return new Dq({typeName:Pe.ZodBranded,type:this,...Le(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Dv({...Le(this._def),innerType:this,catchValue:n,typeName:Pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return j1.create(this,e)}readonly(){return Mv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fq=/^c[^\s-]{8,}$/i,pq=/^[0-9a-z]+$/,mq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yq=/^[a-z0-9_-]{21}$/i,xq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let C0;const _q=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Nq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Tq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,n4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Cq=new RegExp(`^${n4}$`);function r4(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function kq(t){return new RegExp(`^${r4(t)}$`)}function Iq(t){let e=`${n4}T${r4(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Aq(t,e){return!!((e==="v4"||!e)&&_q.test(t)||(e==="v6"||!e)&&Nq.test(t))}function Pq(t,e){if(!xq.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Rq(t,e){return!!((e==="v4"||!e)&&Eq.test(t)||(e==="v6"||!e)&&Tq.test(t))}class eo extends qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const i=this._getOrReturnCtx(e);return ce(i,{code:X.invalid_type,expected:ye.string,received:i.parsedType}),Ae}const r=new lr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?ce(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ce(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")wq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"email",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")C0||(C0=new RegExp(bq,"u")),C0.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"emoji",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")gq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"uuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")yq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"nanoid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")fq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")pq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid2",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")mq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ulid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ce(s,{validation:"url",code:X.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"regex",code:X.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ce(s,{code:X.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:X.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:X.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Iq(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:X.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Cq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:X.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?kq(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:X.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?vq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"duration",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Aq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ip",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Pq(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"jwt",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Rq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cidr",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Sq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"base64",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?jq.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"base64url",code:X.invalid_string,message:i.message}),r.dirty()):Ke.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:X.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new eo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new eo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new eo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}eo.create=t=>new eo({checks:[],typeName:Pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Le(t)});function Oq(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class ah extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const i=this._getOrReturnCtx(e);return ce(i,{code:X.invalid_type,expected:ye.number,received:i.parsedType}),Ae}let r;const s=new lr;for(const i of this._def.checks)i.kind==="int"?Ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:X.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:X.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:X.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Oq(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ce(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:X.not_finite,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new ah({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new ah({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ah.create=t=>new ah({checks:[],typeName:Pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Le(t)});class lh extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const s=new lr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:X.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:X.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ce(n,{code:X.invalid_type,expected:ye.bigint,received:n.parsedType}),Ae}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new lh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new lh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}lh.create=t=>new lh({checks:[],typeName:Pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Le(t)});class zS extends qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return ce(r,{code:X.invalid_type,expected:ye.boolean,received:r.parsedType}),Ae}return Sr(e.data)}}zS.create=t=>new zS({typeName:Pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Le(t)});class Im extends qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const i=this._getOrReturnCtx(e);return ce(i,{code:X.invalid_type,expected:ye.date,received:i.parsedType}),Ae}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ce(i,{code:X.invalid_date}),Ae}const r=new lr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:X.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:X.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ke.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Im({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Im.create=t=>new Im({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Pe.ZodDate,...Le(t)});class WS extends qe{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return ce(r,{code:X.invalid_type,expected:ye.symbol,received:r.parsedType}),Ae}return Sr(e.data)}}WS.create=t=>new WS({typeName:Pe.ZodSymbol,...Le(t)});class HS extends qe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:X.invalid_type,expected:ye.undefined,received:r.parsedType}),Ae}return Sr(e.data)}}HS.create=t=>new HS({typeName:Pe.ZodUndefined,...Le(t)});class qS extends qe{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return ce(r,{code:X.invalid_type,expected:ye.null,received:r.parsedType}),Ae}return Sr(e.data)}}qS.create=t=>new qS({typeName:Pe.ZodNull,...Le(t)});class GS extends qe{constructor(){super(...arguments),this._any=!0}_parse(e){return Sr(e.data)}}GS.create=t=>new GS({typeName:Pe.ZodAny,...Le(t)});class KS extends qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Sr(e.data)}}KS.create=t=>new KS({typeName:Pe.ZodUnknown,...Le(t)});class So extends qe{_parse(e){const n=this._getOrReturnCtx(e);return ce(n,{code:X.invalid_type,expected:ye.never,received:n.parsedType}),Ae}}So.create=t=>new So({typeName:Pe.ZodNever,...Le(t)});class YS extends qe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:X.invalid_type,expected:ye.void,received:r.parsedType}),Ae}return Sr(e.data)}}YS.create=t=>new YS({typeName:Pe.ZodVoid,...Le(t)});class vs extends qe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ye.array)return ce(n,{code:X.invalid_type,expected:ye.array,received:n.parsedType}),Ae;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(ce(n,{code:o?X.too_big:X.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ce(n,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ce(n,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new To(n,o,n.path,l)))).then(o=>lr.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new To(n,o,n.path,l)));return lr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new vs({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new vs({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new vs({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}vs.create=(t,e)=>new vs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...Le(e)});function El(t){if(t instanceof Rt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ho.create(El(r))}return new Rt({...t._def,shape:()=>e})}else return t instanceof vs?new vs({...t._def,type:El(t.element)}):t instanceof ho?ho.create(El(t.unwrap())):t instanceof Tc?Tc.create(El(t.unwrap())):t instanceof Va?Va.create(t.items.map(e=>El(e))):t}class Rt extends qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ke.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ye.object){const u=this._getOrReturnCtx(e);return ce(u,{code:X.invalid_type,expected:ye.object,received:u.parsedType}),Ae}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof So&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new To(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof So){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ce(s,{code:X.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new To(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>lr.mergeObjectSync(r,u)):lr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new Rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:xe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Rt({...this._def,unknownKeys:"strip"})}passthrough(){return new Rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Rt({...this._def,catchall:e})}pick(e){const n={};for(const r of Ke.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Rt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ke.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Rt({...this._def,shape:()=>n})}deepPartial(){return El(this)}partial(e){const n={};for(const r of Ke.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Rt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ke.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ho;)i=i._def.innerType;n[r]=i}return new Rt({...this._def,shape:()=>n})}keyof(){return s4(Ke.objectKeys(this.shape))}}Rt.create=(t,e)=>new Rt({shape:()=>t,unknownKeys:"strip",catchall:So.create(),typeName:Pe.ZodObject,...Le(e)});Rt.strictCreate=(t,e)=>new Rt({shape:()=>t,unknownKeys:"strict",catchall:So.create(),typeName:Pe.ZodObject,...Le(e)});Rt.lazycreate=(t,e)=>new Rt({shape:t,unknownKeys:"strip",catchall:So.create(),typeName:Pe.ZodObject,...Le(e)});class Am extends qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new mi(l.ctx.common.issues));return ce(n,{code:X.invalid_union,unionErrors:o}),Ae}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new mi(c));return ce(n,{code:X.invalid_union,unionErrors:l}),Ae}}get options(){return this._def.options}}Am.create=(t,e)=>new Am({options:t,typeName:Pe.ZodUnion,...Le(e)});function Rv(t,e){const n=Ui(t),r=Ui(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const s=Ke.objectKeys(e),i=Ke.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=Rv(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=Rv(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pm extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(US(i)||US(o))return Ae;const l=Rv(i.value,o.value);return l.valid?(($S(i)||$S(o))&&n.dirty(),{status:n.value,value:l.data}):(ce(r,{code:X.invalid_intersection_types}),Ae)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pm.create=(t,e,n)=>new Pm({left:t,right:e,typeName:Pe.ZodIntersection,...Le(n)});class Va extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return ce(r,{code:X.invalid_type,expected:ye.array,received:r.parsedType}),Ae;if(r.data.length<this._def.items.length)return ce(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&r.data.length>this._def.items.length&&(ce(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new To(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>lr.mergeArray(n,o)):lr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Va({...this._def,rest:e})}}Va.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Va({items:t,typeName:Pe.ZodTuple,rest:null,...Le(e)})};class QS extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return ce(r,{code:X.invalid_type,expected:ye.map,received:r.parsedType}),Ae;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new To(r,l,r.path,[u,"key"])),value:i._parse(new To(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ae;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ae;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}QS.create=(t,e,n)=>new QS({valueType:e,keyType:t,typeName:Pe.ZodMap,...Le(n)});class ch extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return ce(r,{code:X.invalid_type,expected:ye.set,received:r.parsedType}),Ae;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ce(r,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ce(r,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ae;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new To(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new ch({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new ch({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ch.create=(t,e)=>new ch({valueType:t,minSize:null,maxSize:null,typeName:Pe.ZodSet,...Le(e)});class ZS extends qe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ZS.create=(t,e)=>new ZS({getter:t,typeName:Pe.ZodLazy,...Le(e)});class XS extends qe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ce(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}XS.create=(t,e)=>new XS({value:t,typeName:Pe.ZodLiteral,...Le(e)});function s4(t,e){return new Ec({values:t,typeName:Pe.ZodEnum,...Le(e)})}class Ec extends qe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{expected:Ke.joinValues(r),received:n.parsedType,code:X.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{received:n.data,code:X.invalid_enum_value,options:r}),Ae}return Sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ec.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ec.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ec.create=s4;class JS extends qe{_parse(e){const n=Ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const s=Ke.objectValues(n);return ce(r,{expected:Ke.joinValues(s),received:r.parsedType,code:X.invalid_type}),Ae}if(this._cache||(this._cache=new Set(Ke.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ke.objectValues(n);return ce(r,{received:r.data,code:X.invalid_enum_value,options:s}),Ae}return Sr(e.data)}get enum(){return this._def.values}}JS.create=(t,e)=>new JS({values:t,typeName:Pe.ZodNativeEnum,...Le(e)});class Rm extends qe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return ce(n,{code:X.invalid_type,expected:ye.promise,received:n.parsedType}),Ae;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return Sr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Rm.create=(t,e)=>new Rm({type:t,typeName:Pe.ZodPromise,...Le(e)});class Nc extends qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ce(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ae;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ae:c.status==="dirty"||n.value==="dirty"?Qu(c.value):c});{if(n.value==="aborted")return Ae;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ae:l.status==="dirty"||n.value==="dirty"?Qu(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ae:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ae:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_c(o))return Ae;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>_c(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):Ae);Ke.assertNever(s)}}Nc.create=(t,e,n)=>new Nc({schema:t,typeName:Pe.ZodEffects,effect:e,...Le(n)});Nc.createWithPreprocess=(t,e,n)=>new Nc({schema:e,effect:{type:"preprocess",transform:t},typeName:Pe.ZodEffects,...Le(n)});class ho extends qe{_parse(e){return this._getType(e)===ye.undefined?Sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ho.create=(t,e)=>new ho({innerType:t,typeName:Pe.ZodOptional,...Le(e)});class Tc extends qe{_parse(e){return this._getType(e)===ye.null?Sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tc.create=(t,e)=>new Tc({innerType:t,typeName:Pe.ZodNullable,...Le(e)});class Ov extends qe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ov.create=(t,e)=>new Ov({innerType:t,typeName:Pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Le(e)});class Dv extends qe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return km(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new mi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dv.create=(t,e)=>new Dv({innerType:t,typeName:Pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Le(e)});class e2 extends qe{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return ce(r,{code:X.invalid_type,expected:ye.nan,received:r.parsedType}),Ae}return{status:"valid",value:e.data}}}e2.create=t=>new e2({typeName:Pe.ZodNaN,...Le(t)});class Dq extends qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class j1 extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ae:i.status==="dirty"?(n.dirty(),Qu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ae:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new j1({in:e,out:n,typeName:Pe.ZodPipeline})}}class Mv extends qe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(_c(s)&&(s.value=Object.freeze(s.value)),s);return km(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Mv.create=(t,e)=>new Mv({innerType:t,typeName:Pe.ZodReadonly,...Le(e)});var Pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const gi=eo.create;So.create;vs.create;const Hc=Rt.create;Am.create;Pm.create;Va.create;Ec.create;Rm.create;ho.create;Tc.create;const Mq=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,Lq="Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character",C1=gi().min(1,"Email is required").email("Invalid email format").max(255,"Email is too long"),i4=gi().min(1,"Password is required").min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(Mq,Lq),t2=gi().min(1,"Name is required").min(2,"Name must be at least 2 characters").max(100,"Name is too long").regex(/^[a-zA-Z\s-']+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),Vq=Hc({email:C1,password:gi().min(1,"Password is required")});Hc({firstName:t2,lastName:t2,email:C1,password:i4,confirmPassword:gi().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});Hc({email:C1});Hc({password:i4,confirmPassword:gi().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});const Fq=()=>{};var n2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Uq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},a4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new $q;const p=i<<2|l>>4;if(r.push(p),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bq=function(t){const e=o4(t);return a4.encodeByteArray(e,!0)},Om=function(t){return Bq(t).replace(/\./g,"")},l4=function(t){try{return a4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=()=>zq().__FIREBASE_DEFAULTS__,Hq=()=>{if(typeof process>"u"||typeof n2>"u")return;const t=n2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l4(t[1]);return e&&JSON.parse(e)},Bg=()=>{try{return Fq()||Wq()||Hq()||qq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c4=t=>{var e,n;return(n=(e=Bg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u4=t=>{const e=c4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d4=()=>{var t;return(t=Bg())===null||t===void 0?void 0:t.config},h4=t=>{var e;return(e=Bg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){return t.endsWith(".cloudworkstations.dev")}async function k1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Om(JSON.stringify(n)),Om(JSON.stringify(o)),""].join(".")}const wd={};function Kq(){const t={prod:[],emulator:[]};for(const e of Object.keys(wd))wd[e]?t.emulator.push(e):t.prod.push(e);return t}function Yq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r2=!1;function I1(t,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||wd[t]===e||wd[t]||r2)return;wd[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Kq().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{r2=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Yq(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),b=n("learnmore"),T=document.getElementById(b)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const N=p.element;l(N),d(T,b);const R=u();c(x,_),N.append(x,v,T,R),document.body.appendChild(N)}i?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function Zq(){var t;const e=(t=Bg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eG(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tG(){return!Zq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m4(){try{return typeof indexedDB=="object"}catch{return!1}}function g4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function nG(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="FirebaseError";class jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rG,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sG(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new jr(s,l,r)}}function sG(t,e){return t.replace(iG,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iG=/\{\$([^}]+)}/g;function oG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(s2(i)&&s2(o)){if(!jo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function s2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aG(t,e){const n=new lG(t,e);return n.subscribe.bind(n)}class lG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cG(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=k0),s.error===void 0&&(s.error=k0),s.complete===void 0&&(s.complete=k0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=1e3,dG=2,hG=4*60*60*1e3,fG=.5;function i2(t,e=uG,n=dG){const r=e*Math.pow(n,t),s=Math.round(fG*r*(Math.random()-.5)*2);return Math.min(hG,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Tr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gG(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mG(t){return t===aa?void 0:t}function gG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const xG={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},vG=Fe.INFO,wG={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},bG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=wG[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let zg=class{constructor(e){this.name=e,this._logLevel=vG,this._logHandler=bG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}};const _G=(t,e)=>e.some(n=>t instanceof n);let o2,a2;function EG(){return o2||(o2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NG(){return a2||(a2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y4=new WeakMap,Lv=new WeakMap,x4=new WeakMap,I0=new WeakMap,A1=new WeakMap;function TG(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(fo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&y4.set(n,t)}).catch(()=>{}),A1.set(e,t),e}function SG(t){if(Lv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Lv.set(t,e)}let Vv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jG(t){Vv=t(Vv)}function CG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(A0(this),e,...n);return x4.set(r,e.sort?e.sort():[e]),fo(r)}:NG().includes(t)?function(...e){return t.apply(A0(this),e),fo(y4.get(this))}:function(...e){return fo(t.apply(A0(this),e))}}function kG(t){return typeof t=="function"?CG(t):(t instanceof IDBTransaction&&SG(t),_G(t,EG())?new Proxy(t,Vv):t)}function fo(t){if(t instanceof IDBRequest)return TG(t);if(I0.has(t))return I0.get(t);const e=kG(t);return e!==t&&(I0.set(t,e),A1.set(e,t)),e}const A0=t=>A1.get(t);function v4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=fo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(fo(o.result),c.oldVersion,c.newVersion,fo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const IG=["get","getKey","getAll","getAllKeys","count"],AG=["put","add","delete","clear"],P0=new Map;function l2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(P0.get(e))return P0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||IG.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return P0.set(e,i),i}jG(t=>({...t,get:(e,n,r)=>l2(e,n)||t.get(e,n,r),has:(e,n)=>!!l2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fv="@firebase/app",c2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new zg("@firebase/app"),OG="@firebase/app-compat",DG="@firebase/analytics-compat",MG="@firebase/analytics",LG="@firebase/app-check-compat",VG="@firebase/app-check",FG="@firebase/auth",UG="@firebase/auth-compat",$G="@firebase/database",BG="@firebase/data-connect",zG="@firebase/database-compat",WG="@firebase/functions",HG="@firebase/functions-compat",qG="@firebase/installations",GG="@firebase/installations-compat",KG="@firebase/messaging",YG="@firebase/messaging-compat",QG="@firebase/performance",ZG="@firebase/performance-compat",XG="@firebase/remote-config",JG="@firebase/remote-config-compat",eK="@firebase/storage",tK="@firebase/storage-compat",nK="@firebase/firestore",rK="@firebase/ai",sK="@firebase/firestore-compat",iK="firebase",oK="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="[DEFAULT]",aK={[Fv]:"fire-core",[OG]:"fire-core-compat",[MG]:"fire-analytics",[DG]:"fire-analytics-compat",[VG]:"fire-app-check",[LG]:"fire-app-check-compat",[FG]:"fire-auth",[UG]:"fire-auth-compat",[$G]:"fire-rtdb",[BG]:"fire-data-connect",[zG]:"fire-rtdb-compat",[WG]:"fire-fn",[HG]:"fire-fn-compat",[qG]:"fire-iid",[GG]:"fire-iid-compat",[KG]:"fire-fcm",[YG]:"fire-fcm-compat",[QG]:"fire-perf",[ZG]:"fire-perf-compat",[XG]:"fire-rc",[JG]:"fire-rc-compat",[eK]:"fire-gcs",[tK]:"fire-gcs-compat",[nK]:"fire-fst",[sK]:"fire-fst-compat",[rK]:"fire-vertex","fire-js":"fire-js",[iK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map,lK=new Map,$v=new Map;function u2(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kr(t){const e=t.name;if($v.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;$v.set(e,t);for(const n of Dm.values())u2(n,t);for(const n of lK.values())u2(n,t);return!0}function Bo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new nl("app","Firebase",cK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=oK;function w4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw po.create("bad-app-name",{appName:String(s)});if(n||(n=d4()),!n)throw po.create("no-options");const i=Dm.get(s);if(i){if(jo(n,i.options)&&jo(r,i.config))return i;throw po.create("duplicate-app",{appName:s})}const o=new yG(s);for(const c of $v.values())o.addComponent(c);const l=new uK(n,r,o);return Dm.set(s,l),l}function Wg(t=Uv){const e=Dm.get(t);if(!e&&t===Uv&&d4())return w4();if(!e)throw po.create("no-app",{appName:t});return e}function Hn(t,e,n){var r;let s=(r=aK[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(l.join(" "));return}Kr(new Tr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK="firebase-heartbeat-database",hK=1,uh="firebase-heartbeat-store";let R0=null;function b4(){return R0||(R0=v4(dK,hK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uh)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),R0}async function fK(t){try{const n=(await b4()).transaction(uh),r=await n.objectStore(uh).get(_4(t));return await n.done,r}catch(e){if(e instanceof jr)yi.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function d2(t,e){try{const r=(await b4()).transaction(uh,"readwrite");await r.objectStore(uh).put(e,_4(t)),await r.done}catch(n){if(n instanceof jr)yi.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function _4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=1024,mK=30;class gK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=h2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>mK){const o=vK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h2(),{heartbeatsToSend:r,unsentEntries:s}=yK(this._heartbeatsCache.heartbeats),i=Om(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return yi.warn(n),""}}}function h2(){return new Date().toISOString().substring(0,10)}function yK(t,e=pK){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),f2(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),f2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m4()?g4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return d2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return d2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function f2(t){return Om(JSON.stringify({version:2,heartbeats:t})).length}function vK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){Kr(new Tr("platform-logger",e=>new PG(e),"PRIVATE")),Kr(new Tr("heartbeat",e=>new gK(e),"PRIVATE")),Hn(Fv,c2,t),Hn(Fv,c2,"esm2017"),Hn("fire-js","")}wK("");var bK="firebase",_K="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(bK,_K,"app");const E4="@firebase/installations",P1="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1e4,T4=`w:${P1}`,S4="FIS_v2",EK="https://firebaseinstallations.googleapis.com/v1",NK=60*60*1e3,TK="installations",SK="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fa=new nl(TK,SK,jK);function j4(t){return t instanceof jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4({projectId:t}){return`${EK}/projects/${t}/installations`}function k4(t){return{token:t.token,requestStatus:2,expiresIn:kK(t.expiresIn),creationTime:Date.now()}}async function I4(t,e){const r=(await e.json()).error;return Fa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function A4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CK(t,{refreshToken:e}){const n=A4(t);return n.append("Authorization",IK(e)),n}async function P4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function kK(t){return Number(t.replace("s","000"))}function IK(t){return`${S4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AK({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=C4(t),s=A4(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:S4,appId:t.appId,sdkVersion:T4},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await P4(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:k4(u.authToken)}}else throw await I4("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK=/^[cdef][\w-]{21}$/,Bv="";function OK(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=DK(t);return RK.test(n)?n:Bv}catch{return Bv}}function DK(t){return PK(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Map;function D4(t,e){const n=Hg(t);M4(n,e),MK(n,e)}function M4(t,e){const n=O4.get(t);if(n)for(const r of n)r(e)}function MK(t,e){const n=LK();n&&n.postMessage({key:t,fid:e}),VK()}let Ea=null;function LK(){return!Ea&&"BroadcastChannel"in self&&(Ea=new BroadcastChannel("[Firebase] FID Change"),Ea.onmessage=t=>{M4(t.data.key,t.data.fid)}),Ea}function VK(){O4.size===0&&Ea&&(Ea.close(),Ea=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="firebase-installations-database",UK=1,Ua="firebase-installations-store";let O0=null;function R1(){return O0||(O0=v4(FK,UK,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ua)}}})),O0}async function Mm(t,e){const n=Hg(t),s=(await R1()).transaction(Ua,"readwrite"),i=s.objectStore(Ua),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&D4(t,e.fid),e}async function L4(t){const e=Hg(t),r=(await R1()).transaction(Ua,"readwrite");await r.objectStore(Ua).delete(e),await r.done}async function qg(t,e){const n=Hg(t),s=(await R1()).transaction(Ua,"readwrite"),i=s.objectStore(Ua),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&D4(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(t){let e;const n=await qg(t.appConfig,r=>{const s=$K(r),i=BK(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Bv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $K(t){const e=t||{fid:OK(),registrationStatus:0};return V4(e)}function BK(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Fa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zK(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WK(t)}:{installationEntry:e}}async function zK(t,e){try{const n=await AK(t,e);return Mm(t.appConfig,n)}catch(n){throw j4(n)&&n.customData.serverCode===409?await L4(t.appConfig):await Mm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function WK(t){let e=await p2(t.appConfig);for(;e.registrationStatus===1;)await R4(100),e=await p2(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await O1(t);return r||n}return e}function p2(t){return qg(t,e=>{if(!e)throw Fa.create("installation-not-found");return V4(e)})}function V4(t){return HK(t)?{fid:t.fid,registrationStatus:0}:t}function HK(t){return t.registrationStatus===1&&t.registrationTime+N4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qK({appConfig:t,heartbeatServiceProvider:e},n){const r=GK(t,n),s=CK(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:T4,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await P4(()=>fetch(r,l));if(c.ok){const u=await c.json();return k4(u)}else throw await I4("Generate Auth Token",c)}function GK(t,{fid:e}){return`${C4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(t,e=!1){let n;const r=await qg(t.appConfig,i=>{if(!F4(i))throw Fa.create("not-registered");const o=i.authToken;if(!e&&QK(o))return i;if(o.requestStatus===1)return n=KK(t,e),i;{if(!navigator.onLine)throw Fa.create("app-offline");const l=XK(i);return n=YK(t,l),l}});return n?await n:r.authToken}async function KK(t,e){let n=await m2(t.appConfig);for(;n.authToken.requestStatus===1;)await R4(100),n=await m2(t.appConfig);const r=n.authToken;return r.requestStatus===0?D1(t,e):r}function m2(t){return qg(t,e=>{if(!F4(e))throw Fa.create("not-registered");const n=e.authToken;return JK(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YK(t,e){try{const n=await qK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Mm(t.appConfig,r),n}catch(n){if(j4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await L4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mm(t.appConfig,r)}throw n}}function F4(t){return t!==void 0&&t.registrationStatus===2}function QK(t){return t.requestStatus===2&&!ZK(t)}function ZK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+NK}function XK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function JK(t){return t.requestStatus===1&&t.requestTime+N4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eY(t){const e=t,{installationEntry:n,registrationPromise:r}=await O1(e);return r?r.catch(console.error):D1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tY(t,e=!1){const n=t;return await nY(n),(await D1(n,e)).token}async function nY(t){const{registrationPromise:e}=await O1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t){if(!t||!t.options)throw D0("App Configuration");if(!t.name)throw D0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw D0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function D0(t){return Fa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="installations",sY="installations-internal",iY=t=>{const e=t.getProvider("app").getImmediate(),n=rY(e),r=Bo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oY=t=>{const e=t.getProvider("app").getImmediate(),n=Bo(e,U4).getImmediate();return{getId:()=>eY(n),getToken:s=>tY(n,s)}};function aY(){Kr(new Tr(U4,iY,"PUBLIC")),Kr(new Tr(sY,oY,"PRIVATE"))}aY();Hn(E4,P1);Hn(E4,P1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="analytics",lY="firebase_id",cY="origin",uY=60*1e3,dY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",M1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new zg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ir=new nl("analytics","Analytics",hY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){if(!t.startsWith(M1)){const e=ir.create("invalid-gtag-resource",{gtagURL:t});return qn.warn(e.message),""}return t}function $4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pY(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function mY(t,e){const n=pY("firebase-js-sdk-policy",{createScriptURL:fY}),r=document.createElement("script"),s=`${M1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function gY(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function yY(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await $4(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){qn.error(l)}t("config",s,i)}async function xY(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await $4(n);for(const c of o){const u=l.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){qn.error(i)}}function vY(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await xY(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await yY(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=o;t("consent",l,c)}else if(i==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){qn.error(l)}}return s}function wY(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=vY(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function bY(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(M1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y=30,EY=1e3;class NY{constructor(e={},n=EY){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const B4=new NY;function TY(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function SY(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:TY(r)},i=dY.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function jY(t,e=B4,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw ir.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ir.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new IY;return setTimeout(async()=>{l.abort()},uY),z4({appId:r,apiKey:s,measurementId:i},o,l,e)}async function z4(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=B4){var i;const{appId:o,measurementId:l}=t;try{await CY(r,e)}catch(c){if(l)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await SY(t);return s.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!kY(u)){if(s.deleteThrottleMetadata(o),l)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?i2(n,s.intervalMillis,_Y):i2(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),qn.debug(`Calling attemptFetch again in ${d} millis`),z4(t,f,r,s)}}function CY(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kY(t){if(!(t instanceof jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AY(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PY(){if(m4())try{await g4()}catch(t){return qn.warn(ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qn.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RY(t,e,n,r,s,i,o){var l;const c=jY(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>qn.error(g)),e.push(c);const u=PY().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([c,u]);bY(i)||mY(i,d.measurementId),s("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[cY]="firebase",p.update=!0,f!=null&&(p[lY]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e){this.app=e}_delete(){return delete bd[this.app.options.appId],Promise.resolve()}}let bd={},g2=[];const y2={};let M0="dataLayer",DY="gtag",x2,W4,v2=!1;function MY(){const t=[];if(p4()&&t.push("This is a browser extension environment."),nG()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ir.create("invalid-analytics-context",{errorInfo:e});qn.warn(n.message)}}function LY(t,e,n){MY();const r=t.options.appId;if(!r)throw ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ir.create("no-api-key");if(bd[r]!=null)throw ir.create("already-exists",{id:r});if(!v2){gY(M0);const{wrappedGtag:i,gtagCore:o}=wY(bd,g2,y2,M0,DY);W4=i,x2=o,v2=!0}return bd[r]=RY(t,g2,y2,e,x2,M0,n),new OY(t)}function VY(t=Wg()){t=Vt(t);const e=Bo(t,Lm);return e.isInitialized()?e.getImmediate():FY(t)}function FY(t,e={}){const n=Bo(t,Lm);if(n.isInitialized()){const s=n.getImmediate();if(jo(e,n.getOptions()))return s;throw ir.create("already-initialized")}return n.initialize({options:e})}function UY(t,e,n,r){t=Vt(t),AY(W4,bd[t.app.options.appId],e,n,r).catch(s=>qn.error(s))}const w2="@firebase/analytics",b2="0.10.16";function $Y(){Kr(new Tr(Lm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return LY(r,s,n)},"PUBLIC")),Kr(new Tr("analytics-internal",t,"PRIVATE")),Hn(w2,b2),Hn(w2,b2,"esm2017");function t(e){try{const n=e.getProvider(Lm).getImmediate();return{logEvent:(r,s,i)=>UY(n,r,s,i)}}catch(n){throw ir.create("interop-component-reg-failed",{reason:n})}}}$Y();var _2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,H4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function C(){}C.prototype=E.prototype,S.D=E.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(A,M,D){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return E.prototype[M].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,E,C){C||(C=0);var A=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)A[M]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(M=0;16>M;++M)A[M]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=S.g[0],C=S.g[1],M=S.g[2];var D=S.g[3],k=E+(D^C&(M^D))+A[0]+3614090360&4294967295;E=C+(k<<7&4294967295|k>>>25),k=D+(M^E&(C^M))+A[1]+3905402710&4294967295,D=E+(k<<12&4294967295|k>>>20),k=M+(C^D&(E^C))+A[2]+606105819&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(E^M&(D^E))+A[3]+3250441966&4294967295,C=M+(k<<22&4294967295|k>>>10),k=E+(D^C&(M^D))+A[4]+4118548399&4294967295,E=C+(k<<7&4294967295|k>>>25),k=D+(M^E&(C^M))+A[5]+1200080426&4294967295,D=E+(k<<12&4294967295|k>>>20),k=M+(C^D&(E^C))+A[6]+2821735955&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(E^M&(D^E))+A[7]+4249261313&4294967295,C=M+(k<<22&4294967295|k>>>10),k=E+(D^C&(M^D))+A[8]+1770035416&4294967295,E=C+(k<<7&4294967295|k>>>25),k=D+(M^E&(C^M))+A[9]+2336552879&4294967295,D=E+(k<<12&4294967295|k>>>20),k=M+(C^D&(E^C))+A[10]+4294925233&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(E^M&(D^E))+A[11]+2304563134&4294967295,C=M+(k<<22&4294967295|k>>>10),k=E+(D^C&(M^D))+A[12]+1804603682&4294967295,E=C+(k<<7&4294967295|k>>>25),k=D+(M^E&(C^M))+A[13]+4254626195&4294967295,D=E+(k<<12&4294967295|k>>>20),k=M+(C^D&(E^C))+A[14]+2792965006&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(E^M&(D^E))+A[15]+1236535329&4294967295,C=M+(k<<22&4294967295|k>>>10),k=E+(M^D&(C^M))+A[1]+4129170786&4294967295,E=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(E^C))+A[6]+3225465664&4294967295,D=E+(k<<9&4294967295|k>>>23),k=M+(E^C&(D^E))+A[11]+643717713&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^E&(M^D))+A[0]+3921069994&4294967295,C=M+(k<<20&4294967295|k>>>12),k=E+(M^D&(C^M))+A[5]+3593408605&4294967295,E=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(E^C))+A[10]+38016083&4294967295,D=E+(k<<9&4294967295|k>>>23),k=M+(E^C&(D^E))+A[15]+3634488961&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^E&(M^D))+A[4]+3889429448&4294967295,C=M+(k<<20&4294967295|k>>>12),k=E+(M^D&(C^M))+A[9]+568446438&4294967295,E=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(E^C))+A[14]+3275163606&4294967295,D=E+(k<<9&4294967295|k>>>23),k=M+(E^C&(D^E))+A[3]+4107603335&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^E&(M^D))+A[8]+1163531501&4294967295,C=M+(k<<20&4294967295|k>>>12),k=E+(M^D&(C^M))+A[13]+2850285829&4294967295,E=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(E^C))+A[2]+4243563512&4294967295,D=E+(k<<9&4294967295|k>>>23),k=M+(E^C&(D^E))+A[7]+1735328473&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^E&(M^D))+A[12]+2368359562&4294967295,C=M+(k<<20&4294967295|k>>>12),k=E+(C^M^D)+A[5]+4294588738&4294967295,E=C+(k<<4&4294967295|k>>>28),k=D+(E^C^M)+A[8]+2272392833&4294967295,D=E+(k<<11&4294967295|k>>>21),k=M+(D^E^C)+A[11]+1839030562&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^E)+A[14]+4259657740&4294967295,C=M+(k<<23&4294967295|k>>>9),k=E+(C^M^D)+A[1]+2763975236&4294967295,E=C+(k<<4&4294967295|k>>>28),k=D+(E^C^M)+A[4]+1272893353&4294967295,D=E+(k<<11&4294967295|k>>>21),k=M+(D^E^C)+A[7]+4139469664&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^E)+A[10]+3200236656&4294967295,C=M+(k<<23&4294967295|k>>>9),k=E+(C^M^D)+A[13]+681279174&4294967295,E=C+(k<<4&4294967295|k>>>28),k=D+(E^C^M)+A[0]+3936430074&4294967295,D=E+(k<<11&4294967295|k>>>21),k=M+(D^E^C)+A[3]+3572445317&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^E)+A[6]+76029189&4294967295,C=M+(k<<23&4294967295|k>>>9),k=E+(C^M^D)+A[9]+3654602809&4294967295,E=C+(k<<4&4294967295|k>>>28),k=D+(E^C^M)+A[12]+3873151461&4294967295,D=E+(k<<11&4294967295|k>>>21),k=M+(D^E^C)+A[15]+530742520&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^E)+A[2]+3299628645&4294967295,C=M+(k<<23&4294967295|k>>>9),k=E+(M^(C|~D))+A[0]+4096336452&4294967295,E=C+(k<<6&4294967295|k>>>26),k=D+(C^(E|~M))+A[7]+1126891415&4294967295,D=E+(k<<10&4294967295|k>>>22),k=M+(E^(D|~C))+A[14]+2878612391&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~E))+A[5]+4237533241&4294967295,C=M+(k<<21&4294967295|k>>>11),k=E+(M^(C|~D))+A[12]+1700485571&4294967295,E=C+(k<<6&4294967295|k>>>26),k=D+(C^(E|~M))+A[3]+2399980690&4294967295,D=E+(k<<10&4294967295|k>>>22),k=M+(E^(D|~C))+A[10]+4293915773&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~E))+A[1]+2240044497&4294967295,C=M+(k<<21&4294967295|k>>>11),k=E+(M^(C|~D))+A[8]+1873313359&4294967295,E=C+(k<<6&4294967295|k>>>26),k=D+(C^(E|~M))+A[15]+4264355552&4294967295,D=E+(k<<10&4294967295|k>>>22),k=M+(E^(D|~C))+A[6]+2734768916&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~E))+A[13]+1309151649&4294967295,C=M+(k<<21&4294967295|k>>>11),k=E+(M^(C|~D))+A[4]+4149444226&4294967295,E=C+(k<<6&4294967295|k>>>26),k=D+(C^(E|~M))+A[11]+3174756917&4294967295,D=E+(k<<10&4294967295|k>>>22),k=M+(E^(D|~C))+A[2]+718787259&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~E))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var C=E-this.blockSize,A=this.B,M=this.h,D=0;D<E;){if(M==0)for(;D<=C;)s(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<E;)if(A[M++]=S.charCodeAt(D++),M==this.blockSize){s(this,A),M=0;break}}else for(;D<E;)if(A[M++]=S[D++],M==this.blockSize){s(this,A),M=0;break}}this.h=M,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var C=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=C&255,C/=256;for(this.u(S),S=Array(16),E=C=0;4>E;++E)for(var A=0;32>A;A+=8)S[C++]=this.g[E]>>>A&255;return S};function i(S,E){var C=l;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=E(S)}function o(S,E){this.h=E;for(var C=[],A=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;A&&D==E||(C[M]=D,A=!1)}this.g=C}var l={};function c(S){return-128<=S&&128>S?i(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return T(u(-S));for(var E=[],C=1,A=0;S>=C;A++)E[A]=S/C|0,C*=4294967296;return new o(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return T(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),A=f,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),k=parseInt(S.substring(M,M+D),E);8>D?(D=u(Math.pow(E,D)),A=A.j(D).add(u(k))):(A=A.j(C),A=A.add(u(k)))}return A}var f=c(0),p=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-T(this).m();for(var S=0,E=1,C=0;C<this.g.length;C++){var A=this.i(C);S+=(0<=A?A:4294967296+A)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(b(this))return"-"+T(this).toString(S);for(var E=u(Math.pow(S,6)),C=this,A="";;){var M=R(C,E).g;C=_(C,M.j(E));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=M,v(C))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=_(this,S),b(S)?-1:v(S)?0:1};function T(S){for(var E=S.g.length,C=[],A=0;A<E;A++)C[A]=~S.g[A];return new o(C,~S.h).add(p)}t.abs=function(){return b(this)?T(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],A=0,M=0;M<=E;M++){var D=A+(this.i(M)&65535)+(S.i(M)&65535),k=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);A=k>>>16,D&=65535,k&=65535,C[M]=k<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(S,E){return S.add(T(E))}t.j=function(S){if(v(this)||v(S))return f;if(b(this))return b(S)?T(this).j(T(S)):T(T(this).j(S));if(b(S))return T(this.j(T(S)));if(0>this.l(g)&&0>S.l(g))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,C=[],A=0;A<2*E;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<S.g.length;M++){var D=this.i(A)>>>16,k=this.i(A)&65535,oe=S.i(M)>>>16,Ce=S.i(M)&65535;C[2*A+2*M]+=k*Ce,x(C,2*A+2*M),C[2*A+2*M+1]+=D*Ce,x(C,2*A+2*M+1),C[2*A+2*M+1]+=k*oe,x(C,2*A+2*M+1),C[2*A+2*M+2]+=D*oe,x(C,2*A+2*M+2)}for(A=0;A<E;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=E;A<2*E;A++)C[A]=0;return new o(C,0)};function x(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function N(S,E){this.g=S,this.h=E}function R(S,E){if(v(E))throw Error("division by zero");if(v(S))return new N(f,f);if(b(S))return E=R(T(S),E),new N(T(E.g),T(E.h));if(b(E))return E=R(S,T(E)),new N(T(E.g),E.h);if(30<S.g.length){if(b(S)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var C=p,A=E;0>=A.l(S);)C=P(C),A=P(A);var M=O(C,1),D=O(A,1);for(A=O(A,2),C=O(C,2);!v(A);){var k=D.add(A);0>=k.l(S)&&(M=M.add(C),D=k),A=O(A,1),C=O(C,1)}return E=_(S,M.j(E)),new N(M,E)}for(M=f;0<=S.l(E);){for(C=Math.max(1,Math.floor(S.m()/E.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=u(C),k=D.j(E);b(k)||0<k.l(S);)C-=A,D=u(C),k=D.j(E);v(D)&&(D=p),M=M.add(D),S=_(S,k)}return new N(M,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],A=0;A<E;A++)C[A]=this.i(A)&S.i(A);return new o(C,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],A=0;A<E;A++)C[A]=this.i(A)|S.i(A);return new o(C,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],A=0;A<E;A++)C[A]=this.i(A)^S.i(A);return new o(C,this.h^S.h)};function P(S){for(var E=S.g.length+1,C=[],A=0;A<E;A++)C[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(C,S.h)}function O(S,E){var C=E>>5;E%=32;for(var A=S.g.length-C,M=[],D=0;D<A;D++)M[D]=0<E?S.i(D+C)>>>E|S.i(D+C+1)<<32-E:S.i(D+C);return new o(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,H4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,mo=o}).apply(typeof _2<"u"?_2:typeof self<"u"?self:typeof window<"u"?window:{});var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q4,Ju,G4,Ip,zv,K4,Y4,Q4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,w){return h==Array.prototype||h==Object.prototype||(h[m]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jf=="object"&&Jf];for(var m=0;m<h.length;++m){var w=h[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(h,m){if(m)e:{var w=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var U=h[I];if(!(U in w))break e;w=w[U]}h=h[h.length-1],I=w[h],m=m(I),m!=I&&m!=null&&e(w,h,{configurable:!0,writable:!0,value:m})}}function i(h,m){h instanceof String&&(h+="");var w=0,I=!1,U={next:function(){if(!I&&w<h.length){var B=w++;return{value:m(B,h[B]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(h){return h||function(){return i(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function u(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function d(h,m,w){return h.call.apply(h.bind,arguments)}function f(h,m,w){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),h.apply(m,U)}}return function(){return h.apply(m,arguments)}}function p(h,m,w){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(h,m){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function v(h,m){function w(){}w.prototype=m.prototype,h.aa=m.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(I,U,B){for(var te=Array(arguments.length-2),st=2;st<arguments.length;st++)te[st-2]=arguments[st];return m.prototype[U].apply(I,te)}}function b(h){const m=h.length;if(0<m){const w=Array(m);for(let I=0;I<m;I++)w[I]=h[I];return w}return[]}function T(h,m){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(c(I)){const U=h.length||0,B=I.length||0;h.length=U+B;for(let te=0;te<B;te++)h[U+te]=I[te]}else h.push(I)}}class _{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(h){return/^[\s\xa0]*$/.test(h)}function N(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function R(h){return R[" "](h),h}R[" "]=function(){};var P=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function O(h,m,w){for(const I in h)m.call(w,h[I],I,h)}function S(h,m){for(const w in h)m.call(void 0,h[w],w,h)}function E(h){const m={};for(const w in h)m[w]=h[w];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,m){let w,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(w in I)h[w]=I[w];for(let B=0;B<C.length;B++)w=C[B],Object.prototype.hasOwnProperty.call(I,w)&&(h[w]=I[w])}}function M(h){var m=1;h=h.split(":");const w=[];for(;0<m&&h.length;)w.push(h.shift()),m--;return h.length&&w.push(h.join(":")),w}function D(h){l.setTimeout(()=>{throw h},0)}function k(){var h=Y;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,w){const I=Ce.get();I.set(m,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Ce=new _(()=>new $e,h=>h.reset());class $e{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,V=!1,Y=new oe,F=()=>{const h=l.Promise.resolve(void 0);ke=()=>{h.then(ee)}};var ee=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(w){D(w)}var m=Ce;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}V=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};l.addEventListener("test",w,m),l.removeEventListener("test",w,m)}catch{}return h}();function Se(h,m){if(G.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(P){e:{try{R(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else w=="mouseover"?m=h.fromElement:w=="mouseout"&&(m=h.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:bt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Se.aa.h.call(this)}}v(Se,G);var bt={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),Rn=0;function Gn(h,m,w,I,U){this.listener=h,this.proxy=null,this.src=m,this.type=w,this.capture=!!I,this.ha=U,this.key=++Rn,this.da=this.fa=!1}function On(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ye(h){this.src=h,this.g={},this.h=0}Ye.prototype.add=function(h,m,w,I,U){var B=h.toString();h=this.g[B],h||(h=this.g[B]=[],this.h++);var te=St(h,m,I,U);return-1<te?(m=h[te],w||(m.fa=!1)):(m=new Gn(m,this.src,B,!!I,U),m.fa=w,h.push(m)),m};function Tt(h,m){var w=m.type;if(w in h.g){var I=h.g[w],U=Array.prototype.indexOf.call(I,m,void 0),B;(B=0<=U)&&Array.prototype.splice.call(I,U,1),B&&(On(m),h.g[w].length==0&&(delete h.g[w],h.h--))}}function St(h,m,w,I){for(var U=0;U<h.length;++U){var B=h[U];if(!B.da&&B.listener==m&&B.capture==!!w&&B.ha==I)return U}return-1}var ln="closure_lm_"+(1e6*Math.random()|0),Is={};function As(h,m,w,I,U){if(Array.isArray(m)){for(var B=0;B<m.length;B++)As(h,m[B],w,I,U);return null}return w=Z(w),h&&h[Ft]?h.K(m,w,u(I)?!!I.capture:!1,U):ll(h,m,w,!1,I,U)}function ll(h,m,w,I,U,B){if(!m)throw Error("Invalid event type");var te=u(U)?!!U.capture:!!U,st=ie(h);if(st||(h[ln]=st=new Ye(h)),w=st.add(m,w,I,te,B),w.proxy)return w;if(I=Ko(),w.proxy=I,I.src=h,I.listener=w,h.addEventListener)Te||(U=te),U===void 0&&(U=!1),h.addEventListener(m.toString(),I,U);else if(h.attachEvent)h.attachEvent($(m.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ko(){function h(w){return m.call(h.src,h.listener,w)}const m=W;return h}function Ti(h,m,w,I,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ti(h,m[B],w,I,U);else I=u(I)?!!I.capture:!!I,w=Z(w),h&&h[Ft]?(h=h.i,m=String(m).toString(),m in h.g&&(B=h.g[m],w=St(B,w,I,U),-1<w&&(On(B[w]),Array.prototype.splice.call(B,w,1),B.length==0&&(delete h.g[m],h.h--)))):h&&(h=ie(h))&&(m=h.g[m.toString()],h=-1,m&&(h=St(m,w,I,U)),(w=-1<h?m[h]:null)&&L(w))}function L(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[Ft])Tt(m.i,h);else{var w=h.type,I=h.proxy;m.removeEventListener?m.removeEventListener(w,I,h.capture):m.detachEvent?m.detachEvent($(w),I):m.addListener&&m.removeListener&&m.removeListener(I),(w=ie(m))?(Tt(w,h),w.h==0&&(w.src=null,m[ln]=null)):On(h)}}}function $(h){return h in Is?Is[h]:Is[h]="on"+h}function W(h,m){if(h.da)h=!0;else{m=new Se(m,this);var w=h.listener,I=h.ha||h.src;h.fa&&L(h),h=w.call(I,m)}return h}function ie(h){return h=h[ln],h instanceof Ye?h:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(h){return typeof h=="function"?h:(h[J]||(h[J]=function(m){return h.handleEvent(m)}),h[J])}function ae(){ve.call(this),this.i=new Ye(this),this.M=this,this.F=null}v(ae,ve),ae.prototype[Ft]=!0,ae.prototype.removeEventListener=function(h,m,w,I){Ti(this,h,m,w,I)};function je(h,m){var w,I=h.F;if(I)for(w=[];I;I=I.F)w.push(I);if(h=h.M,I=m.type||m,typeof m=="string")m=new G(m,h);else if(m instanceof G)m.target=m.target||h;else{var U=m;m=new G(I,h),A(m,U)}if(U=!0,w)for(var B=w.length-1;0<=B;B--){var te=m.g=w[B];U=Be(te,I,!0,m)&&U}if(te=m.g=h,U=Be(te,I,!0,m)&&U,U=Be(te,I,!1,m)&&U,w)for(B=0;B<w.length;B++)te=m.g=w[B],U=Be(te,I,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var w=h.g[m],I=0;I<w.length;I++)On(w[I]);delete h.g[m],h.h--}}this.F=null},ae.prototype.K=function(h,m,w,I){return this.i.add(String(h),m,!1,w,I)},ae.prototype.L=function(h,m,w,I){return this.i.add(String(h),m,!0,w,I)};function Be(h,m,w,I){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,B=0;B<m.length;++B){var te=m[B];if(te&&!te.da&&te.capture==w){var st=te.listener,Qt=te.ha||te.src;te.fa&&Tt(h.i,te),U=st.call(Qt,I)!==!1&&U}}return U&&!I.defaultPrevented}function Ht(h,m,w){if(typeof h=="function")w&&(h=p(h,w));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(h,m||0)}function Ps(h){h.g=Ht(()=>{h.g=null,h.i&&(h.i=!1,Ps(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class fr extends ve{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(h){ve.call(this),this.h=h,this.g={}}v(es,ve);var Rs=[];function Os(h){O(h.g,function(m,w){this.g.hasOwnProperty(w)&&L(m)},h),h.g={}}es.prototype.N=function(){es.aa.N.call(this),Os(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=l.JSON.stringify,Yo=l.JSON.parse,cl=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function ji(){}ji.prototype.h=null;function tf(h){return h.h||(h.h=h.i())}function tu(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ul(){G.call(this,"d")}v(ul,G);function dl(){G.call(this,"c")}v(dl,G);var ts={},nu=null;function Qo(){return nu=nu||new ae}ts.La="serverreachability";function ru(h){G.call(this,ts.La,h)}v(ru,G);function ki(h){const m=Qo();je(m,new ru(m))}ts.STAT_EVENT="statevent";function su(h,m){G.call(this,ts.STAT_EVENT,h),this.stat=m}v(su,G);function Yt(h){const m=Qo();je(m,new su(m,h))}ts.Ma="timingevent";function nf(h,m){G.call(this,ts.Ma,h),this.size=m}v(nf,G);function Ii(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},m)}function Zo(){this.g=!0}Zo.prototype.xa=function(){this.g=!1};function Cr(h,m,w,I,U,B){h.info(function(){if(h.g)if(B)for(var te="",st=B.split("&"),Qt=0;Qt<st.length;Qt++){var Ge=st[Qt].split("=");if(1<Ge.length){var cn=Ge[0];Ge=Ge[1];var un=cn.split("_");te=2<=un.length&&un[1]=="type"?te+(cn+"="+Ge+"&"):te+(cn+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+w+`
`+te})}function iu(h,m,w,I,U,B,te){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+w+`
`+B+" "+te})}function Kn(h,m,w,I){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+M_(h,w)+(I?" "+I:"")})}function hl(h,m){h.info(function(){return"TIMEOUT: "+m})}Zo.prototype.info=function(){};function M_(h,m){if(!h.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var I=w[h];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Si(w)}catch{return m}}var kr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fl;function Ai(){}v(Ai,ji),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},fl=new Ai;function ns(h,m,w,I){this.j=h,this.i=m,this.l=w,this.R=I||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rf}function rf(){this.i=null,this.g="",this.h=!1}var sf={},ou={};function au(h,m,w){h.L=1,h.v=gl(Ir(m)),h.m=w,h.P=!0,of(h,null)}function of(h,m){h.F=Date.now(),pl(h),h.A=Ir(h.v);var w=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),L_(w.i,"t",I),h.C=0,w=h.j.J,h.h=new rf,h.g=tE(h.j,w?m:null,!h.m),0<h.O&&(h.M=new fr(p(h.Y,h,h.g),h.O)),m=h.U,w=h.g,I=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(Rs[0]=U.toString()),U=Rs);for(var B=0;B<U.length;B++){var te=As(w,U[B],I||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),ki(),Cr(h.i,h.u,h.A,h.l,h.R,h.m)}ns.prototype.ca=function(h){h=h.target;const m=this.M;m&&Us(h)==3?m.j():this.Y(h)},ns.prototype.Y=function(h){try{if(h==this.g)e:{const un=Us(this.g);var m=this.g.Ba();const vl=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||W_(this.g)))){this.J||un!=4||m==7||(m==8||0>=vl?ki(3):ki(2)),Dn(this);var w=this.g.Z();this.X=w;t:if(af(this)){var I=W_(this.g);h="";var U=I.length,B=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),rs(this);var te="";break t}this.h.i=new l.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,h+=this.h.i.decode(I[m],{stream:!(B&&m==U-1)});I.length=0,this.h.g+=h,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=w==200,iu(this.i,this.u,this.A,this.l,this.R,un,w),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Qt=this.g;if((st=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(st)){var Ge=st;break t}}Ge=null}if(w=Ge)Kn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lu(this,w);else{this.o=!1,this.s=3,Yt(12),Ms(this),rs(this);break e}}if(this.P){w=!0;let Ar;for(;!this.J&&this.C<te.length;)if(Ar=_y(this,te),Ar==ou){un==4&&(this.s=4,Yt(14),w=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==sf){this.s=4,Yt(15),Kn(this.i,this.l,te,"[Invalid Chunk]"),w=!1;break}else Kn(this.i,this.l,Ar,null),lu(this,Ar);if(af(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||te.length!=0||this.h.h||(this.s=1,Yt(16),w=!1),this.o=this.o&&w,!w)Kn(this.i,this.l,te,"[Invalid Chunked Response]"),Ms(this),rs(this);else if(0<te.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Iy(cn),cn.M=!0,Yt(11))}}else Kn(this.i,this.l,te,null),lu(this,te);un==4&&Ms(this),this.o&&!this.J&&(un==4?Z_(this.j,this):(this.o=!1,pl(this)))}else B5(this.g),w==400&&0<te.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Ms(this),rs(this)}}}catch{}finally{}};function af(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function _y(h,m){var w=h.C,I=m.indexOf(`
`,w);return I==-1?ou:(w=Number(m.substring(w,I)),isNaN(w)?sf:(I+=1,I+w>m.length?ou:(m=m.slice(I,I+w),h.C=I+w,m)))}ns.prototype.cancel=function(){this.J=!0,Ms(this)};function pl(h){h.S=Date.now()+h.I,lf(h,h.I)}function lf(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ii(p(h.ba,h),m)}function Dn(h){h.B&&(l.clearTimeout(h.B),h.B=null)}ns.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(hl(this.i,this.A),this.L!=2&&(ki(),Yt(17)),Ms(this),this.s=2,rs(this)):lf(this,this.S-h)};function rs(h){h.j.G==0||h.J||Z_(h.j,h)}function Ms(h){Dn(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,Os(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function lu(h,m){try{var w=h.j;if(w.G!=0&&(w.g==h||Yn(w.h,h))){if(!h.K&&Yn(w.h,h)&&w.G==3){try{var I=w.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ef(w),bf(w);else break e;ky(w),Yt(18)}}else w.za=U[1],0<w.za-w.T&&37500>U[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ii(p(w.Za,w),6e3));if(1>=df(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ta(w,11)}else if((h.K||w.g==h)&&Ef(w),!x(m))for(U=w.Da.g.parse(m),m=0;m<U.length;m++){let Ge=U[m];if(w.T=Ge[0],Ge=Ge[1],w.G==2)if(Ge[0]=="c"){w.K=Ge[1],w.ia=Ge[2];const cn=Ge[3];cn!=null&&(w.la=cn,w.j.info("VER="+w.la));const un=Ge[4];un!=null&&(w.Aa=un,w.j.info("SVER="+w.Aa));const vl=Ge[5];vl!=null&&typeof vl=="number"&&0<vl&&(I=1.5*vl,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Ar=h.g;if(Ar){const Tf=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tf){var B=I.h;B.g||Tf.indexOf("spdy")==-1&&Tf.indexOf("quic")==-1&&Tf.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(cu(B,B.h),B.h=null))}if(I.D){const Ay=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Ay&&(I.ya=Ay,rt(I.I,I.D,Ay))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var te=h;if(I.qa=eE(I,I.J?I.ia:null,I.W),te.K){hf(I.h,te);var st=te,Qt=I.L;Qt&&(st.I=Qt),st.B&&(Dn(st),pl(st)),I.g=te}else Y_(I);0<w.i.length&&_f(w)}else Ge[0]!="stop"&&Ge[0]!="close"||ta(w,7);else w.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ta(w,7):Cy(w):Ge[0]!="noop"&&w.l&&w.l.ta(Ge),w.v=0)}}ki(4)}catch{}}var Ey=class{constructor(h,m){this.g=h,this.map=m}};function cf(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uf(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function df(h){return h.h?1:h.g?h.g.size:0}function Yn(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function cu(h,m){h.g?h.g.add(m):h.h=m}function hf(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}cf.prototype.cancel=function(){if(this.i=ff(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ff(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const w of h.g.values())m=m.concat(w.D);return m}return b(h.i)}function ml(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var m=[],w=h.length,I=0;I<w;I++)m.push(h[I]);return m}m=[],w=0;for(I in h)m[w++]=h[I];return m}function pf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var m=[];h=h.length;for(var w=0;w<h;w++)m.push(w);return m}m=[],w=0;for(const I in h)m[w++]=I;return m}}}function uu(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var w=pf(h),I=ml(h),U=I.length,B=0;B<U;B++)m.call(void 0,I[B],w&&w[B],h)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(h,m){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var I=h[w].indexOf("="),U=null;if(0<=I){var B=h[w].substring(0,I);U=h[w].substring(I+1)}else B=h[w];m(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ls(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ls){this.h=h.h,Vs(this,h.j),this.o=h.o,this.g=h.g,Fs(this,h.s),this.l=h.l;var m=h.i,w=new re;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),gf(this,w),this.m=h.m}else h&&(m=String(h).match(du))?(this.h=!1,Vs(this,m[1]||"",!0),this.o=Xo(m[2]||""),this.g=Xo(m[3]||"",!0),Fs(this,m[4]),this.l=Xo(m[5]||"",!0),gf(this,m[6]||"",!0),this.m=Xo(m[7]||"")):(this.h=!1,this.i=new re(null,this.h))}Ls.prototype.toString=function(){var h=[],m=this.j;m&&h.push(Jo(m,Pi,!0),":");var w=this.g;return(w||m=="file")&&(h.push("//"),(m=this.o)&&h.push(Jo(m,Pi,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Jo(w,w.charAt(0)=="/"?Sy:Ty,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Jo(w,j)),h.join("")};function Ir(h){return new Ls(h)}function Vs(h,m,w){h.j=w?Xo(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function Fs(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function gf(h,m,w){m instanceof re?(h.i=m,D5(h.i,h.h)):(w||(m=Jo(m,yf)),h.i=new re(m,h.h))}function rt(h,m,w){h.i.set(m,w)}function gl(h){return rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Xo(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Jo(h,m,w){return typeof h=="string"?(h=encodeURI(h).replace(m,Ny),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ny(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pi=/[#\/\?@]/g,Ty=/[#\?:]/g,Sy=/[#\?]/g,yf=/[#\?@]/g,j=/#/g;function re(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function be(h){h.g||(h.g=new Map,h.h=0,h.i&&mf(h.i,function(m,w){h.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=re.prototype,t.add=function(h,m){be(this),this.i=null,h=yl(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(m),this.h+=1,this};function Xe(h,m){be(h),m=yl(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function ea(h,m){return be(h),m=yl(h,m),h.g.has(m)}t.forEach=function(h,m){be(this),this.g.forEach(function(w,I){w.forEach(function(U){h.call(m,U,I,this)},this)},this)},t.na=function(){be(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let I=0;I<m.length;I++){const U=h[I];for(let B=0;B<U.length;B++)w.push(m[I])}return w},t.V=function(h){be(this);let m=[];if(typeof h=="string")ea(this,h)&&(m=m.concat(this.g.get(yl(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)m=m.concat(h[w])}return m},t.set=function(h,m){return be(this),this.i=null,h=yl(this,h),ea(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},t.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function L_(h,m,w){Xe(h,m),0<w.length&&(h.i=null,h.g.set(yl(h,m),b(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var I=m[w];const B=encodeURIComponent(String(I)),te=this.V(I);for(I=0;I<te.length;I++){var U=B;te[I]!==""&&(U+="="+encodeURIComponent(String(te[I]))),h.push(U)}}return this.i=h.join("&")};function yl(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function D5(h,m){m&&!h.j&&(be(h),h.i=null,h.g.forEach(function(w,I){var U=I.toLowerCase();I!=U&&(Xe(this,I),L_(this,U,w))},h)),h.j=m}function M5(h,m){const w=new Zo;if(l.Image){const I=new Image;I.onload=g(Ri,w,"TestLoadImage: loaded",!0,m,I),I.onerror=g(Ri,w,"TestLoadImage: error",!1,m,I),I.onabort=g(Ri,w,"TestLoadImage: abort",!1,m,I),I.ontimeout=g(Ri,w,"TestLoadImage: timeout",!1,m,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else m(!1)}function L5(h,m){const w=new Zo,I=new AbortController,U=setTimeout(()=>{I.abort(),Ri(w,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:I.signal}).then(B=>{clearTimeout(U),B.ok?Ri(w,"TestPingServer: ok",!0,m):Ri(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Ri(w,"TestPingServer: error",!1,m)})}function Ri(h,m,w,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(w)}catch{}}function V5(){this.g=new cl}function F5(h,m,w){const I=w||"";try{uu(h,function(U,B){let te=U;u(U)&&(te=Si(U)),m.push(I+B+"="+encodeURIComponent(te))})}catch(U){throw m.push(I+"type="+encodeURIComponent("_badmap")),U}}function xf(h){this.l=h.Ub||null,this.j=h.eb||!1}v(xf,ji),xf.prototype.g=function(){return new vf(this.l,this.j)},xf.prototype.i=function(h){return function(){return h}}({});function vf(h,m){ae.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(vf,ae),t=vf.prototype,t.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,fu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;V_(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function V_(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?hu(this):fu(this),this.readyState==3&&V_(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,hu(this))},t.Qa=function(h){this.g&&(this.response=h,hu(this))},t.ga=function(){this.g&&hu(this)};function hu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fu(h)}t.setRequestHeader=function(h,m){this.u.append(h,m)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=m.next();return h.join(`\r
`)};function fu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function F_(h){let m="";return O(h,function(w,I){m+=I,m+=":",m+=w,m+=`\r
`}),m}function jy(h,m,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=F_(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):rt(h,m,w))}function _t(h){ae.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(_t,ae);var U5=/^https?$/i,$5=["POST","PUT"];t=_t.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,m,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fl.g(),this.v=this.o?tf(this.o):tf(fl),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(B){U_(this,B);return}if(h=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)w.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const B of I.keys())w.set(B,I.get(B));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(B=>B.toLowerCase()=="content-type"),U=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call($5,m,void 0))||I||U||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of w)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z_(this),this.u=!0,this.g.send(h),this.u=!1}catch(B){U_(this,B)}};function U_(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,$_(h),wf(h)}function $_(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,je(this,"complete"),je(this,"abort"),wf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wf(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?B_(this):this.bb())},t.bb=function(){B_(this)};function B_(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Us(h)!=4||h.Z()!=2)){if(h.u&&Us(h)==4)Ht(h.Ea,0,h);else if(je(h,"readystatechange"),Us(h)==4){h.h=!1;try{const te=h.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var I;if(I=te===0){var U=String(h.D).match(du)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),I=!U5.test(U?U.toLowerCase():"")}w=I}if(w)je(h,"complete"),je(h,"success");else{h.m=6;try{var B=2<Us(h)?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.Z()+"]",$_(h)}}finally{wf(h)}}}}function wf(h,m){if(h.g){z_(h);const w=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||je(h,"ready");try{w.onreadystatechange=I}catch{}}}function z_(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Us(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),Yo(m)}};function W_(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function B5(h){const m={};h=(h.g&&2<=Us(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(x(h[I]))continue;var w=M(h[I]);const U=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const B=m[U]||[];m[U]=B,B.push(w)}S(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pu(h,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||m}function H_(h){this.Aa=0,this.i=[],this.j=new Zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pu("baseRetryDelayMs",5e3,h),this.cb=pu("retryDelaySeedMs",1e4,h),this.Wa=pu("forwardChannelMaxRetries",2,h),this.wa=pu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new cf(h&&h.concurrentRequestLimit),this.Da=new V5,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=H_.prototype,t.la=8,t.G=1,t.connect=function(h,m,w,I){Yt(0),this.W=h,this.H=m||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=eE(this,null,this.W),_f(this)};function Cy(h){if(q_(h),h.G==3){var m=h.U++,w=Ir(h.I);if(rt(w,"SID",h.K),rt(w,"RID",m),rt(w,"TYPE","terminate"),mu(h,w),m=new ns(h,h.j,m),m.L=2,m.v=gl(Ir(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&l.Image&&(new Image().src=m.v,w=!0),w||(m.g=tE(m.j,null),m.g.ea(m.v)),m.F=Date.now(),pl(m)}J_(h)}function bf(h){h.g&&(Iy(h),h.g.cancel(),h.g=null)}function q_(h){bf(h),h.u&&(l.clearTimeout(h.u),h.u=null),Ef(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function _f(h){if(!uf(h.h)&&!h.s){h.s=!0;var m=h.Ga;ke||F(),V||(ke(),V=!0),Y.add(m,h),h.B=0}}function z5(h,m){return df(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ii(p(h.Ga,h,m),X_(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new ns(this,this.j,h);let B=this.o;if(this.S&&(B?(B=E(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=K_(this,U,m),w=Ir(this.I),rt(w,"RID",h),rt(w,"CVER",22),this.D&&rt(w,"X-HTTP-Session-Id",this.D),mu(this,w),B&&(this.O?m="headers="+encodeURIComponent(String(F_(B)))+"&"+m:this.m&&jy(w,this.m,B)),cu(this.h,U),this.Ua&&rt(w,"TYPE","init"),this.P?(rt(w,"$req",m),rt(w,"SID","null"),U.T=!0,au(U,w,null)):au(U,w,m),this.G=2}}else this.G==3&&(h?G_(this,h):this.i.length==0||uf(this.h)||G_(this))};function G_(h,m){var w;m?w=m.l:w=h.U++;const I=Ir(h.I);rt(I,"SID",h.K),rt(I,"RID",w),rt(I,"AID",h.T),mu(h,I),h.m&&h.o&&jy(I,h.m,h.o),w=new ns(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),m&&(h.i=m.D.concat(h.i)),m=K_(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),cu(h.h,w),au(w,I,m)}function mu(h,m){h.H&&O(h.H,function(w,I){rt(m,I,w)}),h.l&&uu({},function(w,I){rt(m,I,w)})}function K_(h,m,w){w=Math.min(h.i.length,w);var I=h.l?p(h.l.Na,h.l,h):null;e:{var U=h.i;let B=-1;for(;;){const te=["count="+w];B==-1?0<w?(B=U[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let st=!0;for(let Qt=0;Qt<w;Qt++){let Ge=U[Qt].g;const cn=U[Qt].map;if(Ge-=B,0>Ge)B=Math.max(0,U[Qt].g-100),st=!1;else try{F5(cn,te,"req"+Ge+"_")}catch{I&&I(cn)}}if(st){I=te.join("&");break e}}}return h=h.i.splice(0,w),m.D=h,I}function Y_(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;ke||F(),V||(ke(),V=!0),Y.add(m,h),h.v=0}}function ky(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ii(p(h.Fa,h),X_(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Q_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ii(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),bf(this),Q_(this))};function Iy(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function Q_(h){h.g=new ns(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=Ir(h.qa);rt(m,"RID","rpc"),rt(m,"SID",h.K),rt(m,"AID",h.T),rt(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&rt(m,"TO",h.ja),rt(m,"TYPE","xmlhttp"),mu(h,m),h.m&&h.o&&jy(m,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=gl(Ir(m)),w.m=null,w.P=!0,of(w,h)}t.Za=function(){this.C!=null&&(this.C=null,bf(this),ky(this),Yt(19))};function Ef(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Z_(h,m){var w=null;if(h.g==m){Ef(h),Iy(h),h.g=null;var I=2}else if(Yn(h.h,m))w=m.D,hf(h.h,m),I=1;else return;if(h.G!=0){if(m.o)if(I==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var U=h.B;I=Qo(),je(I,new nf(I,w)),_f(h)}else Y_(h);else if(U=m.s,U==3||U==0&&0<m.X||!(I==1&&z5(h,m)||I==2&&ky(h)))switch(w&&0<w.length&&(m=h.h,m.i=m.i.concat(w)),U){case 1:ta(h,5);break;case 4:ta(h,10);break;case 3:ta(h,6);break;default:ta(h,2)}}}function X_(h,m){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*m}function ta(h,m){if(h.j.info("Error code "+m),m==2){var w=p(h.fb,h),I=h.Xa;const U=!I;I=new Ls(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Vs(I,"https"),gl(I),U?M5(I.toString(),w):L5(I.toString(),w)}else Yt(2);h.G=0,h.l&&h.l.sa(m),J_(h),q_(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function J_(h){if(h.G=0,h.ka=[],h.l){const m=ff(h.h);(m.length!=0||h.i.length!=0)&&(T(h.ka,m),T(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function eE(h,m,w){var I=w instanceof Ls?Ir(w):new Ls(w);if(I.g!="")m&&(I.g=m+"."+I.g),Fs(I,I.s);else{var U=l.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var B=new Ls(null);I&&Vs(B,I),m&&(B.g=m),U&&Fs(B,U),w&&(B.l=w),I=B}return w=h.D,m=h.ya,w&&m&&rt(I,w,m),rt(I,"VER",h.la),mu(h,I),I}function tE(h,m,w){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new _t(new xf({eb:w})):new _t(h.pa),m.Ha(h.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nE(){}t=nE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nf(){}Nf.prototype.g=function(h,m){return new Qn(h,m)};function Qn(h,m){ae.call(this),this.g=new H_(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!x(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new xl(this)}v(Qn,ae),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Cy(this.g)},Qn.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Si(h),h=w);m.i.push(new Ey(m.Ya++,h)),m.G==3&&_f(m)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Cy(this.g),delete this.g,Qn.aa.N.call(this)};function rE(h){ul.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const w in m){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}v(rE,ul);function sE(){dl.call(this),this.status=1}v(sE,dl);function xl(h){this.g=h}v(xl,nE),xl.prototype.ua=function(){je(this.g,"a")},xl.prototype.ta=function(h){je(this.g,new rE(h))},xl.prototype.sa=function(h){je(this.g,new sE)},xl.prototype.ra=function(){je(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Q4=function(){return new Nf},Y4=function(){return Qo()},K4=ts,zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Ip=kr,Ds.COMPLETE="complete",G4=Ds,tu.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Ju=tu,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,q4=_t}).apply(typeof Jf<"u"?Jf:typeof self<"u"?self:typeof window<"u"?window:{});const E2="@firebase/firestore",N2="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new zg("@firebase/firestore");function Nl(){return $a.logLevel}function de(t,...e){if($a.logLevel<=Fe.DEBUG){const n=e.map(L1);$a.debug(`Firestore (${qc}): ${t}`,...n)}}function xi(t,...e){if($a.logLevel<=Fe.ERROR){const n=e.map(L1);$a.error(`Firestore (${qc}): ${t}`,...n)}}function Sc(t,...e){if($a.logLevel<=Fe.WARN){const n=e.map(L1);$a.warn(`Firestore (${qc}): ${t}`,...n)}}function L1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Z4(t,r,n)}function Z4(t,e,n){let r=`FIRESTORE (${qc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xi(r),new Error(r)}function Ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Z4(e,s,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class zY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WY{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ri,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new X4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class HY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new HY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=KY(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function Wv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return De(r,s);{const i=J4(),o=YY(i.encode(S2(t,n)),i.encode(S2(e,n)));return o!==0?o:De(r,s)}}n+=r>65535?2:1}return De(t.length,e.length)}function S2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function YY(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return De(t[n],e[n]);return De(t.length,e.length)}function jc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=-62135596800,C2=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*C2);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j2)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C2}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-j2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new zt(0,0))}static max(){return new Ie(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="__name__";class as{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return as.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=as.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return De(e.length,n.length)}static compareSegments(e,n){const r=as.isNumericId(e),s=as.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?as.extractNumericId(e).compare(as.extractNumericId(n)):Wv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class ct extends as{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const QY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends as{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return QY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k2}static keyField(){return new tn([k2])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ue(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ue(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ue(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ct.fromString(e))}static fromName(e){return new we(ct.fromString(e).popFirst(5))}static empty(){return new we(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=-1;function ZY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new Co(s,we.empty(),e)}function XY(t){return new Co(t.readTime,t.key,dh)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(Ie.min(),we.empty(),dh)}static max(){return new Co(Ie.max(),we.empty(),dh)}}function JY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==eQ)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function nQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Gg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-1;function Kg(t){return t==null}function Vm(t){return t===0&&1/t==-1/0}function rQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Vm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="";function sQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I2(e)),e=iQ(t.get(n),e);return I2(e)}function iQ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case tO:n+="";break;default:n+=i}}return n}function I2(t){return t+tO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ep(this.root,e,this.comparator,!0)}}class ep{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??en.RED,this.left=s??en.EMPTY,this.right=i??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new en(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P2(this.data.getIterator())}getIteratorFrom(e){return new P2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class P2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Wt(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rO("Invalid base64 string: "+i):i}}(e);return new an(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const oQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=oQ.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="server_timestamp",iO="__type__",oO="__previous_value__",aO="__local_write_time__";function F1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iO])===null||n===void 0?void 0:n.stringValue)===sO}function Yg(t){const e=t.mapValue.fields[oO];return F1(e)?Yg(e):e}function hh(t){const e=ko(t.mapValue.fields[aO].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n,r,s,i,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Fm="(default)";class fh{constructor(e,n){this.projectId=e,this.database=n||Fm}static empty(){return new fh("","")}get isDefaultDatabase(){return this.database===Fm}isEqual(e){return e instanceof fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="__type__",lQ="__max__",tp={mapValue:{}},cO="__vector__",Um="value";function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?F1(t)?4:uQ(t)?9007199254740991:cQ(t)?10:11:Ne(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ko(s.timestampValue),l=ko(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Io(s.bytesValue).isEqual(Io(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ct(s.geoPointValue.latitude)===Ct(i.geoPointValue.latitude)&&Ct(s.geoPointValue.longitude)===Ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ct(s.integerValue)===Ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ct(s.doubleValue),l=Ct(i.doubleValue);return o===l?Vm(o)===Vm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return jc(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(A2(o)!==A2(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ns(o[c],l[c])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function ph(t,e){return(t.values||[]).find(n=>Ns(n,e))!==void 0}function Cc(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ct(i.integerValue||i.doubleValue),c=Ct(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return R2(t.timestampValue,e.timestampValue);case 4:return R2(hh(t),hh(e));case 5:return Wv(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Io(i),c=Io(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=De(l[u],c[u]);if(d!==0)return d}return De(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=De(Ct(i.latitude),Ct(o.latitude));return l!==0?l:De(Ct(i.longitude),Ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return O2(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const f=i.fields||{},p=o.fields||{},g=(l=f[Um])===null||l===void 0?void 0:l.arrayValue,v=(c=p[Um])===null||c===void 0?void 0:c.arrayValue,b=De(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:O2(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===tp.mapValue&&o===tp.mapValue)return 0;if(i===tp.mapValue)return 1;if(o===tp.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=Wv(c[f],d[f]);if(p!==0)return p;const g=Cc(l[c[f]],u[d[f]]);if(g!==0)return g}return De(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{Pe:n})}}function R2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=ko(t),r=ko(e),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function O2(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Cc(n[s],r[s]);if(i)return i}return De(n.length,r.length)}function kc(t){return Hv(t)}function Hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Hv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Hv(n.fields[o])}`;return s+"}"}(t.mapValue):Ne(61005,{value:t})}function Ap(t){switch(Ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yg(t);return e?16+Ap(e):16;case 5:return 2*t.stringValue.length;case 6:return Io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ap(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return zo(r.fields,(i,o)=>{s+=i.length+Ap(o)}),s}(t.mapValue);default:throw Ne(13486,{value:t})}}function D2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qv(t){return!!t&&"integerValue"in t}function U1(t){return!!t&&"arrayValue"in t}function M2(t){return!!t&&"nullValue"in t}function L2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pp(t){return!!t&&"mapValue"in t}function cQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lO])===null||n===void 0?void 0:n.stringValue)===cO}function _d(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_d(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_d(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_d(n)}setAll(e){let n=tn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=_d(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){zo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Fn(_d(this.value))}}function uO(t){const e=[];return zo(t.fields,(n,r)=>{const s=new tn([n]);if(Pp(r)){const i=uO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new wn(e,0,Ie.min(),Ie.min(),Ie.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,s){return new wn(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new wn(e,2,n,Ie.min(),Ie.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Ie.min(),Ie.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.position=e,this.inclusive=n}}function V2(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=Cc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function F2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function dQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{}class Lt extends dO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fQ(e,n,r):n==="array-contains"?new gQ(e,r):n==="in"?new yQ(e,r):n==="not-in"?new xQ(e,r):n==="array-contains-any"?new vQ(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pQ(e,r):new mQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cc(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(Cc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends dO{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yr(e,n)}matches(e){return hO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function hO(t){return t.op==="and"}function fO(t){return hQ(t)&&hO(t)}function hQ(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function Gv(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+kc(t.value);if(fO(t))return t.filters.map(e=>Gv(e)).join(",");{const e=t.filters.map(n=>Gv(n)).join(",");return`${t.op}(${e})`}}function pO(t,e){return t instanceof Lt?function(r,s){return s instanceof Lt&&r.op===s.op&&r.field.isEqual(s.field)&&Ns(r.value,s.value)}(t,e):t instanceof Yr?function(r,s){return s instanceof Yr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&pO(o,s.filters[l]),!0):!1}(t,e):void Ne(19439)}function mO(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${kc(n.value)}`}(t):t instanceof Yr?function(n){return n.op.toString()+" {"+n.getFilters().map(mO).join(" ,")+"}"}(t):"Filter"}class fQ extends Lt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class pQ extends Lt{constructor(e,n){super(e,"in",n),this.keys=gO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mQ extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=gO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class gQ extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return U1(n)&&ph(n.arrayValue,this.value)}}class yQ extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ph(this.value.arrayValue,n)}}class xQ extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ph(this.value.arrayValue,n)}}class vQ extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!U1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function U2(t,e=null,n=[],r=[],s=null,i=null,o=null){return new wQ(t,e,n,r,s,i,o)}function $1(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Kg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>kc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>kc(r)).join(",")),e.Ie=n}return e.Ie}function B1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F2(t.startAt,e.startAt)&&F2(t.endAt,e.endAt)}function Kv(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bQ(t,e,n,r,s,i,o,l){return new Yc(t,e,n,r,s,i,o,l)}function z1(t){return new Yc(t)}function $2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yO(t){return t.collectionGroup!==null}function Ed(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Wt(tn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new mh(i,r))}),n.has(tn.keyField().canonicalString())||e.Ee.push(new mh(tn.keyField(),r))}return e.Ee}function ws(t){const e=Re(t);return e.de||(e.de=_Q(e,Ed(t))),e.de}function _Q(t,e){if(t.limitType==="F")return U2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new mh(s.field,i)});const n=t.endAt?new $m(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $m(t.startAt.position,t.startAt.inclusive):null;return U2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yv(t,e){const n=t.filters.concat([e]);return new Yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bm(t,e,n){return new Yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qg(t,e){return B1(ws(t),ws(e))&&t.limitType===e.limitType}function xO(t){return`${$1(ws(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mO(s)).join(", ")}]`),Kg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>kc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>kc(s)).join(",")),`Target(${r})`}(ws(t))}; limitType=${t.limitType})`}function Zg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):we.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ed(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=V2(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Ed(r),s)||r.endAt&&!function(o,l,c){const u=V2(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Ed(r),s))}(t,e)}function EQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vO(t){return(e,n)=>{let r=!1;for(const s of Ed(t)){const i=NQ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function NQ(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Cc(c,u):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ=new wt(we.comparator);function vi(){return TQ}const wO=new wt(we.comparator);function ed(...t){let e=wO;for(const n of t)e=e.insert(n.key,n);return e}function bO(t){let e=wO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Na(){return Nd()}function _O(){return Nd()}function Nd(){return new sl(t=>t.toString(),(t,e)=>t.isEqual(e))}const SQ=new wt(we.comparator),jQ=new Wt(we.comparator);function Ue(...t){let e=jQ;for(const n of t)e=e.add(n);return e}const CQ=new Wt(De);function kQ(){return CQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vm(e)?"-0":e}}function EO(t){return{integerValue:""+t}}function IQ(t,e){return rQ(e)?EO(e):W1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this._=void 0}}function AQ(t,e,n){return t instanceof gh?function(s,i){const o={fields:{[iO]:{stringValue:sO},[aO]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&F1(i)&&(i=Yg(i)),i&&(o.fields[oO]=i),{mapValue:o}}(n,e):t instanceof yh?TO(t,e):t instanceof xh?SO(t,e):function(s,i){const o=NO(s,i),l=B2(o)+B2(s.Re);return qv(o)&&qv(s.Re)?EO(l):W1(s.serializer,l)}(t,e)}function PQ(t,e,n){return t instanceof yh?TO(t,e):t instanceof xh?SO(t,e):n}function NO(t,e){return t instanceof zm?function(r){return qv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gh extends Xg{}class yh extends Xg{constructor(e){super(),this.elements=e}}function TO(t,e){const n=jO(e);for(const r of t.elements)n.some(s=>Ns(s,r))||n.push(r);return{arrayValue:{values:n}}}class xh extends Xg{constructor(e){super(),this.elements=e}}function SO(t,e){let n=jO(e);for(const r of t.elements)n=n.filter(s=>!Ns(s,r));return{arrayValue:{values:n}}}class zm extends Xg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function B2(t){return Ct(t.integerValue||t.doubleValue)}function jO(t){return U1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e,n){this.field=e,this.transform=n}}function OQ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yh&&s instanceof yh||r instanceof xh&&s instanceof xh?jc(r.elements,s.elements,Ns):r instanceof zm&&s instanceof zm?Ns(r.Re,s.Re):r instanceof gh&&s instanceof gh}(t.transform,e.transform)}class DQ{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jg{}function CO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new H1(t.key,_r.none()):new qh(t.key,t.data,_r.none());{const n=t.data,r=Fn.empty();let s=new Wt(tn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Wo(t.key,r,new nr(s.toArray()),_r.none())}}function MQ(t,e,n){t instanceof qh?function(s,i,o){const l=s.value.clone(),c=W2(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Wo?function(s,i,o){if(!Rp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=W2(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(kO(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Td(t,e,n,r){return t instanceof qh?function(i,o,l,c){if(!Rp(i.precondition,o))return l;const u=i.value.clone(),d=H2(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wo?function(i,o,l,c){if(!Rp(i.precondition,o))return l;const u=H2(i.fieldTransforms,c,o),d=o.data;return d.setAll(kO(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Rp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function LQ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=NO(r.transform,s||null);i!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,i))}return n||null}function z2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&jc(r,s,(i,o)=>OQ(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qh extends Jg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wo extends Jg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function W2(t,e,n){const r=new Map;Ze(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,PQ(o,l,n[s]))}return r}function H2(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,AQ(i,o,e))}return r}class H1 extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VQ extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&MQ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_O();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=CO(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&jc(this.mutations,e.mutations,(n,r)=>z2(n,r))&&jc(this.baseMutations,e.baseMutations,(n,r)=>z2(n,r))}}class q1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return SQ}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new q1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,ze;function BQ(t){switch(t){case q.OK:return Ne(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function IO(t){if(t===void 0)return xi("GRPC error has no .code"),q.UNKNOWN;switch(t){case Pt.OK:return q.OK;case Pt.CANCELLED:return q.CANCELLED;case Pt.UNKNOWN:return q.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return q.INTERNAL;case Pt.UNAVAILABLE:return q.UNAVAILABLE;case Pt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Pt.NOT_FOUND:return q.NOT_FOUND;case Pt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Pt.ABORTED:return q.ABORTED;case Pt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Pt.DATA_LOSS:return q.DATA_LOSS;default:return Ne(39323,{code:t})}}(ze=Pt||(Pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=new mo([4294967295,4294967295],0);function q2(t){const e=J4().encode(t),n=new H4;return n.update(e),new Uint8Array(n.digest())}function G2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new mo([n,r],0),new mo([s,i],0)]}class G1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=mo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(mo.fromNumber(r)));return s.compare(zQ)===1&&(s=new mo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=q2(e),[r,s]=G2(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new G1(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=q2(e),[r,s]=G2(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ey(Ie.min(),s,new wt(De),vi(),Ue())}}class Gh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gh(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class AO{constructor(e,n){this.targetId=e,this.Ce=n}}class PO{constructor(e,n,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class K2{constructor(){this.Fe=0,this.Me=Y2(),this.xe=an.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),r=Ue();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ne(38017,{changeType:i})}}),new Gh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Y2()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class WQ{constructor(e){this.ze=e,this.je=new Map,this.He=vi(),this.Je=np(),this.Ye=np(),this.Ze=new wt(De)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Kv(i))if(r===0){const o=new we(i.path);this.tt(n,o,wn.newNoDocument(o,Ie.min()))}else Ze(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Io(r).toUint8Array()}catch(c){if(c instanceof rO)return Sc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new G1(o,s,i)}catch(c){return Sc(c instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&Kv(l.target)){const c=new we(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,wn.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ue();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new ey(e,n,this.Ze,this.He,r);return this.He=vi(),this.Je=np(),this.Ye=np(),this.Ze=new wt(De),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new K2,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Wt(De),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Wt(De),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new K2),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function np(){return new wt(we.comparator)}function Y2(){return new wt(we.comparator)}const HQ={asc:"ASCENDING",desc:"DESCENDING"},qQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GQ={and:"AND",or:"OR"};class KQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qv(t,e){return t.useProto3Json||Kg(e)?e:{value:e}}function Wm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YQ(t,e){return Wm(t,e.toTimestamp())}function bs(t){return Ze(!!t,49232),Ie.fromTimestamp(function(n){const r=ko(n);return new zt(r.seconds,r.nanos)}(t))}function K1(t,e){return Zv(t,e).canonicalString()}function Zv(t,e){const n=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OO(t){const e=ct.fromString(t);return Ze(FO(e),10190,{key:e.toString()}),e}function Xv(t,e){return K1(t.databaseId,e.path)}function L0(t,e){const n=OO(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(MO(n))}function DO(t,e){return K1(t.databaseId,e)}function QQ(t){const e=OO(t);return e.length===4?ct.emptyPath():MO(e)}function Jv(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MO(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Q2(t,e,n){return{name:Xv(t,e),fields:n.value.mapValue.fields}}function ZQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ze(d===void 0||typeof d=="string",58123),an.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),an.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?q.UNKNOWN:IO(u.code);return new ue(d,u.message||"")}(o);n=new PO(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=L0(t,r.document.name),i=bs(r.document.updateTime),o=r.document.createTime?bs(r.document.createTime):Ie.min(),l=new Fn({mapValue:{fields:r.document.fields}}),c=wn.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Op(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=L0(t,r.document),i=r.readTime?bs(r.readTime):Ie.min(),o=wn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Op([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=L0(t,r.document),i=r.removedTargetIds||[];n=new Op([],i,s,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new $Q(s,i),l=r.targetId;n=new AO(l,o)}}return n}function XQ(t,e){let n;if(e instanceof qh)n={update:Q2(t,e.key,e.value)};else if(e instanceof H1)n={delete:Xv(t,e.key)};else if(e instanceof Wo)n={update:Q2(t,e.key,e.data),updateMask:aZ(e.fieldMask)};else{if(!(e instanceof VQ))return Ne(16599,{ft:e.type});n={verify:Xv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof gh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof yh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zm)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:YQ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ne(27497)}(t,e.precondition)),n}function JQ(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?bs(s.updateTime):bs(i);return o.isEqual(Ie.min())&&(o=bs(i)),new DQ(o,s.transformResults||[])}(n,e))):[]}function eZ(t,e){return{documents:[DO(t,e.path)]}}function tZ(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DO(t,s);const i=function(u){if(u.length!==0)return VO(Yr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Sl(p.field),direction:sZ(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Qv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function nZ(t){let e=QQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=LO(f);return p instanceof Yr&&fO(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new mh(jl(v.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Kg(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,g=f.values||[];return new $m(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new $m(g,p)}(n.endAt)),bQ(e,s,o,i,l,"F",c,u)}function rZ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jl(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=jl(n.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jl(n.unaryFilter.field);return Lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jl(n.unaryFilter.field);return Lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(jl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yr.create(n.compositeFilter.filters.map(r=>LO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function sZ(t){return HQ[t]}function iZ(t){return qQ[t]}function oZ(t){return GQ[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function jl(t){return tn.fromServerFormat(t.fieldPath)}function VO(t){return t instanceof Lt?function(n){if(n.op==="=="){if(L2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(M2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(M2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:iZ(n.op),value:n.value}}}(t):t instanceof Yr?function(n){const r=n.getFilters().map(s=>VO(s));return r.length===1?r[0]:{compositeFilter:{op:oZ(n.op),filters:r}}}(t):Ne(54877,{filter:t})}function aZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,s,i=Ie.min(),o=Ie.min(),l=an.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e){this.wt=e}}function cZ(t){const e=nZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(){this.Cn=new dZ}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Co.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class dZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(ct.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UO=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(UO,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ic(0)}static lr(){return new Ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="LruGarbageCollector",hZ=1048576;function J2([t,e],[n,r]){const s=De(t,n);return s===0?De(e,r):s}class fZ{constructor(e){this.Er=e,this.buffer=new Wt(J2),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();J2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(X2,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kc(n)?de(X2,"Ignoring IndexedDB error during garbage collection: ",n):await Gc(n)}await this.mr(3e5)})}}class mZ{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Gg.le);const r=new fZ(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Z2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z2):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Nl()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function gZ(t,e){return new mZ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(){this.changes=new sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Td(r.mutation,s,nr.empty(),zt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const s=Na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ed();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=vi();const o=Nd(),l=function(){return Nd()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Wo)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Td(d.mutation,u,d.mutation.getFieldMask(),zt.now())):o.set(u.key,nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new xZ(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Nd();let s=new wt((o,l)=>o-l),i=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||nr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||Ue()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=_O();d.forEach(p=>{if(!i.has(p)){const g=CO(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(Na());let l=dh,c=i;return o.next(u=>K.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ue())).next(d=>({batchId:l,changes:bO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let s=ed();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ed();return this.indexManager.getCollectionParents(e,i).next(l=>K.forEach(l,c=>{const u=function(f,p){return new Yc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,wn.newInvalidDocument(d)))});let l=ed();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Td(d.mutation,u,nr.empty(),zt.now()),Zg(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:bs(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:cZ(s.bundledQuery),readTime:bs(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(){this.overlays=new wt(we.comparator),this.Qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=Na(),i=n.length+1,o=new we(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new wt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Na(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Na(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return K.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UQ(n,r));let i=this.Qr.get(n);i===void 0&&(i=Ue(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.$r=new Wt(qt.Ur),this.Kr=new Wt(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new qt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new qt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new we(new ct([])),r=new qt(n,e),s=new qt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new we(new ct([])),r=new qt(n,e),s=new qt(n,e+1);let i=Ue();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return we.comparator(e.key,n.key)||De(e.Zr,n.Zr)}static Wr(e,n){return De(e.Zr,n.Zr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Wt(qt.Ur)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FQ(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new qt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?V1:this.nr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const l=this.ei(o.Zr);i.push(l)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(De);return n.forEach(s=>{const i=new qt(s,0),o=new qt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{r=r.add(l.Zr)})}),K.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;we.isDocumentKey(i)||(i=i.child(""));const o=new qt(new we(i),0);let l=new Wt(De);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},o),K.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return K.forEach(n.mutations,s=>{const i=new qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new qt(n,0),s=this.Xr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e){this.ii=e,this.docs=function(){return new wt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():wn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vi();const o=n.path,l=new we(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||JY(XY(d),r)<=0||(s.has(d.key)||Zg(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ne(9500)}si(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TZ(this)}getSize(e){return K.resolve(this.size)}}class TZ extends yZ{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.persistence=e,this.oi=new sl(n=>$1(n),B1),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Y1,this.targetCount=0,this.ui=Ic.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),K.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Tr(n),K.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.ci={},this.overlays={},this.li=new Gg(0),this.hi=!1,this.hi=!0,this.Pi=new _Z,this.referenceDelegate=e(this),this.Ti=new SZ(this),this.indexManager=new uZ,this.remoteDocumentCache=function(s){return new NZ(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new lZ(n),this.Ei=new wZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new EZ(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new jZ(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return K.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class jZ extends tQ{constructor(e){super(),this.currentSequenceNumber=e}}class Q1{constructor(e){this.persistence=e,this.Vi=new Y1,this.mi=null}static fi(e){return new Q1(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,r=>{const s=we.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Hm{constructor(e,n){this.persistence=e,this.yi=new sl(r=>sQ(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=gZ(this,n)}static fi(e,n){return new Hm(e,n)}di(){}Ai(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return K.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,Ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),K.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ap(e.data.value)),n}Dr(e,n,r){return K.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ue(),s=Ue();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Z1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tG()?8:nQ(Nn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new CZ;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Nl()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(Nl()<=Fe.DEBUG&&de("QueryEngine","Query:",Tl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Nl()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):K.resolve())}ws(e,n){if($2(n))return K.resolve(null);let r=ws(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Bm(n,null,"F"),r=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ue(...i);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,o,c.readTime)?this.ws(e,Bm(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return $2(n)||s.isEqual(Ie.min())?K.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?K.resolve(null):(Nl()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Tl(n)),this.Fs(e,o,n,ZY(s,dh)).next(l=>l))})}vs(e,n){let r=new Wt(vO(e));return n.forEach((s,i)=>{Zg(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Nl()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ys.getDocumentsMatchingQuery(e,n,Co.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="LocalStore",IZ=3e8;class AZ{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new wt(De),this.Os=new sl(i=>$1(i),B1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vZ(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function PZ(t,e,n,r){return new AZ(t,e,n,r)}async function BO(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Ue();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function RZ(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let g=K.resolve();return p.forEach(v=>{g=g.next(()=>d.getEntry(c,v)).next(b=>{const T=u.docVersions.get(v);Ze(T!==null,48541),b.version.compareTo(T)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ue();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function zO(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function OZ(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(an.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(b,T,_){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=IZ?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,d)&&l.push(n.Ti.updateTargetData(i,g))});let c=vi(),u=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(DZ(i,o,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(Ie.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return K.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function DZ(t,e,n){let r=Ue(),s=Ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=vi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):de(X1,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function MZ(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=V1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LZ(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new to(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function ew(t,e,n){const r=Re(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Kc(o))throw o;de(X1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function ej(t,e,n){const r=Re(t);let s=Ie.min(),i=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Re(c),p=f.Os.get(d);return p!==void 0?K.resolve(f.xs.get(p)):f.Ti.getTargetData(u,d)}(r,o,ws(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:Ie.min(),n?i:Ue())).next(l=>(VZ(r,EQ(e),l),{documents:l,$s:i})))}function VZ(t,e,n){let r=t.Ns.get(e)||Ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class tj{constructor(){this.activeTargetIds=kQ()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FZ{constructor(){this.xo=new tj,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new tj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="ConnectivityMonitor";class rj{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(nj,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(nj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp=null;function tw(){return rp===null?rp=function(){return 268435456+Math.round(2147483648*Math.random())}():rp++,"0x"+rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="RestConnection",$Z={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BZ{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Fm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=tw(),l=this.jo(e,n.toUriEncodedString());de(V0,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),d=tl(u);return this.Jo(e,l,c,r,d).then(f=>(de(V0,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Sc(V0,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=$Z[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class WZ extends BZ{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=tw();return new Promise((l,c)=>{const u=new q4;u.setWithCredentials(!0),u.listenOnce(G4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ip.NO_ERROR:const f=u.getResponseJson();de(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Ip.TIMEOUT:de(fn,`RPC '${e}' ${o} timed out`),c(new ue(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ip.HTTP_ERROR:const p=u.getStatus();if(de(fn,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const b=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(x)>=0?x:q.UNKNOWN}(v.status);c(new ue(b,v.message))}else c(new ue(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ue(q.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{de(fn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);de(fn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}I_(e,n,r){const s=tw(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Q4(),l=Y4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");de(fn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);this.E_(f);let p=!1,g=!1;const v=new zZ({Zo:T=>{g?de(fn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(de(fn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),de(fn,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Xo:()=>f.close()}),b=(T,_,x)=>{T.listen(_,N=>{try{x(N)}catch(R){setTimeout(()=>{throw R},0)}})};return b(f,Ju.EventType.OPEN,()=>{g||(de(fn,`RPC '${e}' stream ${s} transport opened.`),v.__())}),b(f,Ju.EventType.CLOSE,()=>{g||(g=!0,de(fn,`RPC '${e}' stream ${s} transport closed`),v.u_(),this.d_(f))}),b(f,Ju.EventType.ERROR,T=>{g||(g=!0,Sc(fn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),v.u_(new ue(q.UNAVAILABLE,"The operation could not be completed")))}),b(f,Ju.EventType.MESSAGE,T=>{var _;if(!g){const x=T.data[0];Ze(!!x,16349);const N=x,R=(N==null?void 0:N.error)||((_=N[0])===null||_===void 0?void 0:_.error);if(R){de(fn,`RPC '${e}' stream ${s} received error:`,R);const P=R.status;let O=function(C){const A=Pt[C];if(A!==void 0)return IO(A)}(P),S=R.message;O===void 0&&(O=q.INTERNAL,S="Unknown error status: "+P+" with message "+R.message),g=!0,v.u_(new ue(O,S)),f.close()}else de(fn,`RPC '${e}' stream ${s} received:`,x),v.c_(x)}}),b(l,K4.STAT_EVENT,T=>{T.stat===zv.PROXY?de(fn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===zv.NOPROXY&&de(fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function F0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new KQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="PersistentStream";class HO{constructor(e,n,r,s,i,o,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new WO(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new ue(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(sj,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(de(sj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HZ extends HO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=ZQ(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?bs(o.readTime):Ie.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Jv(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Kv(c)?{documents:eZ(i,c)}:{query:tZ(i,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=RO(i,o.resumeToken);const u=Qv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){l.readTime=Wm(i,o.snapshotVersion.toTimestamp());const u=Qv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=rZ(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Jv(this.serializer),n.removeTarget=e,this.Q_(n)}}class qZ extends HO{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=JQ(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Jv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XQ(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{}class KZ extends GZ{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Zv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(q.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,Zv(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(q.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class YZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(xi(n),this.ua=!1):de("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class QZ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{il(this)&&(de(Ba,"Restarting streams for network reachability change."),await async function(c){const u=Re(c);u.da.add(4),await Kh(u),u.Va.set("Unknown"),u.da.delete(4),await ny(u)}(this))})}),this.Va=new YZ(r,s)}}async function ny(t){if(il(t))for(const e of t.Aa)await e(!0)}async function Kh(t){for(const e of t.Aa)await e(!1)}function qO(t,e){const n=Re(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),n_(n)?t_(n):Qc(n).N_()&&e_(n,e))}function J1(t,e){const n=Re(t),r=Qc(n);n.Ea.delete(e),r.N_()&&GO(n,e),n.Ea.size===0&&(r.N_()?r.k_():il(n)&&n.Va.set("Unknown"))}function e_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qc(t).Z_(e)}function GO(t,e){t.ma.Ke(e),Qc(t).X_(e)}function t_(t){t.ma=new WQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Qc(t).start(),t.Va.ca()}function n_(t){return il(t)&&!Qc(t).O_()&&t.Ea.size>0}function il(t){return Re(t).da.size===0}function KO(t){t.ma=void 0}async function ZZ(t){t.Va.set("Online")}async function XZ(t){t.Ea.forEach((e,n)=>{e_(t,e)})}async function JZ(t,e){KO(t),n_(t)?(t.Va.Pa(e),t_(t)):t.Va.set("Unknown")}async function eX(t,e,n){if(t.Va.set("Online"),e instanceof PO&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){de(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qm(t,r)}else if(e instanceof Op?t.ma.Xe(e):e instanceof AO?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ie.min()))try{const r=await zO(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.ma.It(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ea.get(u);d&&i.Ea.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ea.get(c);if(!d)return;i.Ea.set(c,d.withResumeToken(an.EMPTY_BYTE_STRING,d.snapshotVersion)),GO(i,c);const f=new to(d.target,c,u,d.sequenceNumber);e_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){de(Ba,"Failed to raise snapshot:",r),await qm(t,r)}}async function qm(t,e,n){if(!Kc(e))throw e;t.da.add(1),await Kh(t),t.Va.set("Offline"),n||(n=()=>zO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(Ba,"Retrying IndexedDB access"),await n(),t.da.delete(1),await ny(t)})}function YO(t,e){return e().catch(n=>qm(t,n,e))}async function ry(t){const e=Re(t),n=Po(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:V1;for(;tX(e);)try{const s=await MZ(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,nX(e,s)}catch(s){await qm(e,s)}QO(e)&&ZO(e)}function tX(t){return il(t)&&t.Ia.length<10}function nX(t,e){t.Ia.push(e);const n=Po(t);n.N_()&&n.ea&&n.ta(e.mutations)}function QO(t){return il(t)&&!Po(t).O_()&&t.Ia.length>0}function ZO(t){Po(t).start()}async function rX(t){Po(t).ia()}async function sX(t){const e=Po(t);for(const n of t.Ia)e.ta(n.mutations)}async function iX(t,e,n){const r=t.Ia.shift(),s=q1.from(r,e,n);await YO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ry(t)}async function oX(t,e){e&&Po(t).ea&&await async function(r,s){if(function(o){return BQ(o)&&o!==q.ABORTED}(s.code)){const i=r.Ia.shift();Po(r).L_(),await YO(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ry(r)}}(t,e),QO(t)&&ZO(t)}async function ij(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(Ba,"RemoteStore received new credentials");const r=il(n);n.da.add(3),await Kh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await ny(n)}async function aX(t,e){const n=Re(t);e?(n.da.delete(2),await ny(n)):e||(n.da.add(2),await Kh(n),n.Va.set("Unknown"))}function Qc(t){return t.fa||(t.fa=function(n,r,s){const i=Re(n);return i.oa(),new HZ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:ZZ.bind(null,t),n_:XZ.bind(null,t),i_:JZ.bind(null,t),Y_:eX.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),n_(t)?t_(t):t.Va.set("Unknown")):(await t.fa.stop(),KO(t))})),t.fa}function Po(t){return t.ga||(t.ga=function(n,r,s){const i=Re(n);return i.oa(),new qZ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:rX.bind(null,t),i_:oX.bind(null,t),na:sX.bind(null,t),ra:iX.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await ry(t)):(await t.ga.stop(),t.Ia.length>0&&(de(Ba,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new r_(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s_(t,e){if(xi("AsyncQueue",`${e}: ${t}`),Kc(t))return new ue(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.pa=new wt(we.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ac{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ac(e,n,Xl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class cX{constructor(){this.queries=aj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Re(n),i=s.queries;s.queries=aj(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ue(q.ABORTED,"Firestore shutting down"))}}function aj(){return new sl(t=>xO(t),Qg)}async function XO(t,e){const n=Re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new lX,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=s_(o,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&i_(n)}async function JO(t,e){const n=Re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uX(t,e){const n=Re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Ma(s)&&(r=!0);o.ba=s}}r&&i_(n)}function dX(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function i_(t){t.Ca.forEach(e=>{e.next()})}var nw,lj;(lj=nw||(nw={})).xa="default",lj.Cache="cache";class eD{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==nw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.key=e}}class nD{constructor(e){this.key=e}}class hX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=vO(e),this.Xa=new Xl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new oj,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=Zg(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?v!==b&&(r.track({type:3,doc:g}),T=!0):this.ru(p,g)||(r.track({type:2,doc:g}),T=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),T=!0):p&&!g&&(r.track({type:1,doc:p}),T=!0,(c||u)&&(l=!0)),T&&(g?(o=o.add(g),i=b?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,f)=>function(g,v){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:T})}};return b(g)-b(v)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new Ac(this.query,e.Xa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new oj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new nD(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new tD(r))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ac.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const o_="SyncEngine";class fX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pX{constructor(e){this.key=e,this.cu=!1}}class mX{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new sl(l=>xO(l),Qg),this.Pu=new Map,this.Tu=new Set,this.Iu=new wt(we.comparator),this.Eu=new Map,this.du=new Y1,this.Au={},this.Ru=new Map,this.Vu=Ic.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function gX(t,e,n=!0){const r=lD(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await rD(r,e,n,!0),s}async function yX(t,e){const n=lD(t);await rD(n,e,!0,!1)}async function rD(t,e,n,r){const s=await LZ(t.localStore,ws(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await xX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qO(t.remoteStore,s),l}async function xX(t,e,n,r,s){t.fu=(f,p,g)=>async function(b,T,_,x){let N=T.view.tu(_);N.Cs&&(N=await ej(b.localStore,T.query,!1).then(({documents:S})=>T.view.tu(S,N)));const R=x&&x.targetChanges.get(T.targetId),P=x&&x.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(N,b.isPrimaryClient,R,P);return uj(b,T.targetId,O.ou),O.snapshot}(t,f,p,g);const i=await ej(t.localStore,e,!0),o=new hX(e,i.$s),l=o.tu(i.documents),c=Gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);uj(t,n,u.ou);const d=new fX(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function vX(t,e,n){const r=Re(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!Qg(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ew(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&J1(r.remoteStore,s.targetId),rw(r,s.targetId)}).catch(Gc)):(rw(r,s.targetId),await ew(r.localStore,s.targetId,!0))}async function wX(t,e){const n=Re(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),J1(n.remoteStore,r.targetId))}async function bX(t,e,n){const r=CX(t);try{const s=await function(o,l){const c=Re(o),u=zt.now(),d=l.reduce((g,v)=>g.add(v.key),Ue());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=vi(),b=Ue();return c.Bs.getEntries(g,d).next(T=>{v=T,v.forEach((_,x)=>{x.isValidDocument()||(b=b.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(T=>{f=T;const _=[];for(const x of l){const N=LQ(x,f.get(x.key).overlayedDocument);N!=null&&_.push(new Wo(x.key,N,uO(N.value.mapValue),_r.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,_,l)}).next(T=>{p=T;const _=T.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(g,T.batchId,_)})}).then(()=>({batchId:p.batchId,changes:bO(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Au[o.currentUser.toKey()];u||(u=new wt(De)),u=u.insert(l,c),o.Au[o.currentUser.toKey()]=u}(r,s.batchId,n),await Yh(r,s.changes),await ry(r.remoteStore)}catch(s){const i=s_(s,"Failed to persist write");n.reject(i)}}async function sD(t,e){const n=Re(t);try{const r=await OZ(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?Ze(o.cu,14607):s.removedDocuments.size>0&&(Ze(o.cu,42227),o.cu=!1))}),await Yh(n,r,e)}catch(r){await Gc(r)}}function cj(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const l=o.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Re(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.Fa(l)&&(u=!0)}),u&&i_(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _X(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new wt(we.comparator);o=o.insert(i,wn.newNoDocument(i,Ie.min()));const l=Ue().add(i),c=new ey(Ie.min(),new Map,new wt(De),o,l);await sD(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),a_(r)}else await ew(r.localStore,e,!1).then(()=>rw(r,e,n)).catch(Gc)}async function EX(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await RZ(n.localStore,e);oD(n,r,null),iD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yh(n,s)}catch(s){await Gc(s)}}async function NX(t,e,n){const r=Re(t);try{const s=await function(o,l){const c=Re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ze(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);oD(r,e,n),iD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yh(r,s)}catch(s){await Gc(s)}}function iD(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function oD(t,e,n){const r=Re(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function rw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||aD(t,r)})}function aD(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(J1(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),a_(t))}function uj(t,e,n){for(const r of n)r instanceof tD?(t.du.addReference(r.key,e),TX(t,r)):r instanceof nD?(de(o_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||aD(t,r.key)):Ne(19791,{pu:r})}function TX(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(de(o_,"New document in limbo: "+n),t.Tu.add(r),a_(t))}function a_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new we(ct.fromString(e)),r=t.Vu.next();t.Eu.set(r,new pX(n)),t.Iu=t.Iu.insert(n,r),qO(t.remoteStore,new to(ws(z1(n.path)),r,"TargetPurposeLimboResolution",Gg.le))}}async function Yh(t,e,n){const r=Re(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{o.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Z1.Rs(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(c,u){const d=Re(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,p=>K.forEach(p.ds,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>K.forEach(p.As,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Kc(f))throw f;de(X1,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=d.xs.get(p),v=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(p,b)}}}(r.localStore,i))}async function SX(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(o_,"User change. New user:",e.toKey());const r=await BO(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new ue(q.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yh(n,r.ks)}}function jX(t,e){const n=Re(t),r=n.Eu.get(e);if(r&&r.cu)return Ue().add(r.key);{let s=Ue();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const l=n.hu.get(o);s=s.unionWith(l.view.eu)}return s}}function lD(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_X.bind(null,e),e.lu.Y_=uX.bind(null,e.eventManager),e.lu.gu=dX.bind(null,e.eventManager),e}function CX(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NX.bind(null,e),e}class Gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return PZ(this.persistence,new kZ,e.initialUser,this.serializer)}Su(e){return new $O(Q1.fi,this.serializer)}bu(e){return new FZ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gm.provider={build:()=>new Gm};class kX extends Gm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ze(this.persistence.referenceDelegate instanceof Hm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pZ(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new $O(r=>Hm.fi(r,n),this.serializer)}}class sw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SX.bind(null,this.syncEngine),await aX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cX}()}createDatastore(e){const n=ty(e.databaseInfo.databaseId),r=function(i){return new WZ(i)}(e.databaseInfo);return function(i,o,l,c){return new KZ(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new QZ(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cj(this.syncEngine,n,0),function(){return rj.C()?new rj:new UZ}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const f=new mX(s,i,o,l,c,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Re(s);de(Ba,"RemoteStore shutting down."),i.da.add(5),await Kh(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sw.provider={build:()=>new sw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class IX{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=eO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{de(Ro,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(de(Ro,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=s_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function U0(t,e){t.asyncQueue.verifyOperationInProgress(),de(Ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await BO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AX(t);de(Ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ij(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ij(e.remoteStore,s)),t._onlineComponents=e}async function AX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Ro,"Using user provided OfflineComponentProvider");try{await U0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Sc("Error using user provided cache. Falling back to memory cache: "+n),await U0(t,new Gm)}}else de(Ro,"Using default OfflineComponentProvider"),await U0(t,new kX(void 0));return t._offlineComponents}async function uD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Ro,"Using user provided OnlineComponentProvider"),await dj(t,t._uninitializedComponentsProvider._online)):(de(Ro,"Using default OnlineComponentProvider"),await dj(t,new sw))),t._onlineComponents}function PX(t){return uD(t).then(e=>e.syncEngine)}async function dD(t){const e=await uD(t),n=e.eventManager;return n.onListen=gX.bind(null,e.syncEngine),n.onUnlisten=vX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wX.bind(null,e.syncEngine),n}function RX(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new cD({next:p=>{d.xu(),o.enqueueAndForget(()=>JO(i,f));const g=p.docs.has(l);!g&&p.fromCache?u.reject(new ue(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new ue(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new eD(z1(l.path),d,{includeMetadataChanges:!0,Qa:!0});return XO(i,f)}(await dD(t),t.asyncQueue,e,n,r)),r.promise}function OX(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new cD({next:p=>{d.xu(),o.enqueueAndForget(()=>JO(i,f)),p.fromCache&&c.source==="server"?u.reject(new ue(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new eD(l,d,{includeMetadataChanges:!0,Qa:!0});return XO(i,f)}(await dD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e,n){if(!n)throw new ue(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DX(t,e,n,r){if(e===!0&&r===!0)throw new ue(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fj(t){if(!we.isDocumentKey(t))throw new ue(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pj(t){if(we.isDocumentKey(t))throw new ue(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sy(t);throw new ue(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function MX(t,e){if(e<=0)throw new ue(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firestore.googleapis.com",mj=!0;class gj{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pD,this.ssl=mj}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hZ)throw new ue(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BY;switch(r.type){case"firstParty":return new qY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hj.get(n);r&&(de("ComponentProvider","Removing Datastore"),hj.delete(n),r.terminate())}(this),Promise.resolve()}}function LX(t,e,n,r={}){var s;t=Qr(t,iy);const i=tl(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(k1(`https://${c}`),I1("Firestore",!0)),o.host!==pD&&o.host!==c&&Sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!jo(u,l)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=yn.MOCK_USER;else{d=f4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ue(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yn(p)}t._authCredentials=new zY(new X4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class go extends Ho{constructor(e,n,r){super(e,n,z1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new we(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function Dt(t,e,...n){if(t=Vt(t),fD("collection","path",e),t instanceof iy){const r=ct.fromString(e,...n);return pj(r),new go(t,null,r)}{if(!(t instanceof In||t instanceof go))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return pj(r),new go(t.firestore,null,r)}}function za(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=eO.newId()),fD("doc","path",e),t instanceof iy){const r=ct.fromString(e,...n);return fj(r),new In(t,null,new we(r))}{if(!(t instanceof In||t instanceof go))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return fj(r),new In(t.firestore,t instanceof go?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="AsyncQueue";class xj{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new WO(this,"async_queue_retry"),this.rc=()=>{const r=F0();r&&de(yj,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=F0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=F0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ri;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Kc(e))throw e;de(yj,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,xi("INTERNAL UNHANDLED ERROR: ",vj(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=r_.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Ne(47125,{cc:vj(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function vj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ol extends iy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new xj,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xj(e),this._firestoreClient=void 0,await e}}}function VX(t,e){const n=typeof t=="object"?t:Wg(),r=typeof t=="string"?t:Fm,s=Bo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=u4("firestore");i&&LX(s,...i)}return s}function l_(t){if(t._terminated)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FX(t),t._firestoreClient}function FX(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new aQ(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new IX(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pc(an.fromBase64String(e))}catch(n){throw new ue(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pc(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=/^__.*__$/;class $X{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new qh(e,this.data,n,this.fieldTransforms)}}class mD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:t})}}class d_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new d_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Km(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(gD(this.Ic)&&UX.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class BX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ty(e)}bc(e,n,r,s=!1){return new d_({Ic:e,methodName:n,wc:r,path:tn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(t){const e=t._freezeSettings(),n=ty(t._databaseId);return new BX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yD(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);f_("Data must be an object, but it was:",o,r);const l=xD(r,o);let c,u;if(i.merge)c=new nr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=iw(e,f,n);if(!o.contains(p))throw new ue(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);wD(d,p)||d.push(p)}c=new nr(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new $X(new Fn(l),c,u)}class cy extends ay{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cy}}class h_ extends ay{_toFieldTransform(e){return new RQ(e.path,new gh)}isEqual(e){return e instanceof h_}}function zX(t,e,n,r){const s=t.bc(1,e,n);f_("Data must be an object, but it was:",s,r);const i=[],o=Fn.empty();zo(r,(c,u)=>{const d=p_(e,c,n);u=Vt(u);const f=s.mc(d);if(u instanceof cy)i.push(d);else{const p=Qh(u,f);p!=null&&(i.push(d),o.set(d,p))}});const l=new nr(i);return new mD(o,l,s.fieldTransforms)}function WX(t,e,n,r,s,i){const o=t.bc(1,e,n),l=[iw(e,r,n)],c=[s];if(i.length%2!=0)throw new ue(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(iw(e,i[p])),c.push(i[p+1]);const u=[],d=Fn.empty();for(let p=l.length-1;p>=0;--p)if(!wD(u,l[p])){const g=l[p];let v=c[p];v=Vt(v);const b=o.mc(g);if(v instanceof cy)u.push(g);else{const T=Qh(v,b);T!=null&&(u.push(g),d.set(g,T))}}const f=new nr(u);return new mD(d,f,o.fieldTransforms)}function HX(t,e,n,r=!1){return Qh(n,t.bc(r?4:3,e))}function Qh(t,e){if(vD(t=Vt(t)))return f_("Unsupported field value:",e,t),xD(t,e);if(t instanceof ay)return function(r,s){if(!gD(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Qh(l,s.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IQ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=zt.fromDate(r);return{timestampValue:Wm(s.serializer,i)}}if(r instanceof zt){const i=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wm(s.serializer,i)}}if(r instanceof c_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pc)return{bytesValue:RO(s.serializer,r._byteString)};if(r instanceof In){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:K1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof u_)return function(o,l){return{mapValue:{fields:{[lO]:{stringValue:cO},[Um]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return W1(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${sy(r)}`)}(t,e)}function xD(t,e){const n={};return nO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(t,(r,s)=>{const i=Qh(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof c_||t instanceof Pc||t instanceof In||t instanceof ay||t instanceof u_)}function f_(t,e,n){if(!vD(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=sy(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function iw(t,e,n){if((e=Vt(e))instanceof oy)return e._internalPath;if(typeof e=="string")return p_(t,e);throw Km("Field path arguments must be of type string or ",t,!1,void 0,n)}const qX=new RegExp("[~\\*/\\[\\]]");function p_(t,e,n){if(e.search(qX)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oy(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Km(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ue(q.INVALID_ARGUMENT,l+t+c)}function wD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GX extends bD{data(){return super.data()}}function uy(t,e){return typeof e=="string"?p_(t,e):e instanceof oy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m_{}class g_ extends m_{}function xr(t,e,...n){let r=[];e instanceof m_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof y_).length,l=i.filter(c=>c instanceof dy).length;if(o>1||o>0&&l>0)throw new ue(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class dy extends g_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dy(e,n,r)}_apply(e){const n=this._parse(e);return _D(e._query,n),new Ho(e.firestore,e.converter,Yv(e._query,n))}_parse(e){const n=ly(e.firestore);return function(i,o,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ue(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bj(f,d);const v=[];for(const b of f)v.push(wj(c,i,b));p={arrayValue:{values:v}}}else p=wj(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bj(f,d),p=HX(l,o,f,d==="in"||d==="not-in");return Lt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ds(t,e,n){const r=e,s=uy("where",t);return dy._create(s,r,n)}class y_ extends m_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new y_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)_D(o,c),o=Yv(o,c)}(e._query,n),new Ho(e.firestore,e.converter,Yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class x_ extends g_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new x_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ue(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mh(i,o)}(e._query,this._field,this._direction);return new Ho(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Yc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Sd(t,e="asc"){const n=e,r=uy("orderBy",t);return x_._create(r,n)}class v_ extends g_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new v_(e,n,r)}_apply(e){return new Ho(e.firestore,e.converter,Bm(e._query,this._limit,this._limitType))}}function jd(t){return MX("limit",t),v_._create("limit",t,"F")}function wj(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new ue(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yO(e)&&n.indexOf("/")!==-1)throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!we.isDocumentKey(r))throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D2(t,new we(r))}if(n instanceof In)return D2(t,n._key);throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sy(n)}.`)}function bj(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _D(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YX{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Um].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ct(o.doubleValue));return new u_(i)}convertGeoPoint(e){return new c_(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=ko(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);Ze(FO(r),9688,{name:e});const s=new fh(r.get(1),r.get(3)),i=new we(r.popFirst(5));return s.isEqual(n)||xi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ND extends bD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dp extends ND{data(e={}){return super.data(e)}}class QX{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dp(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Dp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new nd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Dp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new nd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:ZX(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){t=Qr(t,In);const e=Qr(t.firestore,ol);return RX(l_(e),t._key).then(n=>tJ(e,t,n))}class TD extends YX{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function xn(t){t=Qr(t,Ho);const e=Qr(t.firestore,ol),n=l_(e),r=new TD(e);return KX(t._query),OX(n,t._query).then(s=>new QX(e,r,t,s))}function JX(t,e,n){t=Qr(t,In);const r=Qr(t.firestore,ol),s=ED(t.converter,e);return hy(r,[yD(ly(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_r.none())])}function w_(t,e,n,...r){t=Qr(t,In);const s=Qr(t.firestore,ol),i=ly(s);let o;return o=typeof(e=Vt(e))=="string"||e instanceof oy?WX(i,"updateDoc",t._key,e,n,r):zX(i,"updateDoc",t._key,e),hy(s,[o.toMutation(t._key,_r.exists(!0))])}function eJ(t){return hy(Qr(t.firestore,ol),[new H1(t._key,_r.none())])}function SD(t,e){const n=Qr(t.firestore,ol),r=za(t),s=ED(t.converter,e);return hy(n,[yD(ly(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}function hy(t,e){return function(r,s){const i=new ri;return r.asyncQueue.enqueueAndForget(async()=>bX(await PX(r),s,i)),i.promise}(l_(t),e)}function tJ(t,e,n){const r=n.docs.get(e._key),s=new TD(t);return new ND(t,s,e._key,r,new nd(n.hasPendingWrites,n.fromCache),e.converter)}function nJ(){return new h_("serverTimestamp")}(function(e,n=!0){(function(s){qc=s})(rl),Kr(new Tr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ol(new WY(r.getProvider("auth-internal")),new GY(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Hn(E2,N2,e),Hn(E2,N2,"esm2017")})();function b_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function jD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rJ=jD,CD=new nl("auth","Firebase",jD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new zg("@firebase/auth");function sJ(t,...e){Ym.logLevel<=Fe.WARN&&Ym.warn(`Auth (${rl}): ${t}`,...e)}function Mp(t,...e){Ym.logLevel<=Fe.ERROR&&Ym.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,...e){throw __(t,...e)}function _s(t,...e){return __(t,...e)}function kD(t,e,n){const r=Object.assign(Object.assign({},rJ()),{[e]:n});return new nl("auth","Firebase",r).create(e,{appName:t.name})}function si(t){return kD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CD.create(t,...e)}function Ee(t,e,...n){if(!t)throw __(e,...n)}function Qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mp(e),new Error(e)}function wi(t,e){t||Qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iJ(){return _j()==="http:"||_j()==="https:"}function _j(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iJ()||p4()||"connection"in navigator)?navigator.onLine:!0}function aJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=Qq()||Jq()}get(){return oJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uJ=new Zh(3e4,6e4);function qo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,s={}){return AD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Hh(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return Xq()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&tl(t.emulatorConfig.host)&&(u.credentials="include"),ID.fetch()(await PD(t,t.config.apiHost,n,l),u)})}async function AD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lJ),e);try{const s=new hJ(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw sp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw sp(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kD(t,d,u);Zr(t,d)}}catch(s){if(s instanceof jr)throw s;Zr(t,"network-request-failed",{message:String(s)})}}async function Xh(t,e,n,r,s={}){const i=await Go(t,e,n,r,s);return"mfaPendingCredential"in i&&Zr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function PD(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?E_(t.config,s):`${t.config.apiScheme}://${s}`;return cJ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function dJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_s(this.auth,"network-request-failed")),uJ.get())})}}function sp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_s(t,e,r);return s.customData._tokenResponse=n,s}function Ej(t){return t!==void 0&&t.enterprise!==void 0}class fJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pJ(t,e){return Go(t,"GET","/v2/recaptchaConfig",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mJ(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function Qm(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gJ(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),s=N_(r);Ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Cd($0(s.auth_time)),issuedAtTime:Cd($0(s.iat)),expirationTime:Cd($0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $0(t){return Number(t)*1e3}function N_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mp("JWT malformed, contained fewer than 3 sections"),null;try{const s=l4(n);return s?JSON.parse(s):(Mp("Failed to decode base64 JWT payload"),null)}catch(s){return Mp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Nj(t){const e=N_(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jr&&yJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await vh(t,Qm(n,{idToken:r}));Ee(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?RD(i.providerUserInfo):[],l=wJ(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new aw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function vJ(t){const e=Vt(t);await Zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wJ(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function RD(t){return t.map(e=>{var{providerId:n}=e,r=b_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bJ(t,e){const n=await AD(t,{},async()=>{const r=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await PD(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&tl(t.emulatorConfig.host)&&(c.credentials="include"),ID.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _J(t,e){return Go(t,"POST","/v2/accounts:revokeToken",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Nj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await bJ(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Jl;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ee(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return Qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=b_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new aw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vh(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gJ(this,e)}reload(){return vJ(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await vh(this,mJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:R,isAnonymous:P,providerData:O,stsTokenManager:S}=n;Ee(N&&S,e,"internal-error");const E=Jl.fromJSON(this.name,S);Ee(typeof N=="string",e,"internal-error"),Di(f,e.name),Di(p,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof P=="boolean",e,"internal-error"),Di(g,e.name),Di(v,e.name),Di(b,e.name),Di(T,e.name),Di(_,e.name),Di(x,e.name);const C=new zr({uid:N,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:P,photoURL:v,phoneNumber:g,tenantId:b,stsTokenManager:E,createdAt:_,lastLoginAt:x});return O&&Array.isArray(O)&&(C.providerData=O.map(A=>Object.assign({},A))),T&&(C._redirectEventId=T),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Jl;s.updateFromServerResponse(n);const i=new zr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?RD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Jl;l.updateFromIdToken(r);const c=new zr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new aw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Map;function Zs(t){wi(t instanceof Function,"Expected a class definition");let e=Tj.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OD.type="NONE";const Sj=OD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qm(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(Zs(Sj),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Zs(Sj);const o=Lp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const p=await Qm(e,{idToken:d}).catch(()=>{});if(!p)break;f=await zr._fromGetAccountInfoResponse(e,p,d)}else f=zr._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ec(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ec(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UD(e))return"Blackberry";if($D(e))return"Webos";if(MD(e))return"Safari";if((e.includes("chrome/")||LD(e))&&!e.includes("edge/"))return"Chrome";if(FD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DD(t=Nn()){return/firefox\//i.test(t)}function MD(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LD(t=Nn()){return/crios\//i.test(t)}function VD(t=Nn()){return/iemobile/i.test(t)}function FD(t=Nn()){return/android/i.test(t)}function UD(t=Nn()){return/blackberry/i.test(t)}function $D(t=Nn()){return/webos/i.test(t)}function T_(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EJ(t=Nn()){var e;return T_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NJ(){return eG()&&document.documentMode===10}function BD(t=Nn()){return T_(t)||FD(t)||$D(t)||UD(t)||/windows phone/i.test(t)||VD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e=[]){let n;switch(t){case"Browser":n=jj(Nn());break;case"Worker":n=`${jj(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SJ(t,e={}){return Go(t,"GET","/v2/passwordPolicy",qo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ=6;class CJ{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cj(this),this.idTokenSubscription=new Cj(this),this.beforeStateQueue=new TJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qm(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(si(this));const n=e?Vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SJ(this),n=new CJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _J(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[Zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function al(t){return Vt(t)}class Cj{constructor(e){this.auth=e,this.observer=null,this.addObserver=aG(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IJ(t){fy=t}function WD(t){return fy.loadJS(t)}function AJ(){return fy.recaptchaEnterpriseScript}function PJ(){return fy.gapiScript}function RJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class OJ{constructor(){this.enterprise=new DJ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DJ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MJ="recaptcha-enterprise",HD="NO_RECAPTCHA";class LJ{constructor(e){this.type=MJ,this.auth=al(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{pJ(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new fJ(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;Ej(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(HD)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OJ().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&Ej(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=AJ();c.length!==0&&(c+=l),WD(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function kj(t,e,n,r=!1,s=!1){const i=new LJ(t);let o;if(s)o=HD;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function lw(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kj(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await kj(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(t,e){const n=Bo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(jo(i,e??{}))return s;Zr(s,"already-initialized")}return n.initialize({options:e})}function FJ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UJ(t,e,n){const r=al(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=qD(e),{host:o,port:l}=$J(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(jo(u,r.config.emulator)&&jo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,tl(o)?(k1(`${i}//${o}${c}`),I1("Auth",!0)):BJ()}function qD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $J(t){const e=qD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ij(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ij(o)}}}function Ij(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qs("not implemented")}_getIdTokenResponse(e){return Qs("not implemented")}_linkToIdToken(e,n){return Qs("not implemented")}_getReauthenticationResolver(e){return Qs("not implemented")}}async function zJ(t,e){return Go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(t,e){return Xh(t,"POST","/v1/accounts:signInWithPassword",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HJ(t,e){return Xh(t,"POST","/v1/accounts:signInWithEmailLink",qo(t,e))}async function qJ(t,e){return Xh(t,"POST","/v1/accounts:signInWithEmailLink",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends S_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lw(e,n,"signInWithPassword",WJ);case"emailLink":return HJ(e,{email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lw(e,r,"signUpPassword",zJ);case"emailLink":return qJ(e,{idToken:n,email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e){return Xh(t,"POST","/v1/accounts:signInWithIdp",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ="http://localhost";class Wa extends S_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=b_(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Wa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:GJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YJ(t){const e=Zu(Xu(t)).link,n=e?Zu(Xu(e)).deep_link_id:null,r=Zu(Xu(t)).deep_link_id;return(r?Zu(Xu(r)).link:null)||r||n||e||t}class j_{constructor(e){var n,r,s,i,o,l;const c=Zu(Xu(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=KJ((s=c.mode)!==null&&s!==void 0?s:null);Ee(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=YJ(e);try{return new j_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.providerId=Zc.PROVIDER_ID}static credential(e,n){return wh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=j_.parseLink(n);return Ee(r,"argument-error"),wh._fromEmailAndCode(e,r.code,r.tenantId)}}Zc.PROVIDER_ID="password";Zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends GD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Jh{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Jh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Jh{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Jh{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QJ(t,e){return Xh(t,"POST","/v1/accounts:signUp",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await zr._fromIdTokenResponse(e,r,s),o=Aj(r);return new Ha({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Aj(r);return new Ha({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Aj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends jr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xm(e,n,r,s)}}function KD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xm._fromErrorAndOperation(t,i,e,r):i})}async function ZJ(t,e,n=!1){const r=await vh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XJ(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(si(r));const s="reauthenticate";try{const i=await vh(t,KD(r,s,e,t),n);Ee(i.idToken,r,"internal-error");const o=N_(i.idToken);Ee(o,r,"internal-error");const{sub:l}=o;return Ee(t.uid===l,r,"user-mismatch"),Ha._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e,n=!1){if(er(t.app))return Promise.reject(si(t));const r="signIn",s=await KD(t,r,e),i=await Ha._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function JJ(t,e){return YD(al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t){const e=al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eee(t,e,n){if(er(t.app))return Promise.reject(si(t));const r=al(t),o=await lw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QJ).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QD(t),c}),l=await Ha._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function tee(t,e,n){return er(t.app)?Promise.reject(si(t)):JJ(Vt(t),Zc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QD(t),r})}function nee(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function ree(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function see(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}const Jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jm,"1"),this.storage.removeItem(Jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=1e3,oee=10;class XD extends ZD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);NJ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oee):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XD.type="LOCAL";const aee=XD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD extends ZD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JD.type="SESSION";const e5=JD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new py(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await lee(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}py.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=C_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function uee(t){Es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function dee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fee(){return t5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="firebaseLocalStorageDb",pee=1,eg="firebaseLocalStorage",r5="fbase_key";class ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function my(t,e){return t.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function mee(){const t=indexedDB.deleteDatabase(n5);return new ef(t).toPromise()}function cw(){const t=indexedDB.open(n5,pee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eg,{keyPath:r5})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),await mee(),e(await cw()))})})}async function Pj(t,e,n){const r=my(t,!0).put({[r5]:e,value:n});return new ef(r).toPromise()}async function gee(t,e){const n=my(t,!1).get(e),r=await new ef(n).toPromise();return r===void 0?null:r.value}function Rj(t,e){const n=my(t,!0).delete(e);return new ef(n).toPromise()}const yee=800,xee=3;class s5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=py._getInstance(fee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dee(),!this.activeServiceWorker)return;this.sender=new cee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cw();return await Pj(e,Jm,"1"),await Rj(e,Jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=my(s,!1).getAll();return new ef(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s5.type="LOCAL";const vee=s5;new Zh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(t,e){return e?Zs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends S_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bee(t){return YD(t.auth,new k_(t),t.bypassAuthState)}function _ee(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),XJ(n,new k_(t),t.bypassAuthState)}async function Eee(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),ZJ(n,new k_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bee;case"linkViaPopup":case"linkViaRedirect":return Eee;case"reauthViaPopup":case"reauthViaRedirect":return _ee;default:Zr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee=new Zh(2e3,1e4);class Hl extends i5{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=C_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nee.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee="pendingRedirect",Vp=new Map;class See extends i5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vp.get(this.auth._key());if(!e){try{const r=await jee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jee(t,e){const n=Iee(e),r=kee(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Cee(t,e){Vp.set(t._key(),e)}function kee(t){return Zs(t._redirectPersistence)}function Iee(t){return Lp(Tee,t.config.apiKey,t.name)}async function Aee(t,e,n=!1){if(er(t.app))return Promise.reject(si(t));const r=al(t),s=wee(r,e),o=await new See(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pee=10*60*1e3;class Ree{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Oee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o5(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_s(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pee&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oj(e))}saveEventToCache(e){this.cachedEventUids.add(Oj(e)),this.lastProcessedEventTime=Date.now()}}function Oj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Oee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lee=/^https?/;async function Vee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dee(t);for(const n of e)try{if(Fee(n))return}catch{}Zr(t,"unauthorized-domain")}function Fee(t){const e=ow(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Lee.test(n))return!1;if(Mee.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=new Zh(3e4,6e4);function Dj(){const t=Es().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $ee(t){return new Promise((e,n)=>{var r,s,i;function o(){Dj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dj(),n(_s(t,"network-request-failed"))},timeout:Uee.get()})}if(!((s=(r=Es().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Es().gapi)===null||i===void 0)&&i.load)o();else{const l=RJ("iframefcb");return Es()[l]=()=>{gapi.load?o():n(_s(t,"network-request-failed"))},WD(`${PJ()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Fp=null,e})}let Fp=null;function Bee(t){return Fp=Fp||$ee(t),Fp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee=new Zh(5e3,15e3),Wee="__/auth/iframe",Hee="emulator/auth/iframe",qee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kee(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E_(e,Hee):`https://${t.config.authDomain}/${Wee}`,r={apiKey:e.apiKey,appName:t.name,v:rl},s=Gee.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Hh(r).slice(1)}`}async function Yee(t){const e=await Bee(t),n=Es().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:Kee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qee,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=_s(t,"network-request-failed"),l=Es().setTimeout(()=>{i(o)},zee.get());function c(){Es().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zee=500,Xee=600,Jee="_blank",ete="http://localhost";class Mj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tte(t,e,n,r=Zee,s=Xee){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Qee),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Nn().toLowerCase();n&&(l=LD(u)?Jee:n),DD(u)&&(e=e||ete,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(EJ(u)&&l!=="_self")return nte(e||"",l),new Mj(null);const f=window.open(e||"",l,d);Ee(f,t,"popup-blocked");try{f.focus()}catch{}return new Mj(f)}function nte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte="__/auth/handler",ste="emulator/auth/handler",ite=encodeURIComponent("fac");async function Lj(t,e,n,r,s,i){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:s};if(e instanceof GD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Jh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${ite}=${encodeURIComponent(c)}`:"";return`${ote(t)}?${Hh(l).slice(1)}${u}`}function ote({config:t}){return t.emulator?E_(t,ste):`https://${t.authDomain}/${rte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="webStorageSupport";class ate{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e5,this._completeRedirectFn=Aee,this._overrideRedirectResult=Cee}async _openPopup(e,n,r,s){var i;wi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Lj(e,n,r,ow(),s);return tte(e,o,C_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Lj(e,n,r,ow(),s);return uee(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(wi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Yee(e),r=new Ree(e);return n.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(B0,{type:B0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[B0];o!==void 0&&n(!!o),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BD()||MD()||T_()}}const lte=ate;var Vj="@firebase/auth",Fj="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ute(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dte(t){Kr(new Tr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zD(t)},u=new kJ(r,s,i,c);return FJ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kr(new Tr("auth-internal",e=>{const n=al(e.getProvider("auth").getImmediate());return(r=>new cte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(Vj,Fj,ute(t)),Hn(Vj,Fj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=5*60,fte=h4("authIdTokenMaxAge")||hte;let Uj=null;const pte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fte)return;const s=n==null?void 0:n.token;Uj!==s&&(Uj=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mte(t=Wg()){const e=Bo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VJ(t,{popupRedirectResolver:lte,persistence:[vee,aee,e5]}),r=h4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=pte(i.toString());ree(n,o,()=>o(n.currentUser)),nee(n,l=>o(l))}}const s=c4("auth");return s&&UJ(n,`http://${s}`),n}function gte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IJ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=_s("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",gte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dte("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="firebasestorage.googleapis.com",yte="storageBucket",xte=2*60*1e3,vte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends jr{constructor(e,n,r=0){super(z0(e),`Firebase Storage: ${n} (${z0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ks.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return z0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ts;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ts||(Ts={}));function z0(t){return"storage/"+t}function wte(){const t="An unknown error occurred, please check the error payload for server response.";return new ks(Ts.UNKNOWN,t)}function bte(){return new ks(Ts.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _te(){return new ks(Ts.CANCELED,"User canceled the upload/download.")}function Ete(t){return new ks(Ts.INVALID_URL,"Invalid URL '"+t+"'.")}function Nte(t){return new ks(Ts.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $j(t){return new ks(Ts.INVALID_ARGUMENT,t)}function l5(){return new ks(Ts.APP_DELETED,"The Firebase app was deleted.")}function Tte(t){return new ks(Ts.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wr.makeFromUrl(e,n)}catch{return new Wr(e,"")}if(r.path==="")return r;throw Nte(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},b=n===a5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",_=new RegExp(`^https?://${b}/${s}/${T}`,"i"),N=[{regex:l,indices:c,postModify:i},{regex:g,indices:v,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<N.length;R++){const P=N[R],O=P.regex.exec(e);if(O){const S=O[P.indices.bucket];let E=O[P.indices.path];E||(E=""),r=new Wr(S,E),P.postModify(r);break}}if(r==null)throw Ete(e);return r}}class Ste{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...T){u||(u=!0,e.apply(null,T))}function f(T){s=setTimeout(()=>{s=null,t(g,c())},T)}function p(){i&&clearTimeout(i)}function g(T,..._){if(u){p();return}if(T){p(),d.call(null,T,..._);return}if(c()||o){p(),d.call(null,T,..._);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,f(N)}let v=!1;function b(T){v||(v=!0,p(),!u&&(s!==null?(T||(l=2),clearTimeout(s),f(0)):T||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,b(!0)},n),b}function Cte(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(t){return t!==void 0}function Bj(t,e,n,r){if(r<e)throw $j(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $j(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ite(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var tg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tg||(tg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ate(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n,r,s,i,o,l,c,u,d,f,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ip(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===tg.NO_ERROR,c=i.getStatus();if(!l||Ate(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===tg.ABORT;r(!1,new ip(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new ip(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());kte(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=wte();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?l5():_te();o(c)}else{const c=bte();o(c)}};this.canceled_?n(!1,new ip(!1,null,!0)):this.backoffId_=jte(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ip{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Rte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ote(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Mte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Lte(t,e,n,r,s,i,o=!0,l=!1){const c=Ite(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return Dte(d,e),Rte(d,n),Ote(d,i),Mte(d,r),new Pte(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Fte(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this._service=e,n instanceof Wr?this._location=n:this._location=Wr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ng(e,n)}get root(){const e=new Wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fte(this._location.path)}get storage(){return this._service}get parent(){const e=Vte(this._location.path);if(e===null)return null;const n=new Wr(this._location.bucket,e);return new ng(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Tte(e)}}function zj(t,e){const n=e==null?void 0:e[yte];return n==null?null:Wr.makeFromBucketSpec(n,t)}function Ute(t,e,n,r={}){t.host=`${e}:${n}`;const s=tl(e);s&&(k1(`https://${t.host}/b`),I1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:f4(i,t.app.options.projectId))}class $te{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=a5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xte,this._maxUploadRetryTime=vte,this._requests=new Set,s!=null?this._bucket=Wr.makeFromBucketSpec(s,this._host):this._bucket=zj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wr.makeFromBucketSpec(this._url,e):this._bucket=zj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ng(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Ste(l5());{const o=Lte(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Wj="@firebase/storage",Hj="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="storage";function Bte(t=Wg(),e){t=Vt(t);const r=Bo(t,c5).getImmediate({identifier:e}),s=u4("storage");return s&&zte(r,...s),r}function zte(t,e,n,r={}){Ute(t,e,n,r)}function Wte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $te(n,r,s,e,rl)}function Hte(){Kr(new Tr(c5,Wte,"PUBLIC").setMultipleInstances(!0)),Hn(Wj,Hj,""),Hn(Wj,Hj,"esm2017")}Hte();const qte={apiKey:"AIzaSyDuEzZk7GFMPf-P7kDI3rwScxXTSapQfq8",authDomain:"credexis-c0e34.firebaseapp.com",projectId:"credexis-c0e34",storageBucket:"credexis-c0e34.appspot.com",messagingSenderId:"508247199649",appId:"1:508247199649:web:626db2b74eabc8f19345e0",measurementId:"G-NWTRVR0QDD"},gy=w4(qte);VY(gy);const it=VX(gy),I_=mte(gy);Bte(gy);function Gte(){const[t,e]=y.useState(!1),[n,r]=y.useState(!1),s=Ss(),{register:i,handleSubmit:o,formState:{errors:l}}=T1({resolver:S1(Vq)}),c=async u=>{try{r(!0);const d=await tee(I_,u.email,u.password);console.log("Logged in as:",d.user.email),et.success("Successfully logged in!"),s("/dashboard")}catch(d){console.error("Login failed:",d);let f="Failed to sign in";switch(d.code){case"auth/user-not-found":case"auth/wrong-password":f="Invalid email or password";break;case"auth/too-many-requests":f="Too many failed attempts. Please try again later";break;case"auth/user-disabled":f="This account has been disabled";break;default:f=d.message||"Failed to sign in"}et.error(f)}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome to Credexis Pro"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:o(c),children:[a.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[a.jsx(VS,{id:"email",type:"email",label:"Email address",autoComplete:"email",placeholder:"Enter your email",error:l.email,...i("email")}),a.jsx(VS,{id:"password",type:t?"text":"password",label:"Password",autoComplete:"current-password",placeholder:"Enter your password",error:l.password,isPassword:!0,showPasswordToggle:t,onTogglePassword:()=>e(!t),...i("password")})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"text-sm",children:a.jsx(Je,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n?a.jsx(cq,{size:"sm",className:"text-white"}):"Sign in"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx(Je,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"})]})})]})]})})}function Kte(){const t=Ss(),[e,n]=y.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",company:"",agreeToTerms:!1}),[r,s]=y.useState(!1),[i,o]=y.useState({}),l=()=>{const d={};return e.firstName.trim()||(d.firstName="First name is required"),e.lastName.trim()||(d.lastName="Last name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(d.email="Email is invalid"):d.email="Email is required",e.password?e.password.length<8&&(d.password="Password must be at least 8 characters"):d.password="Password is required",e.password!==e.confirmPassword&&(d.confirmPassword="Passwords do not match"),e.agreeToTerms||(d.agreeToTerms="You must agree to the terms and conditions"),o(d),Object.keys(d).length===0},c=async d=>{if(d.preventDefault(),l())try{const f=await eee(I_,e.email,e.password);console.log("User created:",f.user),await JX(za(it,"users",f.user.uid),{firstName:e.firstName,lastName:e.lastName,email:e.email,company:e.company}),t("/dashboard")}catch(f){console.error("Signup failed:",f),o(p=>({...p,submit:f.message}))}},u=d=>{const{name:f,value:p,type:g,checked:v}=d.target;n(b=>({...b,[f]:g==="checkbox"?v:p})),i[f]&&o(b=>({...b,[f]:""}))};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsxs(Je,{to:"/",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[a.jsx(jR,{className:"w-4 h-4 mr-1"}),"Back to home"]}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx(Je,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to your existing account"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsxs("form",{className:"space-y-6",onSubmit:c,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.firstName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.firstName&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.firstName})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last name"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.lastName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.lastName&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.lastName})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.email&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company name"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"company",name:"company",type:"text",value:e.company,onChange:u,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!r),children:r?a.jsx(m1,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ni,{className:"h-5 w-5 text-gray-400"})}),i.password&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.password})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.confirmPassword&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.confirmPassword})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:e.agreeToTerms,onChange:u,className:`h-4 w-4 text-indigo-600 focus:ring-indigo-500 border ${i.agreeToTerms?"border-red-300":"border-gray-300"} rounded`}),a.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Terms and Conditions"})]})]}),i.agreeToTerms&&a.jsx("p",{className:"text-sm text-red-600",children:i.agreeToTerms}),a.jsx("div",{children:a.jsx(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create account"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[a.jsx("div",{children:a.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Sign in with Google"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})})]})}),a.jsx("div",{children:a.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Sign in with Microsoft"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M11.4 24H0V12.6h11.4V24zM24 24H12.6V12.6H24V24zM11.4 11.4H0V0h11.4v11.4zm12.6 0H12.6V0H24v11.4z"})})]})})]})]})]})})]})}const Yte=Hc({email:gi().min(1,"Email is required").email("Invalid email format").max(255,"Email is too long")});function Qte(){const[t,e]=y.useState(!1),{register:n,handleSubmit:r,formState:{errors:s}}=T1({resolver:S1(Yte)}),i=async()=>{try{e(!0),et.success("Password reset instructions sent to your email")}catch(o){et.error(o instanceof Error?o.message:"Failed to send reset instructions")}finally{e(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md space-y-8",children:[a.jsxs("div",{children:[a.jsxs(Je,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[a.jsx(jR,{className:"w-4 h-4 mr-1"}),"Back to login"]}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you instructions to reset your password."})]}),a.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("form",{className:"space-y-6",onSubmit:r(i),children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{...n("email"),id:"email",type:"email",autoComplete:"email",className:`appearance-none block w-full px-3 py-2 border ${s.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`,placeholder:"Enter your email","aria-invalid":s.email?"true":"false"}),s.email&&a.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:s.email.message})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:t?"Sending...":"Send reset instructions"})})]})})]})})}const Zte=Hc({password:gi().min(1,"Password is required").min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"),confirmPassword:gi().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Xte(){const t=Ss(),[e]=_3(),[n,r]=y.useState(!1),[s,i]=y.useState(!1),o=e.get("token"),{register:l,handleSubmit:c,formState:{errors:u}}=T1({resolver:S1(Zte)}),d=async()=>{if(!o){et.error("Invalid or expired reset token");return}try{r(!0),et.success("Password reset successful"),t("/login")}catch(f){et.error(f instanceof Error?f.message:"Failed to reset password")}finally{r(!1)}};return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md space-y-8",children:a.jsxs("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Reset Password"}),a.jsxs("form",{className:"space-y-6",onSubmit:c(d),children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{...l("password"),id:"password",type:s?"text":"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${u.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`,placeholder:"Enter new password","aria-invalid":u.password?"true":"false"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?a.jsx(m1,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ni,{className:"h-5 w-5 text-gray-400"})}),u.password&&a.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:u.password.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm new password"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{...l("confirmPassword"),id:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${u.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n?"Resetting...":"Reset Password"})})]})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Invalid Reset Link"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"This password reset link is invalid or has expired. Please request a new one."})]})})})}const Jte=[{label:"Dashboard",path:"/dashboard",icon:a.jsx(SW,{className:"w-5 h-5"})},{label:"Why Credexis",path:"/why-credexis",icon:a.jsx(IR,{className:"w-5 h-5"})},{label:"Clients",path:"/clients",icon:a.jsx(La,{className:"w-5 h-5"})},{label:"Disputes",path:"/disputes",icon:a.jsx(hi,{className:"w-5 h-5"})},{label:"Tasks",path:"/tasks",icon:a.jsx(jW,{className:"w-5 h-5"})},{label:"Payments",path:"/payments",icon:a.jsx(vc,{className:"w-5 h-5"})},{label:"Documents",path:"/documents",icon:a.jsx(RR,{className:"w-5 h-5"})},{label:"Letter Templates",path:"/letter-templates",icon:a.jsx(RW,{className:"w-5 h-5"})},{label:"Marketing",path:"/marketing",icon:a.jsx(CW,{className:"w-5 h-5"})},{label:"Credit Tools",path:"/credit-tools",icon:a.jsx(LW,{className:"w-5 h-5"})},{label:"Reports",path:"/reports",icon:a.jsx(kR,{className:"w-5 h-5"})}];function ene(){const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState(window.location.pathname);return y.useEffect(()=>{i(window.location.pathname),r(!1)},[window.location.pathname]),y.useEffect(()=>{const o=()=>{window.innerWidth<768?e(!0):e(!1)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>r(!n),className:"fixed top-4 left-4 z-50 md:hidden p-2 rounded-lg bg-white shadow-lg hover:bg-gray-50 transition-colors","aria-label":"Toggle mobile menu",children:n?a.jsx(sn,{className:"w-6 h-6 text-gray-600"}):a.jsx(x1,{className:"w-6 h-6 text-gray-600"})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>r(!1)}),a.jsx("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-gray-200 transition-all duration-300 ease-in-out z-40
          ${t?"w-20":"w-64"}
          ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!t&&a.jsxs(Je,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-500 bg-clip-text text-transparent",children:"Credexis"})]}),t&&a.jsx(Je,{to:"/",className:"flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"C"})})}),a.jsx("button",{onClick:()=>e(!t),className:"hidden md:flex items-center justify-center w-8 h-8 rounded-lg hover:bg-gray-100 transition-colors","aria-label":t?"Expand sidebar":"Collapse sidebar",children:a.jsx(hW,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"rotate-180":""}`})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:a.jsx("ul",{className:"space-y-1",children:Jte.map(o=>a.jsx("li",{children:a.jsxs(Je,{to:o.path,className:`flex items-center px-3 py-2.5 rounded-lg transition-colors
                      ${s===o.path?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}
                      ${t?"justify-center":"justify-start"}`,onClick:()=>{i(o.path),r(!1)},children:[a.jsx("span",{className:"flex-shrink-0",children:o.icon}),!t&&a.jsx("span",{className:"ml-3 font-medium",children:o.label}),o.badge&&!t&&a.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-medium bg-indigo-100 text-indigo-600 rounded-full",children:o.badge})]})},o.path))})}),a.jsx("div",{className:`px-4 pt-2 pb-2 ${t?"flex flex-col items-center gap-2":""}`,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-indigo-400 font-bold",children:"E"}),a.jsx("span",{className:"text-green-400 font-bold",children:"C"}),a.jsx("span",{className:"text-yellow-400 font-bold",children:"A"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 font-semibold text-indigo-700 flex items-center gap-2",children:[a.jsx(oh,{className:"w-4 h-4 text-indigo-500"}),"Roadmap"]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-50 to-blue-50/50 rounded-lg px-3 py-2",children:[a.jsx(xc,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Email Integration"}),a.jsx("span",{className:"ml-auto text-xs bg-gradient-to-r from-blue-500/10 to-blue-400/10 text-blue-700 px-2 py-0.5 rounded-full font-semibold",children:"Q3 2024"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-green-50 to-green-50/50 rounded-lg px-3 py-2",children:[a.jsx(La,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Client Portal"}),a.jsx("span",{className:"ml-auto text-xs bg-gradient-to-r from-green-500/10 to-green-400/10 text-green-700 px-2 py-0.5 rounded-full font-semibold",children:"Q3 2024"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-50 to-yellow-50/50 rounded-lg px-3 py-2",children:[a.jsx(CR,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Automation"}),a.jsx("span",{className:"ml-auto text-xs bg-gradient-to-r from-yellow-500/10 to-yellow-400/10 text-yellow-700 px-2 py-0.5 rounded-full font-semibold",children:"Q4 2024"})]})]})]})}),a.jsxs("div",{className:`px-4 py-4 border-t border-gray-200 text-xs text-gray-400 bg-gradient-to-b from-white to-indigo-50/30 mt-auto ${t?"px-2":""}`,children:[!t&&a.jsx("div",{className:"mb-2 font-semibold text-gray-500",children:"SETTINGS"}),a.jsxs(Je,{to:"/settings",className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer hover:bg-indigo-50/50 hover:text-indigo-600 text-gray-500 transition-colors ${t?"justify-center":""}`,children:[a.jsx(Vg,{className:"w-5 h-5"}),!t&&a.jsx("span",{children:"Settings"})]})]})]})}),a.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"md:ml-20":"md:ml-64"}`})]})}function tne(){const[t,e]=y.useState({totalClients:0,activeDisputes:0,pendingTasks:0,successRate:0,activeClients:0,resolvedDisputes:0,highPriorityTasks:0,overdueTasks:0}),[n,r]=y.useState(!0);y.useEffect(()=>{(async()=>{r(!0);const o=await xn(Dt(it,"clients")),l=await xn(xr(Dt(it,"clients"),ds("status","==","Active"))),c=await xn(xr(Dt(it,"disputes"),ds("status","==","Active"))),u=await xn(xr(Dt(it,"disputes"),ds("status","==","Resolved"))),d=await xn(xr(Dt(it,"tasks"),ds("status","==","Pending"))),f=await xn(xr(Dt(it,"tasks"),ds("priority","==","High"))),p=new Date,g=await xn(Dt(it,"tasks"));let v=0;g.forEach(_=>{const x=_.data();x.dueDate&&new Date(x.dueDate)<p&&x.status!=="Completed"&&v++});const b=c.size+u.size,T=b>0?Math.round(u.size/b*100):0;e({totalClients:o.size,activeDisputes:c.size,pendingTasks:d.size,successRate:T,activeClients:l.size,resolvedDisputes:u.size,highPriorityTasks:f.size,overdueTasks:v}),r(!1)})()},[]);const s=[{label:"Total Clients",value:t.totalClients,icon:a.jsx(No,{className:"w-6 h-6"}),iconBg:"bg-indigo-100 text-indigo-600"},{label:"Active Disputes",value:t.activeDisputes,icon:a.jsx(hi,{className:"w-6 h-6"}),iconBg:"bg-blue-100 text-blue-600"},{label:"Pending Tasks",value:t.pendingTasks,icon:a.jsx(dW,{className:"w-6 h-6"}),iconBg:"bg-purple-100 text-purple-600"},{label:"Success Rate",value:n?"...":`${t.successRate}%`,icon:a.jsx(bc,{className:"w-6 h-6"}),iconBg:"bg-green-100 text-green-600"},{label:"Active Clients",value:t.activeClients,icon:a.jsx(La,{className:"w-6 h-6"}),iconBg:"bg-green-100 text-green-600"},{label:"Resolved Disputes",value:t.resolvedDisputes,icon:a.jsx(p1,{className:"w-6 h-6"}),iconBg:"bg-green-100 text-green-600"},{label:"High Priority Tasks",value:t.highPriorityTasks,icon:a.jsx(iW,{className:"w-6 h-6"}),iconBg:"bg-orange-100 text-orange-600"},{label:"Overdue Tasks",value:t.overdueTasks,icon:a.jsx(DW,{className:"w-6 h-6"}),iconBg:"bg-red-100 text-red-600"}];return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:s.map(i=>a.jsxs("div",{className:"flex items-center p-5 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow group cursor-pointer border border-gray-100",children:[a.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-full text-2xl font-bold mr-4 ${i.iconBg} group-hover:scale-105 transition-transform`,children:i.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n?"...":i.value}),a.jsx("div",{className:"text-sm text-gray-500 font-medium",children:i.label})]})]},i.label))})}const nne=["All","Pending","Completed"];function rne(){const[t,e]=y.useState("All"),[n,r]=y.useState(!0),[s,i]=y.useState([]);return y.useEffect(()=>{(async()=>{r(!0);let l=xr(Dt(it,"tasks"),Sd("createdAt","desc"),jd(6));t==="Pending"?l=xr(Dt(it,"tasks"),ds("status","==","Pending"),Sd("createdAt","desc"),jd(6)):t==="Completed"&&(l=xr(Dt(it,"tasks"),ds("status","==","Completed"),Sd("createdAt","desc"),jd(6)));const c=await xn(l);i(c.docs.map(u=>({id:u.id,...u.data()}))),r(!1)})()},[t]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"font-semibold text-lg flex-1 text-gray-900",children:"Recent Tasks"}),a.jsx("div",{className:"space-x-2",children:nne.map(o=>a.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-semibold transition-colors duration-150 border-none outline-none focus:ring-2 focus:ring-indigo-300 focus:bg-indigo-50 ${t===o?"bg-indigo-600 text-white shadow":"bg-gray-100 text-gray-700 hover:bg-indigo-50"}`,onClick:()=>e(o),children:o},o))})]}),n?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((o,l)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},l))}):s.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No recent tasks yet."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.map(o=>a.jsxs("div",{className:"flex items-center p-4 bg-indigo-50 rounded-xl cursor-pointer hover:bg-indigo-100 transition-colors group",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-indigo-200 rounded-full mr-3 text-indigo-700 font-bold text-lg group-hover:scale-105 transition-transform",children:o.title?o.title[0]:"?"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-xs text-gray-500",children:o.type||""})]})]},o.id))})]})}function sne(t){return t.split(" ").map(e=>e[0]).join("").toUpperCase()}function ine(){const[t,e]=y.useState(!0),[n,r]=y.useState([]);y.useEffect(()=>{(async()=>{try{const o=Dt(it,"clients"),l=xr(o,Sd("createdAt","desc"),jd(5)),u=(await xn(l)).docs.map(d=>({id:d.id,...d.data()}));r(u)}catch(o){console.error("Error fetching recent clients:",o)}finally{e(!1)}})()},[]);const s=i=>{const o=new Date(i),c=Math.floor((new Date().getTime()-o.getTime())/1e3);return c<60?"just now":c<3600?`${Math.floor(c/60)}m ago`:c<86400?`${Math.floor(c/3600)}h ago`:c<604800?`${Math.floor(c/86400)}d ago`:o.toLocaleDateString()};return a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg min-h-[180px] flex flex-col justify-center",children:[a.jsx("div",{className:"font-semibold text-lg mb-4 text-gray-900",children:"Recent Clients"}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((i,o)=>a.jsx("div",{className:"h-8 bg-gray-100 rounded animate-pulse"},o))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No recent clients yet."})]}):a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs",children:[a.jsx("th",{className:"text-left font-normal pb-2",children:"Name"}),a.jsx("th",{className:"text-left font-normal pb-2",children:"Email"}),a.jsx("th",{className:"text-left font-normal pb-2",children:"Status"}),a.jsx("th",{className:"text-left font-normal pb-2",children:"Added"})]})}),a.jsx("tbody",{children:n.map(i=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"py-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold text-xs",children:sne(`${i.firstName} ${i.lastName}`)}),a.jsx("span",{className:"font-medium text-gray-900",children:`${i.firstName} ${i.lastName}`})]}),a.jsx("td",{className:"py-3 text-gray-700",children:i.email}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${i.status==="Active"?"bg-green-100 text-green-700":i.status==="Inactive"?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:i.status})}),a.jsx("td",{className:"py-3 text-gray-500",children:s(i.createdAt||i.joinDate)})]},i.id))})]})]})}function one(){const[t,e]=y.useState(!0),[n,r]=y.useState(null);return y.useEffect(()=>{setTimeout(()=>{r(null),e(!1)},1200)},[]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg min-h-[120px] flex flex-col justify-center",children:[a.jsx("div",{className:"font-semibold text-lg mb-4 text-gray-900",children:"Analytics"}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((s,i)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},i))}):n?a.jsxs("div",{children:[a.jsxs("div",{className:"flex space-x-4 mb-2",children:[a.jsxs("div",{className:"flex-1 bg-blue-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-xs text-blue-700 font-semibold mb-1 uppercase tracking-wide",children:"Lead Conversion"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[n.leadConversion,"%"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[n.totalLeads," of ",n.totalLeads," leads"]})]}),a.jsxs("div",{className:"flex-1 bg-green-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-xs text-green-700 font-semibold mb-1 uppercase tracking-wide",children:"Dispute Success"}),a.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[n.disputeSuccess,"%"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["0 of ",n.totalDisputes," disputes"]})]})]}),a.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Lead to Client Conversion"})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No analytics data yet."})]})]})}function ane(){const[t,e]=y.useState("6m"),[n,r]=y.useState(!0),[s,i]=y.useState([]);return ne.useEffect(()=>{setTimeout(()=>{i([]),r(!1)},1200)},[t]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg min-h-[180px] flex flex-col justify-center",children:[a.jsx("div",{className:"font-semibold text-lg mb-4 text-gray-900",children:"Client Growth"}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-semibold shadow ${t==="6m"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-indigo-50"}`,onClick:()=>e("6m"),children:"6 Months"}),a.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-semibold shadow ${t==="1y"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-indigo-50"}`,onClick:()=>e("1y"),children:"1 Year"})]}),n?a.jsx("div",{className:"flex gap-2 w-full mb-2",children:[...Array(t==="6m"?6:12)].map((o,l)=>a.jsx("div",{className:"w-6 h-20 bg-gray-100 rounded animate-pulse"},l))}):s.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No client growth data yet."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-36 flex items-end gap-2 w-full mb-2",children:s.map(o=>a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsx("div",{className:"w-6 rounded-t-lg bg-indigo-400 transition-all",style:{height:`${o.value*12}px`}}),a.jsx("span",{className:"text-xs text-gray-500 mt-1",children:o.month})]},o.month))}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[a.jsxs("span",{children:["Clients: ",s[0].value]}),a.jsxs("span",{children:["Clients: ",s[s.length-1].value]})]})]})]})}function lne(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ia(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const qj={};function uw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ia(e[0])&&qj[e[0]]||(Ia(e[0])&&(qj[e[0]]=new Date),lne(...e))}const u5=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Gj=(t,e,n)=>{t.loadNamespaces(e,u5(t,n))},Kj=(t,e,n,r)=>{Ia(n)&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,u5(t,r))},cne=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=e.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))},une=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(uw("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):cne(t,e,n)},Ia=t=>typeof t=="string",dne=t=>typeof t=="object"&&t!==null,hne=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fne={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},pne=t=>fne[t],mne=t=>t.replace(hne,pne);let gne={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mne};const yne=()=>gne;let xne;const vne=()=>xne,wne=y.createContext();class bne{constructor(){mt(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const _ne=(t,e)=>{const n=y.useRef();return y.useEffect(()=>{n.current=t},[t,e]),n.current},d5=(t,e,n,r)=>t.getFixedT(e,n,r),Ene=(t,e,n,r)=>y.useCallback(d5(t,e,n,r),[t,e,n,r]),Nne=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=y.useContext(wne)||{},i=n||r||vne();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new bne),!i){uw("You will need to pass in an i18next instance by using initReactI18next");const R=(O,S)=>Ia(S)?S:dne(S)&&Ia(S.defaultValue)?S.defaultValue:Array.isArray(O)?O[O.length-1]:O,P=[R,{},!1];return P.t=R,P.i18n={},P.ready=!1,P}i.options.react&&i.options.react.wait!==void 0&&uw("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...yne(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=s||i.options&&i.options.defaultNS;u=Ia(u)?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(R=>une(R,i,o)),f=Ene(i,e.lng||null,o.nsMode==="fallback"?u:u[0],c),p=()=>f,g=()=>d5(i,e.lng||null,o.nsMode==="fallback"?u:u[0],c),[v,b]=y.useState(p);let T=u.join();e.lng&&(T=`${e.lng}${T}`);const _=_ne(T),x=y.useRef(!0);y.useEffect(()=>{const{bindI18n:R,bindI18nStore:P}=o;x.current=!0,!d&&!l&&(e.lng?Kj(i,e.lng,u,()=>{x.current&&b(g)}):Gj(i,u,()=>{x.current&&b(g)})),d&&_&&_!==T&&x.current&&b(g);const O=()=>{x.current&&b(g)};return R&&i&&i.on(R,O),P&&i&&i.store.on(P,O),()=>{x.current=!1,R&&i&&R.split(" ").forEach(S=>i.off(S,O)),P&&i&&P.split(" ").forEach(S=>i.store.off(S,O))}},[i,T]),y.useEffect(()=>{x.current&&d&&b(p)},[i,c,d]);const N=[v,i,d];if(N.t=v,N.i18n=i,N.ready=d,d||!d&&!l)return N;throw new Promise(R=>{e.lng?Kj(i,e.lng,u,()=>R()):Gj(i,u,()=>R())})},h5=t=>{const{t:e}=Nne(t),n=y.useCallback((l,c)=>{const u=typeof l=="string"?new Date(l):l;return new Intl.DateTimeFormat("en-US",c).format(u)},[]),r=y.useCallback((l,c)=>new Intl.NumberFormat("en-US",c).format(l),[]),s=y.useCallback((l,c="USD",u)=>new Intl.NumberFormat("en-US",{style:"currency",currency:c,...u}).format(l),[]),i=y.useCallback((l,c)=>new Intl.NumberFormat("en-US",{style:"percent",...c}).format(l/100),[]),o=y.useCallback(l=>{const c=typeof l=="string"?new Date(l):l,d=Math.floor((new Date().getTime()-c.getTime())/1e3);if(d<60)return e("time.now");const f=Math.floor(d/60);if(f<60)return e("time.minutes",{count:f});const p=Math.floor(f/60);if(p<24)return e("time.hours",{count:p});const g=Math.floor(p/24);if(g<7)return e("time.days",{count:g});const v=Math.floor(g/7);if(v<4)return e("time.weeks",{count:v});const b=Math.floor(g/30);if(b<12)return e("time.months",{count:b});const T=Math.floor(g/365);return e("time.years",{count:T})},[e]);return{t:e,formatDate:n,formatNumber:r,formatCurrency:s,formatPercentage:i,formatRelativeTime:o}},Tne=()=>{const t=Ss(),{t:e}=h5();return a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("button",{onClick:()=>t("/clients/new"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:a.jsx("span",{children:e("quickActions.newClient")})}),a.jsx("button",{onClick:()=>t("/tasks/new"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:a.jsx("span",{children:e("quickActions.newTask")})}),a.jsx("button",{onClick:()=>t("/reports"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:a.jsx("span",{children:e("quickActions.viewReports")})})]})},Sne=[{type:"urgent",icon:"",message:"Overdue Task: Follow up with John Doe",time:"2h ago"},{type:"info",icon:"",message:"New Dispute Filed for Jane Smith",time:"4h ago"},{type:"reminder",icon:"",message:"Upcoming Appointment: Call with Mike D",time:"Tomorrow 10:00am"},{type:"warning",icon:"",message:"Document Expiry: Proof of Address for Sarah Lee",time:"3 days left"}];function jne({open:t}){return t?a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-100 z-50",children:[a.jsxs("div",{className:"font-semibold text-base px-4 pt-4 pb-2 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-yellow-500 text-lg",children:""})," Alerts & Notifications"]}),a.jsx("ul",{className:"divide-y divide-gray-100 px-2 pb-2",children:Sne.map((e,n)=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:`text-xl ${e.type==="urgent"?"text-red-500":e.type==="warning"?"text-yellow-500":e.type==="reminder"?"text-indigo-500":"text-blue-500"}`,children:e.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:e.message}),a.jsx("div",{className:"text-xs text-gray-400",children:e.time})]})]},n))})]}):null}const Cne=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([]);y.useEffect(()=>{(async()=>{try{const l=Dt(it,"activity"),c=xr(l,Sd("timestamp","desc"),jd(5)),d=(await xn(c)).docs.map(f=>{var p;return{id:f.id,...f.data(),timestamp:(p=f.data().timestamp)==null?void 0:p.toDate()}});r(d)}catch(l){console.error("Error fetching activities:",l)}finally{e(!1)}})()},[]);const s=o=>{switch(o){case"client_added":return a.jsx(No,{className:"w-5 h-5"});case"dispute_filed":return a.jsx(v1,{className:"w-5 h-5"});case"payment_received":return a.jsx(wc,{className:"w-5 h-5"});case"letter_sent":return a.jsx(ih,{className:"w-5 h-5"});default:return a.jsx(No,{className:"w-5 h-5"})}},i=o=>{const c=Math.floor((new Date().getTime()-o.getTime())/1e3);return c<60?"just now":c<3600?`${Math.floor(c/60)}m ago`:c<86400?`${Math.floor(c/3600)}h ago`:c<604800?`${Math.floor(c/86400)}d ago`:o.toLocaleDateString()};return a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-indigo-500 text-xl",children:""})," Recent Activity"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((o,l)=>a.jsx("div",{className:"h-8 bg-gray-100 rounded animate-pulse"},l))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No recent activity yet."})]}):a.jsx("ul",{className:"divide-y divide-gray-100",children:n.map(o=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:"text-2xl text-indigo-500",children:s(o.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:o.description}),a.jsxs("div",{className:"text-xs text-gray-400",children:[o.user,"  ",i(o.timestamp)]})]})]},o.id))})]})},kne=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([]);y.useEffect(()=>{(async()=>{try{const l=new Date,c=Dt(it,"tasks"),u=xr(c,ds("type","==","Appointment"),ds("status","in",["Pending","In Progress"])),f=(await xn(u)).docs.map(p=>{var g;return{id:p.id,...p.data(),dueDate:(g=p.data().dueDate)==null?void 0:g.toDate()}}).filter(p=>p.dueDate>=l).sort((p,g)=>p.dueDate-g.dueDate).slice(0,3);r(f)}catch(l){console.error("Error fetching appointments:",l)}finally{e(!1)}})()},[]);const s=o=>{switch(o){case"Phone Call":return a.jsx(AW,{className:"w-5 h-5"});case"Consultation":return a.jsx(kW,{className:"w-5 h-5"});default:return a.jsx(uW,{className:"w-5 h-5"})}},i=o=>{const l=new Date,c=new Date(l);return c.setDate(c.getDate()+1),o.toDateString()===l.toDateString()?`Today, ${o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:o.toDateString()===c.toDateString()?`Tomorrow, ${o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:o.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-indigo-500 text-xl",children:""})," Upcoming Appointments"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((o,l)=>a.jsx("div",{className:"h-8 bg-gray-100 rounded animate-pulse"},l))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No upcoming appointments."})]}):a.jsx("ul",{className:"divide-y divide-gray-100",children:n.map(o=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:"text-2xl text-indigo-500",children:s(o.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:o.client}),a.jsxs("div",{className:"text-xs text-gray-500",children:[o.type,"  ",i(o.dueDate)]})]})]},o.id))})]})},Ine=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([{label:"Dispute Success",value:"0%",trend:"+0%",icon:a.jsx(bc,{className:"w-5 h-5"}),color:"text-green-600",chart:"bar"},{label:"Client Growth",value:"0",trend:"+0",icon:a.jsx(La,{className:"w-5 h-5"}),color:"text-blue-600",chart:"line"},{label:"Revenue",value:"$0",trend:"+$0",icon:a.jsx(wc,{className:"w-5 h-5"}),color:"text-indigo-600",chart:"bar"}]);return y.useEffect(()=>{(async()=>{e(!0);const i=await xn(xr(Dt(it,"disputes"),ds("status","==","Resolved"))),o=await xn(Dt(it,"disputes")),l=o.size>0?Math.round(i.size/o.size*100):0,c=new Date,u=new Date(c.getFullYear(),c.getMonth(),c.getDate()-30),f=(await xn(Dt(it,"clients"))).docs.filter(v=>{const b=v.data();return b.joinDate&&new Date(b.joinDate)>=u}).length;let p=0;(await xn(Dt(it,"payments"))).docs.forEach(v=>{const b=v.data();b.date&&new Date(b.date)>=u&&(p+=Number(b.amount)||0)}),r([{label:"Dispute Success",value:`${l}%`,trend:"",icon:a.jsx(bc,{className:"w-5 h-5"}),color:"text-green-600",chart:"bar"},{label:"Client Growth",value:`${f}`,trend:"",icon:a.jsx(La,{className:"w-5 h-5"}),color:"text-blue-600",chart:"line"},{label:"Revenue",value:`$${p.toLocaleString()}`,trend:"",icon:a.jsx(wc,{className:"w-5 h-5"}),color:"text-indigo-600",chart:"bar"}]),e(!1)})()},[]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500 text-xl",children:""})," Performance Trends"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((s,i)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},i))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No performance trends yet."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map((s,i)=>a.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50",children:[a.jsx("span",{className:`text-2xl ${s.color}`,children:s.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:s.label}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("span",{className:"text-xl font-bold text-gray-900",children:s.value}),s.trend&&a.jsx("span",{className:"text-xs font-semibold text-green-500",children:s.trend})]}),a.jsx("div",{className:"h-2 mt-2 bg-gradient-to-r from-indigo-200 to-indigo-400 rounded-full w-2/3"})]})]},i))})]})},Ane=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([]);return y.useEffect(()=>{setTimeout(()=>{r([]),e(!1)},1200)},[]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-indigo-500 text-xl",children:""})," Client Leaderboard"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((s,i)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},i))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:""}),a.jsx("span",{children:"No leaderboard data yet."})]}):a.jsx("ul",{className:"divide-y divide-gray-100",children:n.map((s,i)=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:"text-2xl bg-indigo-100 rounded-full w-10 h-10 flex items-center justify-center",children:s.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:s.name}),a.jsx("div",{className:"text-xs text-gray-500",children:s.metric})]}),a.jsx("span",{className:"font-bold text-indigo-600 text-sm",children:s.value})]},i))})]})};function Pne(){const[t,e]=y.useState(!0);return a.jsxs("div",{className:"space-y-12",children:[t&&a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl px-6 py-4 flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-indigo-600 text-2xl",children:""}),a.jsxs("span",{className:"text-indigo-900 font-semibold",children:["Welcome to your new dashboard! Explore quick actions, analytics, and more. Need help? Click any ",a.jsx("span",{className:"underline",children:"info"})," icon."]})]}),a.jsx("button",{className:"ml-4 px-3 py-1 rounded bg-indigo-100 text-indigo-700 font-semibold hover:bg-indigo-200 transition",onClick:()=>e(!1),children:"Dismiss"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Overview"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(tne,{})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsx(Tne,{})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7},children:a.jsx(kne,{})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.8},children:a.jsx(rne,{})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.9},children:a.jsx(Cne,{})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsx(one,{})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7},children:a.jsx(Ine,{})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.8},children:a.jsx(Ane,{})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.9},children:a.jsx(ane,{})})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Recent Clients"}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:1},children:a.jsx(ine,{})})]})]})}const f5=y.createContext(void 0);function Rne({children:t}){const[e,n]=y.useState(null),r=()=>n(null);return a.jsx(f5.Provider,{value:{user:e,setUser:n,logout:r},children:t})}function A_(){const t=y.useContext(f5);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}var P_={};P_.match=Fne;P_.parse=p5;var One=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,Dne=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,Mne=/^(?:(min|max)-)?(.+)/,Lne=/(em|rem|px|cm|mm|in|pt|pc)?$/,Vne=/(dpi|dpcm|dppx)?$/;function Fne(t,e){return p5(t).some(function(n){var r=n.inverse,s=n.type==="all"||e.type===n.type;if(s&&r||!(s||r))return!1;var i=n.expressions.every(function(o){var l=o.feature,c=o.modifier,u=o.value,d=e[l];if(!d)return!1;switch(l){case"orientation":case"scan":return d.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=Zj(u),d=Zj(d);break;case"resolution":u=Qj(u),d=Qj(d);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=Yj(u),d=Yj(d);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,d=parseInt(d,10)||0;break}switch(c){case"min":return d>=u;case"max":return d<=u;default:return d===u}});return i&&!r||!i&&r})}function p5(t){return t.split(",").map(function(e){e=e.trim();var n=e.match(One),r=n[1],s=n[2],i=n[3]||"",o={};return o.inverse=!!r&&r.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map(function(l){var c=l.match(Dne),u=c[1].toLowerCase().match(Mne);return{modifier:u[1],feature:u[2],value:c[2]}}),o})}function Yj(t){var e=Number(t),n;return e||(n=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=n[1]/n[2]),e}function Qj(t){var e=parseFloat(t),n=String(t).match(Vne)[1];switch(n){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function Zj(t){var e=parseFloat(t),n=String(t).match(Lne)[1];switch(n){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var Une=P_.match,Xj=typeof window<"u"?window.matchMedia:null;function $ne(t,e,n){var r=this,s;Xj&&!n&&(s=Xj.call(window,t)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=Une(t,e),this.media=t),this.addListener=i,this.removeListener=o,this.dispose=c;function i(u){s&&s.addListener(u)}function o(u){s&&s.removeListener(u)}function l(u){r.matches=u.matches,r.media=u.media}function c(){s&&s.removeListener(l)}}function Bne(t,e,n){return new $ne(t,e,n)}var zne=Bne;const Wne=Oo(zne);var Hne=/[A-Z]/g,qne=/^ms-/,W0={};function Gne(t){return"-"+t.toLowerCase()}function m5(t){if(W0.hasOwnProperty(t))return W0[t];var e=t.replace(Hne,Gne);return W0[t]=qne.test(e)?"-"+e:e}function Kne(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),s=n.length;if(r.length!==s)return!1;for(let i=0;i<s;i++){const o=n[i];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}const Tn=H.oneOfType([H.string,H.number]),g5={all:H.bool,grid:H.bool,aural:H.bool,braille:H.bool,handheld:H.bool,print:H.bool,projection:H.bool,screen:H.bool,tty:H.bool,tv:H.bool,embossed:H.bool},Yne={orientation:H.oneOf(["portrait","landscape"]),scan:H.oneOf(["progressive","interlace"]),aspectRatio:H.string,deviceAspectRatio:H.string,height:Tn,deviceHeight:Tn,width:Tn,deviceWidth:Tn,color:H.bool,colorIndex:H.bool,monochrome:H.bool,resolution:Tn,type:Object.keys(g5)},{type:mie,...Qne}=Yne,Zne={minAspectRatio:H.string,maxAspectRatio:H.string,minDeviceAspectRatio:H.string,maxDeviceAspectRatio:H.string,minHeight:Tn,maxHeight:Tn,minDeviceHeight:Tn,maxDeviceHeight:Tn,minWidth:Tn,maxWidth:Tn,minDeviceWidth:Tn,maxDeviceWidth:Tn,minColor:H.number,maxColor:H.number,minColorIndex:H.number,maxColorIndex:H.number,minMonochrome:H.number,maxMonochrome:H.number,minResolution:Tn,maxResolution:Tn,...Qne},Xne={...g5,...Zne};var Jne={all:Xne};const ere=t=>`not ${t}`,tre=(t,e)=>{const n=m5(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?ere(n):`(${n}: ${e})`},nre=t=>t.join(" and "),rre=t=>{const e=[];return Object.keys(Jne.all).forEach(n=>{const r=t[n];r!=null&&e.push(tre(n,r))}),nre(e)},sre=y.createContext(void 0),ire=t=>t.query||rre(t),Jj=t=>t?Object.keys(t).reduce((n,r)=>(n[m5(r)]=t[r],n),{}):void 0,y5=()=>{const t=y.useRef(!1);return y.useEffect(()=>{t.current=!0},[]),t.current},ore=t=>{const e=y.useContext(sre),n=()=>Jj(t)||Jj(e),[r,s]=y.useState(n);return y.useEffect(()=>{const i=n();Kne(r,i)||s(i)},[t,e]),r},are=t=>{const e=()=>ire(t),[n,r]=y.useState(e);return y.useEffect(()=>{const s=e();n!==s&&r(s)},[t]),n},lre=(t,e)=>{const n=()=>Wne(t,e||{},!!e),[r,s]=y.useState(n),i=y5();return y.useEffect(()=>{if(i){const o=n();return s(o),()=>{o&&o.dispose()}}},[t,e]),r},cre=t=>{const[e,n]=y.useState(t.matches);return y.useEffect(()=>{const r=s=>{n(s.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},ure=(t,e,n)=>{const r=ore(e),s=are(t);if(!s)throw new Error("Invalid or missing MediaQuery!");const i=lre(s,r),o=cre(i);return y5(),y.useEffect(()=>{},[o]),y.useEffect(()=>()=>{i&&i.dispose()},[]),o},eC={"/":"Dashboard","/why-credexis":"Why Credexis","/clients":"Clients","/disputes":"Disputes","/tasks":"Tasks","/payments":"Payments","/documents":"Documents","/letter-templates":"Letter Templates","/marketing":"Marketing","/credit-tools":"Credit Tools","/settings":"Settings","/reports":"Reports"};function dre({onHelpClick:t,onQuickStartClick:e,userData:n}){const[r,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=y.useRef(null),d=y.useRef(null),f=Qa(),p=Ss(),{user:g}=A_(),v=ure({maxWidth:768}),b=eC[f.pathname]||"Dashboard";y.useEffect(()=>{function _(x){u.current&&!u.current.contains(x.target)&&o(!1),d.current&&!d.current.contains(x.target)&&s(!1)}return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const T=()=>{p("/"),o(!1)};return a.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 shadow-sm sticky top-0 z-10",children:[a.jsx("div",{className:"h-full px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[v&&a.jsxs("button",{onClick:()=>c(!l),className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[a.jsx("span",{className:"sr-only",children:"Open main menu"}),l?a.jsx(sn,{className:"h-6 w-6","aria-hidden":"true"}):a.jsx(x1,{className:"h-6 w-6","aria-hidden":"true"})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center sm:justify-start",children:a.jsx("h1",{className:"text-xl font-bold tracking-tight text-gray-900 sm:text-2xl",children:b})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-indigo-50 transition-colors","aria-label":"Quick Start Guide",children:a.jsx(IR,{className:"h-5 w-5 text-gray-600"})}),a.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-indigo-50 transition-colors","aria-label":"Help & Documentation",children:a.jsx(g1,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"relative",ref:d,children:[a.jsxs("button",{className:"relative p-2 rounded-full hover:bg-indigo-50 transition-colors",onClick:()=>s(_=>!_),"aria-label":"View notifications",children:[a.jsx("span",{role:"img","aria-label":"bell",className:"text-xl",children:""}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})]}),a.jsx(jne,{open:r})]}),a.jsxs("div",{className:"relative",ref:u,children:[a.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-indigo-50 transition-colors","aria-expanded":i,"aria-haspopup":"true",children:[a.jsx("span",{className:"hidden sm:block font-medium text-gray-700",children:n?`${n.firstName||""} ${n.lastName||""}`.trim():(g==null?void 0:g.email)||"User"}),a.jsx("span",{className:"w-9 h-9 bg-indigo-200 rounded-full flex items-center justify-center font-bold text-indigo-700 ring-2 ring-indigo-400",children:n&&n.firstName?n.firstName[0]:g!=null&&g.email?g.email[0]:"U"}),a.jsx(AR,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[a.jsx("p",{className:"font-medium text-gray-900",children:n?`${n.firstName||""} ${n.lastName||""}`.trim():g==null?void 0:g.email}),a.jsx("p",{className:"text-sm text-gray-500",children:(n==null?void 0:n.email)||(g==null?void 0:g.email)})]}),a.jsxs("div",{className:"py-1",children:[a.jsxs(Je,{to:"/settings",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",onClick:()=>o(!1),children:[a.jsx(No,{className:"w-4 h-4"}),a.jsx("span",{children:"Your Profile"})]}),a.jsxs(Je,{to:"/settings",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",onClick:()=>o(!1),children:[a.jsx(Vg,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:T,className:"w-full flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(OR,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]})]})]})]})]})}),v&&l&&a.jsx("div",{className:"sm:hidden",children:a.jsx("div",{className:"pt-2 pb-3 space-y-1",children:Object.entries(eC).map(([_,x])=>a.jsx(Je,{to:_,className:`block px-3 py-2 rounded-md text-base font-medium ${f.pathname===_?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(!1),children:x},_))})})]})}const hre=[{icon:a.jsx(v1,{className:"w-8 h-8 text-indigo-600"}),title:"Automate Disputes",desc:"Save time and reduce errors with automated dispute workflows."},{icon:a.jsx(La,{className:"w-8 h-8 text-indigo-600"}),title:"Client Management",desc:"Easily manage all your clients, notes, and documents in one place."},{icon:a.jsx(kR,{className:"w-8 h-8 text-indigo-600"}),title:"Analytics & Growth",desc:"Track your business performance and client progress with real-time analytics."},{icon:a.jsx(LR,{className:"w-8 h-8 text-indigo-600"}),title:"Secure & Compliant",desc:"Your data is protected with industry-leading security and compliance."},{icon:a.jsx(hi,{className:"w-8 h-8 text-indigo-600"}),title:"Document Automation",desc:"Generate, store, and send documents with a click."},{icon:a.jsx(bc,{className:"w-8 h-8 text-indigo-600"}),title:"Business Growth",desc:"Tools to help you scale your credit repair business."}];function fre(){return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 space-y-16",children:[a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Credexis?"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Credexis empowers credit specialists and professionals with modern tools to automate, manage, and grow their businessall in one beautiful platform."})]})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7},children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:hre.map(t=>a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-2",children:t.icon}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),a.jsx("p",{className:"text-gray-500",children:t.desc})]}))})}),a.jsx(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.9},children:a.jsx("div",{className:"text-center mt-12",children:a.jsx("button",{className:"px-6 py-3 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 transition text-lg",children:"Get Started with Credexis"})})})]})}function Zt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pre=typeof Symbol=="function"&&Symbol.observable||"@@observable",tC=pre,H0=()=>Math.random().toString(36).substring(7).split("").join("."),mre={INIT:`@@redux/INIT${H0()}`,REPLACE:`@@redux/REPLACE${H0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H0()}`},rg=mre;function R_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function x5(t,e,n){if(typeof t!="function")throw new Error(Zt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zt(1));return n(x5)(t,e)}let r=t,s=e,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((T,_)=>{o.set(_,T)}))}function d(){if(c)throw new Error(Zt(3));return s}function f(T){if(typeof T!="function")throw new Error(Zt(4));if(c)throw new Error(Zt(5));let _=!0;u();const x=l++;return o.set(x,T),function(){if(_){if(c)throw new Error(Zt(6));_=!1,u(),o.delete(x),i=null}}}function p(T){if(!R_(T))throw new Error(Zt(7));if(typeof T.type>"u")throw new Error(Zt(8));if(typeof T.type!="string")throw new Error(Zt(17));if(c)throw new Error(Zt(9));try{c=!0,s=r(s,T)}finally{c=!1}return(i=o).forEach(x=>{x()}),T}function g(T){if(typeof T!="function")throw new Error(Zt(10));r=T,p({type:rg.REPLACE})}function v(){const T=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Zt(11));function x(){const R=_;R.next&&R.next(d())}return x(),{unsubscribe:T(x)}},[tC](){return this}}}return p({type:rg.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:g,[tC]:v}}function gre(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:rg.INIT})>"u")throw new Error(Zt(12));if(typeof n(void 0,{type:rg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function yre(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{gre(n)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],p=n[f],g=o[f],v=p(g,l);if(typeof v>"u")throw l&&l.type,new Error(Zt(14));u[f]=v,c=c||v!==g}return c=c||r.length!==Object.keys(o).length,c?u:o}}function sg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function xre(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(Zt(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(o));return i=sg(...l)(s.dispatch),{...s,dispatch:i}}}function vre(t){return R_(t)&&"type"in t&&typeof t.type=="string"}var v5=Symbol.for("immer-nothing"),nC=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function $r(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Rc=Object.getPrototypeOf;function qa(t){return!!t&&!!t[cr]}function bi(t){var e;return t?w5(t)||Array.isArray(t)||!!t[nC]||!!((e=t.constructor)!=null&&e[nC])||xy(t)||vy(t):!1}var wre=Object.prototype.constructor.toString();function w5(t){if(!t||typeof t!="object")return!1;const e=Rc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===wre}function ig(t,e){yy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function yy(t){const e=t[cr];return e?e.type_:Array.isArray(t)?1:xy(t)?2:vy(t)?3:0}function dw(t,e){return yy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function b5(t,e,n){const r=yy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function bre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xy(t){return t instanceof Map}function vy(t){return t instanceof Set}function la(t){return t.copy_||t.base_}function hw(t,e){if(xy(t))return new Map(t);if(vy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=w5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[cr];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Rc(t),r)}else{const r=Rc(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function O_(t,e=!1){return wy(t)||qa(t)||!bi(t)||(yy(t)>1&&(t.set=t.add=t.clear=t.delete=_re),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>O_(r,!0))),t}function _re(){$r(2)}function wy(t){return Object.isFrozen(t)}var Ere={};function Ga(t){const e=Ere[t];return e||$r(0,t),e}var bh;function _5(){return bh}function Nre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rC(t,e){e&&(Ga("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fw(t){pw(t),t.drafts_.forEach(Tre),t.drafts_=null}function pw(t){t===bh&&(bh=t.parent_)}function sC(t){return bh=Nre(bh,t)}function Tre(t){const e=t[cr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[cr].modified_&&(fw(e),$r(4)),bi(t)&&(t=og(e,t),e.parent_||ag(e,t)),e.patches_&&Ga("Patches").generateReplacementPatches_(n[cr].base_,t,e.patches_,e.inversePatches_)):t=og(e,n,[]),fw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==v5?t:void 0}function og(t,e,n){if(wy(e))return e;const r=e[cr];if(!r)return ig(e,(s,i)=>oC(t,r,e,s,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ag(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),ig(i,(l,c)=>oC(t,r,s,l,c,n,o)),ag(t,s,!1),n&&t.patches_&&Ga("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function oC(t,e,n,r,s,i,o){if(qa(s)){const l=i&&e&&e.type_!==3&&!dw(e.assigned_,r)?i.concat(r):void 0,c=og(t,s,l);if(b5(n,r,c),qa(c))t.canAutoFreeze_=!1;else return}else o&&n.add(s);if(bi(s)&&!wy(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;og(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ag(t,s)}}function ag(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&O_(e,n)}function Sre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:_5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=D_;n&&(s=[r],i=_h);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return r.draft_=l,r.revoke_=o,l}var D_={get(t,e){if(e===cr)return t;const n=la(t);if(!dw(n,e))return jre(t,n,e);const r=n[e];return t.finalized_||!bi(r)?r:r===q0(t.base_,e)?(G0(t),t.copy_[e]=gw(r,t)):r},has(t,e){return e in la(t)},ownKeys(t){return Reflect.ownKeys(la(t))},set(t,e,n){const r=E5(la(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=q0(la(t),e),i=s==null?void 0:s[cr];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(bre(n,s)&&(n!==void 0||dw(t.base_,e)))return!0;G0(t),mw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return q0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,G0(t),mw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=la(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){$r(11)},getPrototypeOf(t){return Rc(t.base_)},setPrototypeOf(){$r(12)}},_h={};ig(D_,(t,e)=>{_h[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});_h.deleteProperty=function(t,e){return _h.set.call(this,t,e,void 0)};_h.set=function(t,e,n){return D_.set.call(this,t[0],e,n,t[0])};function q0(t,e){const n=t[cr];return(n?la(n):t)[e]}function jre(t,e,n){var s;const r=E5(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function E5(t,e){if(!(e in t))return;let n=Rc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Rc(n)}}function mw(t){t.modified_||(t.modified_=!0,t.parent_&&mw(t.parent_))}function G0(t){t.copy_||(t.copy_=hw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Cre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const o=this;return function(c=i,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&$r(6),r!==void 0&&typeof r!="function"&&$r(7);let s;if(bi(e)){const i=sC(this),o=gw(e,void 0);let l=!0;try{s=n(o),l=!1}finally{l?fw(i):pw(i)}return rC(i,r),iC(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===v5&&(s=void 0),this.autoFreeze_&&O_(s,!0),r){const i=[],o=[];Ga("Patches").generateReplacementPatches_(e,s,i,o),r(i,o)}return s}else $r(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,s;return[this.produce(e,n,(o,l)=>{r=o,s=l}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){bi(t)||$r(8),qa(t)&&(t=kre(t));const e=sC(this),n=gw(t,void 0);return n[cr].isManual_=!0,pw(e),n}finishDraft(t,e){const n=t&&t[cr];(!n||!n.isManual_)&&$r(9);const{scope_:r}=n;return rC(r,e),iC(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Ga("Patches").applyPatches_;return qa(t)?r(t,e):this.produce(t,s=>r(s,e))}};function gw(t,e){const n=xy(t)?Ga("MapSet").proxyMap_(t,e):vy(t)?Ga("MapSet").proxySet_(t,e):Sre(t,e);return(e?e.scope_:_5()).drafts_.push(n),n}function kre(t){return qa(t)||$r(10,t),N5(t)}function N5(t){if(!bi(t)||wy(t))return t;const e=t[cr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=hw(t,!0);return ig(n,(r,s)=>{b5(n,r,N5(s))}),e&&(e.finalized_=!1),n}var ur=new Cre,T5=ur.produce;ur.produceWithPatches.bind(ur);ur.setAutoFreeze.bind(ur);ur.setUseStrictShallowCopy.bind(ur);ur.applyPatches.bind(ur);ur.createDraft.bind(ur);ur.finishDraft.bind(ur);function S5(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var Ire=S5(),Are=S5,Pre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sg:sg.apply(null,arguments)},Rre=t=>t&&typeof t.match=="function";function kd(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(ii(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>vre(r)&&r.type===t,n}var j5=class rd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rd.prototype)}static get[Symbol.species](){return rd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rd(...e[0].concat(this)):new rd(...e.concat(this))}};function aC(t){return bi(t)?T5(t,()=>{}):t}function op(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Ore(t){return typeof t=="boolean"}var Dre=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let o=new j5;return n&&(Ore(n)?o.push(Ire):o.push(Are(n.extraArgument))),o},Mre="RTK_autoBatch",lC=t=>e=>{setTimeout(e,t)},Lre=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lC(10):t.type==="callback"?t.queueNotification:lC(t.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>s&&d(),p=r.subscribe(f);return l.add(d),()=>{p(),l.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[Mre]),i=!s,i&&(o||(o=!0,c(u))),r.dispatch(d)}finally{s=!0}}})},Vre=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new j5(t);return r&&s.push(Lre(typeof r=="object"?r:void 0)),s};function Fre(t){const e=Dre(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(R_(n))l=yre(n);else throw new Error(ii(1));let c;typeof r=="function"?c=r(e):c=e();let u=sg;s&&(u=Pre({trace:!1,...typeof s=="object"&&s}));const d=xre(...c),f=Vre(d);let p=typeof o=="function"?o(f):f();const g=u(...p);return x5(l,i,g)}function C5(t){const e={},n=[];let r;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ii(28));if(l in e)throw new Error(ii(29));return e[l]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function Ure(t){return typeof t=="function"}function $re(t,e){let[n,r,s]=C5(e),i;if(Ure(t))i=()=>aC(t());else{const l=aC(t);i=()=>l}function o(l=i(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(qa(d)){const g=f(d,c);return g===void 0?d:g}else{if(bi(d))return T5(d,p=>f(p,c));{const p=f(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},l)}return o.getInitialState=i,o}var Bre=(t,e)=>Rre(t)?t.match(e):t(e);function zre(...t){return e=>t.some(n=>Bre(n,e))}var Wre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hre=(t=21)=>{let e="",n=t;for(;n--;)e+=Wre[Math.random()*64|0];return e},qre=["name","message","stack","code"],K0=class{constructor(t,e){mt(this,"_type");this.payload=t,this.meta=e}},cC=class{constructor(t,e){mt(this,"_type");this.payload=t,this.meta=e}},Gre=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of qre)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},uC="External signal was aborted",Xc=(()=>{function t(e,n,r){const s=kd(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),i=kd(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),o=kd(e+"/rejected",(c,u,d,f,p)=>({payload:f,error:(r&&r.serializeError||Gre)(c||"Rejected"),meta:{...p||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,p)=>{const g=r!=null&&r.idGenerator?r.idGenerator(c):Hre(),v=new AbortController;let b,T;function _(N){T=N,v.abort()}u&&(u.aborted?_(uC):u.addEventListener("abort",()=>_(uC),{once:!0}));const x=async function(){var P,O;let N;try{let S=(P=r==null?void 0:r.condition)==null?void 0:P.call(r,c,{getState:f,extra:p});if(Yre(S)&&(S=await S),S===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((C,A)=>{b=()=>{A({name:"AbortError",message:T||"Aborted"})},v.signal.addEventListener("abort",b)});d(i(g,c,(O=r==null?void 0:r.getPendingMeta)==null?void 0:O.call(r,{requestId:g,arg:c},{getState:f,extra:p}))),N=await Promise.race([E,Promise.resolve(n(c,{dispatch:d,getState:f,extra:p,requestId:g,signal:v.signal,abort:_,rejectWithValue:(C,A)=>new K0(C,A),fulfillWithValue:(C,A)=>new cC(C,A)})).then(C=>{if(C instanceof K0)throw C;return C instanceof cC?s(C.payload,g,c,C.meta):s(C,g,c)})])}catch(S){N=S instanceof K0?o(null,g,c,S.payload,S.meta):o(S,g,c)}finally{b&&v.signal.removeEventListener("abort",b)}return r&&!r.dispatchConditionRejection&&o.match(N)&&N.meta.condition||d(N),N}();return Object.assign(x,{abort:_,requestId:g,arg:c,unwrap(){return x.then(Kre)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,settled:zre(o,s),typePrefix:e})}return t.withTypes=()=>t,t})();function Kre(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Yre(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Qre=Symbol.for("rtk-slice-createasyncthunk");function Zre(t,e){return`${t}/${e}`}function Xre({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Qre];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(ii(11));const l=(typeof s.reducers=="function"?s.reducers(ese()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const O=typeof R=="string"?R:R.type;if(!O)throw new Error(ii(12));if(O in u.sliceCaseReducersByType)throw new Error(ii(13));return u.sliceCaseReducersByType[O]=P,d},addMatcher(R,P){return u.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return u.actionCreators[R]=P,d},exposeCaseReducer(R,P){return u.sliceCaseReducersByName[R]=P,d}};c.forEach(R=>{const P=l[R],O={reducerName:R,type:Zre(i,R),createNotation:typeof s.reducers=="function"};nse(P)?sse(O,P,d,e):tse(O,P,d)});function f(){const[R={},P=[],O=void 0]=typeof s.extraReducers=="function"?C5(s.extraReducers):[s.extraReducers],S={...R,...u.sliceCaseReducersByType};return $re(s.initialState,E=>{for(let C in S)E.addCase(C,S[C]);for(let C of u.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of P)E.addMatcher(C.matcher,C.reducer);O&&E.addDefaultCase(O)})}const p=R=>R,g=new Map,v=new WeakMap;let b;function T(R,P){return b||(b=f()),b(R,P)}function _(){return b||(b=f()),b.getInitialState()}function x(R,P=!1){function O(E){let C=E[R];return typeof C>"u"&&P&&(C=op(v,O,_)),C}function S(E=p){const C=op(g,P,()=>new WeakMap);return op(C,E,()=>{const A={};for(const[M,D]of Object.entries(s.selectors??{}))A[M]=Jre(D,E,()=>op(v,E,_),P);return A})}return{reducerPath:R,getSelectors:S,get selectors(){return S(O)},selectSlice:O}}const N={name:i,reducer:T,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...x(o),injectInto(R,{reducerPath:P,...O}={}){const S=P??o;return R.inject({reducerPath:S,reducer:T},O),{...N,...x(S,!0)}}};return N}}function Jre(t,e,n,r){function s(i,...o){let l=e(i);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return s.unwrapped=t,s}var by=Xre();function ese(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tse({type:t,reducerName:e,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!rse(r))throw new Error(ii(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?kd(t,o):kd(t))}function nse(t){return t._reducerDefinitionType==="asyncThunk"}function rse(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sse({type:t,reducerName:e},n,r,s){if(!s)throw new Error(ii(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,f=s(t,i,d);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:o||ap,pending:l||ap,rejected:c||ap,settled:u||ap})}function ap(){}function ii(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const ise={clients:[],selectedClient:null,loading:!1,error:null},k5=by({name:"clients",initialState:ise,reducers:{setClients:(t,e)=>{t.clients=e.payload},addClient:(t,e)=>{t.clients.push(e.payload)},updateClient:(t,e)=>{const n=t.clients.findIndex(r=>r.id===e.payload.id);n!==-1&&(t.clients[n]=e.payload)},deleteClient:(t,e)=>{t.clients=t.clients.filter(n=>n.id!==e.payload)},setSelectedClient:(t,e)=>{t.selectedClient=e.payload},setLoading:(t,e)=>{t.loading=e.payload},setError:(t,e)=>{t.error=e.payload}}}),{setClients:ose,addClient:ase,updateClient:lse,deleteClient:cse,setSelectedClient:use,setLoading:Mi,setError:lp}=k5.actions,dse=k5.reducer,hse=()=>{const t=qI(),e=bb(l=>l.clients),n=async()=>{try{t(Mi(!0));const l=await fetch("/api/clients");if(!l.ok)throw new Error("Failed to fetch clients");const c=await l.json();t(ose(c))}catch(l){t(lp(l instanceof Error?l.message:"Failed to fetch clients"))}finally{t(Mi(!1))}},r=async l=>{try{t(Mi(!0));const c=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!c.ok)throw new Error("Failed to create client");const u=await c.json();t(ase(u))}catch(c){t(lp(c instanceof Error?c.message:"Failed to create client"))}finally{t(Mi(!1))}},s=async(l,c)=>{try{t(Mi(!0));const u=await fetch(`/api/clients/${l}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!u.ok)throw new Error("Failed to update client");const d=await u.json();t(lse(d))}catch(u){t(lp(u instanceof Error?u.message:"Failed to update client"))}finally{t(Mi(!1))}},i=async l=>{try{if(t(Mi(!0)),!(await fetch(`/api/clients/${l}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");t(cse(l))}catch(c){t(lp(c instanceof Error?c.message:"Failed to delete client"))}finally{t(Mi(!1))}},o=l=>{t(use(l))};return{clients:e.clients,selectedClient:e.selectedClient,loading:e.loading,error:e.error,fetchClients:n,createClient:r,updateClient:s,deleteClient:i,selectClient:o}};class fse{constructor(){mt(this,"collection",Dt(it,"activity"))}async logActivity(e){try{await SD(this.collection,{...e,timestamp:nJ()})}catch(n){console.error("Error logging activity:",n)}}async logClientAdded(e,n){await this.logActivity({type:"client_added",description:`Added new client: ${e}`,user:n})}async logClientUpdated(e,n){await this.logActivity({type:"client_updated",description:`Updated client: ${e}`,user:n})}async logDisputeFiled(e,n,r){await this.logActivity({type:"dispute_filed",description:`Filed dispute for ${e} with ${n}`,user:r})}async logPaymentReceived(e,n,r){await this.logActivity({type:"payment_received",description:`Received payment of $${n} from ${e}`,user:r,metadata:{amount:n}})}async logTaskCreated(e,n){await this.logActivity({type:"task_created",description:`Created new task: ${e}`,user:n})}async logTaskCompleted(e,n){await this.logActivity({type:"task_completed",description:`Completed task: ${e}`,user:n})}async logAppointmentScheduled(e,n,r){await this.logActivity({type:"appointment_scheduled",description:`Scheduled appointment with ${e}`,user:r,metadata:{date:n}})}async logDocumentUploaded(e,n,r){await this.logActivity({type:"document_uploaded",description:`Uploaded ${n} for ${e}`,user:r})}}const dC=new fse,Y0={firstName:"",lastName:"",email:"",phone:"",address:"",status:"Active",creditScore:500,goalScore:750,joinDate:new Date().toISOString().split("T")[0],disputes:0,progress:0,nextAction:"",totalPaid:0,dateOfBirth:"",ssn:"",notes:"",monthlyFee:0,servicePlan:"Basic"};function hC(t){return{firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||"",address:t.address||"",status:t.status||"Active",creditScore:t.creditScore??500,goalScore:t.goalScore??750,joinDate:t.joinDate||new Date().toISOString().split("T")[0],disputes:t.disputes??0,progress:t.progress??0,nextAction:t.nextAction||"",totalPaid:t.totalPaid??0,dateOfBirth:t.dateOfBirth||"",ssn:t.ssn||"",notes:t.notes||"",monthlyFee:t.monthlyFee??0,servicePlan:t.servicePlan||"Basic"}}function pse({isOpen:t,onClose:e,onSave:n,client:r}){const{user:s}=A_(),[i,o]=y.useState(r?hC(r):Y0),[l,c]=y.useState({}),[u,d]=y.useState(1),[f,p]=y.useState(!1),g=3;y.useEffect(()=>{o(r?hC(r):Y0),c({}),d(1)},[r,t]);const v=P=>{const O={};return P===1?(i.firstName.trim()||(O.firstName="First name is required"),i.lastName.trim()||(O.lastName="Last name is required"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(O.email="Invalid email format"):O.email="Email is required",i.phone.trim()||(O.phone="Phone number is required"),i.address&&!i.address.trim()&&(O.address="Address cannot be empty if provided")):P===2&&(i.creditScore!==void 0&&(i.creditScore<300||i.creditScore>850)&&(O.creditScore="Credit score must be between 300 and 850"),i.goalScore!==void 0&&((i.goalScore<300||i.goalScore>850)&&(O.goalScore="Goal score must be between 300 and 850"),i.goalScore!==void 0&&i.creditScore!==void 0&&i.goalScore<=i.creditScore&&(O.goalScore="Goal score must be higher than current credit score"))),c(O),Object.keys(O).length===0},b=()=>{v(u)&&d(u+1)},T=()=>{d(u-1)},_=async P=>{P.preventDefault();try{if(!v(u))return;p(!0),await new Promise(S=>setTimeout(S,1e3));const O={...i,...r!=null&&r.id?{id:r.id}:{},joinDate:(r==null?void 0:r.joinDate)||i.joinDate};await n(O),r?await dC.logClientUpdated(`${O.firstName} ${O.lastName}`,(s==null?void 0:s.id)||""):await dC.logClientAdded(`${O.firstName} ${O.lastName}`,(s==null?void 0:s.id)||""),p(!1),o(Y0),e()}catch(O){console.error("Error submitting client:",O),et.error("Failed to save client"),p(!1)}},x=(P,O)=>{o(S=>({...S,[P]:O})),l[P]&&c(S=>({...S,[P]:""}))},N=P=>{const O=P.replace(/\D/g,"");return O.length<=10?O.length<=3?O:O.length<=6?`(${O.slice(0,3)}) ${O.slice(3)}`:`(${O.slice(0,3)}) ${O.slice(3,6)}-${O.slice(6)}`:P},R=()=>{switch(u){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(No,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),a.jsx("p",{className:"text-gray-500",children:"Basic client details and contact information"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),a.jsx("input",{type:"text",value:i.firstName,onChange:P=>x("firstName",P.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.firstName?"border-red-300":"border-gray-300"}`,placeholder:"John"}),l.firstName&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1"}),l.firstName]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),a.jsx("input",{type:"text",value:i.lastName,onChange:P=>x("lastName",P.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Smith"}),l.lastName&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1"}),l.lastName]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",value:i.email,onChange:P=>x("email",P.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.email?"border-red-300":"border-gray-300"}`,placeholder:"john.smith@email.com"})]}),l.email&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1"}),l.email]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(MR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",value:i.phone,onChange:P=>x("phone",N(P.target.value)),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.phone?"border-red-300":"border-gray-300"}`,placeholder:"(555) 123-4567"})]}),l.phone&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1"}),l.phone]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(DR,{className:"absolute left-3 top-3 text-gray-400 w-5 h-5"}),a.jsx("textarea",{value:i.address,onChange:P=>x("address",P.target.value),rows:2,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.address?"border-red-300":"border-gray-300"}`,placeholder:"123 Main St, Miami, FL 33101"})]}),l.address&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1"}),l.address]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:i.status,onChange:P=>x("status",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(oh,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Credit Information"}),a.jsx("p",{className:"text-gray-500",children:"Current credit status and goals"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Credit Score"}),a.jsx("input",{type:"number",min:"300",max:"850",value:i.creditScore===void 0?"":i.creditScore,onChange:P=>x("creditScore",P.target.value?parseInt(P.target.value):void 0),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),l.creditScore&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.creditScore})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Goal Score"}),a.jsx("input",{type:"number",min:"300",max:"850",value:i.goalScore===void 0?"":i.goalScore,onChange:P=>x("goalScore",P.target.value?parseInt(P.target.value):void 0),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),l.goalScore&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.goalScore})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Credit Score Improvement"}),a.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:["+",i.goalScore-i.creditScore," points"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Target improvement from ",i.creditScore," to ",i.goalScore]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Action Plan"}),a.jsx("textarea",{value:i.nextAction,onChange:P=>x("nextAction",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Initial credit report review and dispute strategy development..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:i.notes||"",onChange:P=>x("notes",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Additional client notes and special considerations..."})]})]});case 3:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(wc,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Billing"}),a.jsx("p",{className:"text-gray-500",children:"Payment information"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Payment"}),a.jsxs("div",{className:"relative",children:[a.jsx(wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"number",min:"0",value:i.totalPaid,onChange:P=>x("totalPaid",parseFloat(P.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0.00"})]})]}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(sh,{className:"w-5 h-5 text-green-600 mr-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-900",children:"Ready to Create Client"}),a.jsx("p",{className:"text-sm text-green-700",children:"All information has been validated and is ready to save."})]})]})})]});default:return null}};return t?a.jsx(nn,{children:a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Client":"Add New Client"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",u," of ",g]})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:Array.from({length:g},(P,O)=>O+1).map(P=>a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${P<=u?"bg-indigo-600 text-white":"bg-gray-200 text-gray-500"}`,children:P<u?a.jsx(sh,{className:"w-4 h-4"}):P},P))}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${u/g*100}%`}})})]}),a.jsx("div",{className:"p-6",children:R()}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[a.jsx("button",{onClick:T,disabled:u===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-3",children:u<g?a.jsx("button",{onClick:b,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:"Next"}):a.jsx("button",{onClick:_,disabled:f,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:f?"Saving...":r?"Update Client":"Create Client"})})]})]})})}):null}const mse=()=>{const t=Ss(),{t:e}=h5(),{clients:n}=hse(),[r,s]=y.useState(""),[i,o]=y.useState(!1),l=n.filter(c=>c.firstName.toLowerCase().includes(r.toLowerCase())||c.lastName.toLowerCase().includes(r.toLowerCase())||c.email.toLowerCase().includes(r.toLowerCase()));return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("clients.title")}),a.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:e("clients.addNew")})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:e("clients.searchPlaceholder"),value:r,onChange:c=>s(c.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx(Bh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>a.jsxs("div",{onClick:()=>t(`/clients/${c.id}`),className:"bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",children:[a.jsxs("h3",{className:"font-semibold text-lg",children:[c.firstName," ",c.lastName]}),a.jsx("p",{className:"text-gray-600",children:c.email}),a.jsx("span",{className:`inline-block px-2 py-1 rounded text-sm ${c.status==="Active"?"bg-green-100 text-green-800":c.status==="Inactive"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:c.status})]},c.id))}),i&&a.jsx(pse,{isOpen:i,onClose:()=>o(!1),onSave:()=>{o(!1)}})]})},Ou={id:"",client:"",type:"",creditor:"",bureau:"Experian",status:"Draft",submitted:"",lastUpdated:new Date().toISOString().split("T")[0],priority:"Medium",notes:"",creditImpact:0,disputeReason:"",nextAction:""},Du=10,gse=[{id:"1",name:"Late Payment Removal",description:"Template for disputing late payments with supporting documentation",bureau:"All",type:"Late Payment",successRate:85,avgImpact:25,steps:["Gather payment receipts","Write dispute letter","Submit to credit bureaus","Follow up after 30 days"]},{id:"2",name:"Collection Account Removal",description:"Template for removing collection accounts with validation request",bureau:"All",type:"Collection",successRate:75,avgImpact:35,steps:["Request debt validation","Prepare dispute letter","Submit to collection agency","Monitor credit report"]},{id:"3",name:"Identity Theft Dispute",description:"Comprehensive template for identity theft cases",bureau:"All",type:"Identity Theft",successRate:90,avgImpact:50,steps:["File police report","Submit identity theft affidavit","Notify all credit bureaus","Place fraud alerts"]}];function fC(t){switch(t){case"In Progress":return a.jsx(xc,{className:"w-4 h-4 text-blue-500"});case"Resolved":return a.jsx(f1,{className:"w-4 h-4 text-green-500"});case"Submitted":return a.jsx(xc,{className:"w-4 h-4 text-yellow-500"});case"Draft":return a.jsx(_W,{className:"w-4 h-4 text-gray-500"});case"Rejected":return a.jsx(Jn,{className:"w-4 h-4 text-red-500"});default:return null}}function yse(){const[t,e]=y.useState(!0),[n,r]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState({...Ou}),[p,g]=y.useState(""),[v,b]=y.useState(null),[T,_]=y.useState([]),[x,N]=y.useState(1),[R,P]=y.useState(!1),[O,S]=y.useState({status:"",bureau:"",priority:"",dateRange:"all"}),[E,C]=y.useState(!1);y.useEffect(()=>{setTimeout(()=>{r([]),e(!1)},1200)},[]);const A=n.filter(F=>{const ee=F.client.toLowerCase().includes(s.toLowerCase())||F.creditor.toLowerCase().includes(s.toLowerCase())||F.type.toLowerCase().includes(s.toLowerCase()),ve=(!O.status||F.status===O.status)&&(!O.bureau||F.bureau===O.bureau)&&(!O.priority||F.priority===O.priority)&&(O.dateRange==="all"||O.dateRange==="week"&&new Date(F.lastUpdated)>new Date(Date.now()-7*24*60*60*1e3)||O.dateRange==="month"&&new Date(F.lastUpdated)>new Date(Date.now()-30*24*60*60*1e3));return ee&&ve}),M=Math.ceil(A.length/Du),D=A.slice((x-1)*Du,x*Du),k=D.length>0&&D.every(F=>T.includes(F.id));function oe(F){if(F.preventDefault(),!d.client.trim()||!d.creditor.trim()||!d.type.trim()){g("Client, Creditor, and Type are required."),ut.error("Client, Creditor, and Type are required.");return}const ee=new Date().toISOString().split("T")[0],ve={...d,id:d.id||Math.random().toString(36).substr(2,9),lastUpdated:ee,submitted:d.status==="Draft"?"":d.submitted||ee};v!==null?(r(G=>G.map((Te,Se)=>Se===v?ve:Te)),ut.success("Dispute updated!")):(r([ve,...n]),ut.success("Dispute added!")),u(!1),f({...Ou}),g(""),b(null)}function Ce(F,ee){f(F),b(ee),u(!0)}function $e(F,ee){_(ve=>ee?[...ve,F]:ve.filter(G=>G!==F))}function ke(F){_(F?D.map(ee=>ee.id):T.filter(ee=>!D.map(ve=>ve.id).includes(ee)))}function V(){r(F=>F.filter(ee=>!T.includes(ee.id))),_([]),ut.success("Selected disputes deleted!")}const Y=F=>{const ee=[{date:F.submitted,action:"Dispute Submitted",status:"completed"},{date:new Date(F.submitted).getTime()+6048e5,action:"Bureau Acknowledgment",status:"completed"},{date:new Date(F.submitted).getTime()+2592e6,action:"Investigation Complete",status:F.status==="Resolved"?"completed":"pending"},{date:new Date(F.submitted).getTime()+3888e6,action:"Results Updated",status:"pending"}];return a.jsx("div",{className:"space-y-4",children:ee.map((ve,G)=>a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${ve.status==="completed"?"bg-green-500":"bg-gray-300"}`}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve.action}),a.jsx("div",{className:"text-sm text-gray-500",children:new Date(ve.date).toLocaleDateString()})]})]},G))})};return a.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Disputes"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track credit dispute cases"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(jv,{size:20}),"New Dispute"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Active Disputes"}),a.jsx("h3",{className:"text-2xl font-bold mt-1",children:n.filter(F=>F.status==="In Progress").length})]}),a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:a.jsx(hi,{size:24})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[a.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[a.jsx(Qf,{size:16}),"12%"]}),a.jsx("span",{className:"text-sm text-gray-600",children:"vs last month"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsx("h3",{className:"text-2xl font-bold mt-1",children:"78%"})]}),a.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:a.jsx(bc,{size:24})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[a.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[a.jsx(Qf,{size:16}),"5%"]}),a.jsx("span",{className:"text-sm text-gray-600",children:"vs last month"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Resolution Time"}),a.jsx("h3",{className:"text-2xl font-bold mt-1",children:"32 days"})]}),a.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:a.jsx(xc,{size:24})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[a.jsxs("span",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(Qf,{size:16}),"3 days"]}),a.jsx("span",{className:"text-sm text-gray-600",children:"vs last month"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Credit Score Impact"}),a.jsx("h3",{className:"text-2xl font-bold mt-1",children:"+45 pts"})]}),a.jsx("div",{className:"p-3 bg-orange-50 rounded-lg",children:a.jsx(oh,{size:24})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[a.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[a.jsx(Qf,{size:16}),"8 pts"]}),a.jsx("span",{className:"text-sm text-gray-600",children:"vs last month"})]})]})]}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx(hi,{size:20}),"Use Template"]}),a.jsxs("button",{onClick:()=>P(!R),className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx(EW,{size:20}),"Filters",R?a.jsx(fW,{size:20}):a.jsx(AR,{size:20})]})]})]}),a.jsx(nn,{children:R&&a.jsx(se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-white rounded-xl p-4 mb-6 shadow-sm border border-gray-100 overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:O.status,onChange:F=>S(ee=>({...ee,status:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Submitted",children:"Submitted"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bureau"}),a.jsxs("select",{value:O.bureau,onChange:F=>S(ee=>({...ee,bureau:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"All Bureaus"}),a.jsx("option",{value:"Experian",children:"Experian"}),a.jsx("option",{value:"Equifax",children:"Equifax"}),a.jsx("option",{value:"TransUnion",children:"TransUnion"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:O.priority,onChange:F=>S(ee=>({...ee,priority:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),a.jsxs("select",{value:O.dateRange,onChange:F=>S(ee=>({...ee,dateRange:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"week",children:"Last 7 Days"}),a.jsx("option",{value:"month",children:"Last 30 Days"})]})]})]})})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Bh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search disputes...",value:s,onChange:F=>i(F.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[T.length," selected"]}),a.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[a.jsx(fi,{size:20}),"Delete Selected"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[a.jsx("th",{className:"px-6 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:k,onChange:F=>ke(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creditor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bureau"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:t?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-4",children:a.jsx("div",{className:"animate-pulse flex space-x-4",children:a.jsx("div",{className:"flex-1 space-y-4 py-1",children:[...Array(5)].map((F,ee)=>a.jsx("div",{className:"h-12 bg-gray-100 rounded"},ee))})})})}):D.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"No disputes found"})}):D.map((F,ee)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("input",{type:"checkbox",checked:T.includes(F.id),onChange:ve=>$e(F.id,ve.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:F.client.charAt(0)}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:F.client}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",F.id]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:F.type})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:F.creditor}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:F.bureau}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.status==="Resolved"?"bg-green-100 text-green-800":F.status==="In Progress"?"bg-blue-100 text-blue-800":F.status==="Rejected"?"bg-red-100 text-red-800":F.status==="Submitted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[fC(F.status),F.status]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.priority==="High"?"bg-red-100 text-red-800":F.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:F.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F.lastUpdated}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>l(F),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(Ni,{size:20})}),a.jsx("button",{onClick:()=>Ce(F,ee),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(Fg,{size:20})}),a.jsx("button",{onClick:()=>{r(n.filter(ve=>ve.id!==F.id)),ut.success("Dispute deleted!")},className:"p-1 text-gray-400 hover:text-red-600",children:a.jsx(fi,{size:20})})]})})]},F.id))})]})}),!t&&D.length>0&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(x-1)*Du+1," to ",Math.min(x*Du,A.length)," of ",A.length," disputes"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>N(F=>Math.max(1,F-1)),disabled:x===1,className:"px-3 py-1 rounded-lg border border-gray-200 text-sm disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>N(F=>Math.min(M,F+1)),disabled:x===M,className:"px-3 py-1 rounded-lg border border-gray-200 text-sm disabled:opacity-50",children:"Next"})]})]})]}),a.jsx(nn,{children:o&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dispute Details"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["ID: ",o.id]})]}),a.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sn,{size:20})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Client"}),a.jsx("p",{className:"text-gray-900",children:o.client})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Type"}),a.jsx("p",{className:"text-gray-900",children:o.type})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Creditor"}),a.jsx("p",{className:"text-gray-900",children:o.creditor})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Bureau"}),a.jsx("p",{className:"text-gray-900",children:o.bureau})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="Resolved"?"bg-green-100 text-green-800":o.status==="In Progress"?"bg-blue-100 text-blue-800":o.status==="Rejected"?"bg-red-100 text-red-800":o.status==="Submitted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[fC(o.status),o.status]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Priority"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.priority==="High"?"bg-red-100 text-red-800":o.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:o.priority})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Timeline"}),a.jsx("div",{className:"space-y-4",children:Y(o)})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-900",children:o.notes})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Next Action"}),a.jsx("p",{className:"text-gray-900",children:o.nextAction})]})]})})})}),a.jsx(nn,{children:c&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:oe,className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:v!==null?"Edit Dispute":"New Dispute"}),a.jsx("p",{className:"text-gray-600 mt-1",children:v!==null?"Update dispute details":"Create a new dispute case"})]}),a.jsx("button",{type:"button",onClick:()=>{u(!1),f({...Ou}),g(""),b(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sn,{size:20})})]}),p&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg",children:p}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),a.jsx("input",{type:"text",value:d.client,onChange:F=>f(ee=>({...ee,client:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:d.type,onChange:F=>f(ee=>({...ee,type:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"Late Payment",children:"Late Payment"}),a.jsx("option",{value:"Collection Account",children:"Collection Account"}),a.jsx("option",{value:"Credit Utilization",children:"Credit Utilization"}),a.jsx("option",{value:"Identity Theft",children:"Identity Theft"}),a.jsx("option",{value:"Duplicate Account",children:"Duplicate Account"}),a.jsx("option",{value:"Inquiry Removal",children:"Inquiry Removal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creditor"}),a.jsx("input",{type:"text",value:d.creditor,onChange:F=>f(ee=>({...ee,creditor:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter creditor name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bureau"}),a.jsxs("select",{value:d.bureau,onChange:F=>f(ee=>({...ee,bureau:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Experian",children:"Experian"}),a.jsx("option",{value:"Equifax",children:"Equifax"}),a.jsx("option",{value:"TransUnion",children:"TransUnion"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:d.status,onChange:F=>f(ee=>({...ee,status:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Submitted",children:"Submitted"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:d.priority,onChange:F=>f(ee=>({...ee,priority:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:d.notes,onChange:F=>f(ee=>({...ee,notes:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter dispute notes"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Action"}),a.jsx("input",{type:"text",value:d.nextAction,onChange:F=>f(ee=>({...ee,nextAction:F.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter next action"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{u(!1),f({...Ou}),g(""),b(null)},className:"px-4 py-2 text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:v!==null?"Update Dispute":"Create Dispute"})]})]})})})}),a.jsx(nn,{children:E&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dispute Templates"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Choose a template to start a new dispute"})]}),a.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sn,{size:20})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:gse.map(F=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-500 transition-colors cursor-pointer",onClick:()=>{f({...Ou,type:F.type,notes:F.description,nextAction:F.steps[0]}),C(!1),u(!0)},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:F.name}),a.jsx("span",{className:"text-sm text-gray-500",children:F.bureau})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:F.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(bc,{size:16}),F.successRate,"% Success"]}),a.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[a.jsx(oh,{size:16}),"+",F.avgImpact," pts"]})]})]},F.id))})]})})})})]})}const xse=[{id:"1",title:"Follow up with John Doe",type:"Client Call",priority:"High",status:"Pending",dueDate:"2024-03-20",assignedTo:"Mike D",client:"John Doe",notes:"Discuss credit report updates"},{id:"2",title:"Send dispute letter",type:"Document",priority:"Medium",status:"In Progress",dueDate:"2024-03-21",assignedTo:"Mike D",client:"Jane Smith",notes:"Prepare and send dispute letter to Experian"},{id:"3",title:"Review credit report",type:"Review",priority:"High",status:"Completed",dueDate:"2024-03-19",assignedTo:"Mike D",client:"Sarah Lee",notes:"Analyze recent credit report changes"},{id:"4",title:"Schedule consultation",type:"Appointment",priority:"Medium",status:"Pending",dueDate:"2024-03-22",assignedTo:"Mike D",client:"Mike D",notes:"Set up initial consultation call"}],Mu={id:"",title:"",type:"",priority:"Medium",status:"Pending",dueDate:"",assignedTo:"Mike D",client:"",notes:""},Lu=10;function vse(){const[t,e]=y.useState(!0),[n,r]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState({...Mu}),[p,g]=y.useState(""),[v,b]=y.useState(null),[T,_]=y.useState([]),[x,N]=y.useState(1),[R,P]=y.useState("all");y.useEffect(()=>{setTimeout(()=>{r(xse),e(!1)},1200)},[]);const O=n.filter(V=>{const Y=V.title.toLowerCase().includes(s.toLowerCase())||V.client.toLowerCase().includes(s.toLowerCase())||V.type.toLowerCase().includes(s.toLowerCase()),F=R==="all"||R==="pending"&&V.status==="Pending"||R==="in-progress"&&V.status==="In Progress"||R==="completed"&&V.status==="Completed";return Y&&F}),S=Math.ceil(O.length/Lu),E=O.slice((x-1)*Lu,x*Lu),C=E.length>0&&E.every(V=>T.includes(V.id));function A(V){if(V.preventDefault(),!d.title.trim()||!d.client.trim()||!d.dueDate){g("Title, Client, and Due Date are required."),ut.error("Title, Client, and Due Date are required.");return}v!==null?(r(Y=>Y.map((F,ee)=>ee===v?{...d}:F)),ut.success("Task updated!")):(r([{...d,id:Math.random().toString(36).substr(2,9)},...n]),ut.success("Task added!")),u(!1),f({...Mu}),g(""),b(null)}function M(V,Y){f(V),b(Y),u(!0)}function D(V,Y){_(F=>Y?[...F,V]:F.filter(ee=>ee!==V))}function k(V){_(V?E.map(Y=>Y.id):T.filter(Y=>!E.map(F=>F.id).includes(Y)))}function oe(){r(V=>V.filter(Y=>!T.includes(Y.id))),_([]),ut.success("Selected tasks deleted!")}function Ce(V){switch(V){case"In Progress":return a.jsx(xc,{className:"w-4 h-4 text-blue-500"});case"Completed":return a.jsx(f1,{className:"w-4 h-4 text-green-500"});case"Pending":return a.jsx(Jn,{className:"w-4 h-4 text-yellow-500"});default:return null}}function $e(V){switch(V){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}}function ke(V){return new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return a.jsx(nn,{mode:"wait",children:a.jsxs(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Task & Calendar Management"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"Create, track, and manage all your tasks and deadlines"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base w-full sm:w-auto",onClick:()=>{u(!0),b(null),f({...Mu})},children:[a.jsx(mW,{className:"w-5 h-5"})," New Task"]})]}),a.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[a.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Bh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search tasks...",value:s,onChange:V=>i(V.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T.length>0&&a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[T.length," selected"]}),a.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 bg-white text-red-600 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-sm font-medium shadow-none",children:[a.jsx(fi,{size:20}),"Delete Selected"]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:["all","pending","in-progress","completed"].map(V=>a.jsx("button",{className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-base font-semibold border transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-indigo-400 ${R===V?"bg-indigo-600 text-white border-indigo-600 shadow":"bg-white text-gray-700 border-gray-200 hover:bg-indigo-50 hover:border-indigo-400"}`,onClick:()=>P(V),children:V.charAt(0).toUpperCase()+V.slice(1).replace("-"," ")},V))})]}),a.jsx(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[a.jsx("th",{className:"px-6 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:C,onChange:V=>k(V.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:t?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4",children:a.jsx("div",{className:"animate-pulse flex space-x-4",children:a.jsx("div",{className:"flex-1 space-y-4 py-1",children:[...Array(5)].map((V,Y)=>a.jsx("div",{className:"h-12 bg-gray-100 rounded"},Y))})})})}):E.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"No tasks found"})}):E.map((V,Y)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("input",{type:"checkbox",checked:T.includes(V.id),onChange:F=>D(V.id,F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:V.title.charAt(0)}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:V.title}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",V.id]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:V.type})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:V.client}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V.status==="Completed"?"bg-green-100 text-green-800":V.status==="In Progress"?"bg-blue-100 text-blue-800":V.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[Ce(V.status),V.status]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V.priority==="High"?"bg-red-100 text-red-800":V.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:V.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:V.dueDate}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>l(V),className:"text-blue-600 hover:text-blue-800",children:a.jsx(Ni,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>M(V,Y),className:"text-yellow-600 hover:text-yellow-800",children:a.jsx(Fg,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{r(n.filter(F=>F.id!==V.id)),ut.success("Task deleted!")},className:"text-red-600 hover:text-red-800",children:a.jsx(fi,{className:"w-4 h-4"})})]})})]},V.id))})]})}),!t&&E.length>0&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(x-1)*Lu+1," to ",Math.min(x*Lu,O.length)," of ",O.length," tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>N(V=>Math.max(1,V-1)),disabled:x===1,className:"px-3 py-1 rounded-lg border border-gray-200 text-sm disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>N(V=>Math.min(S,V+1)),disabled:x===S,className:"px-3 py-1 rounded-lg border border-gray-200 text-sm disabled:opacity-50",children:"Next"})]})]})]})}),o&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4",children:a.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o.title}),a.jsx("button",{onClick:()=>l(null),className:"p-2 rounded-lg hover:bg-gray-100",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Title"}),a.jsx("div",{className:"font-semibold text-gray-900",children:o.title})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Type"}),a.jsx("div",{className:"text-gray-700",children:o.type})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Client"}),a.jsx("div",{className:"text-gray-700",children:o.client})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-1",children:[Ce(o.status),a.jsx("span",{className:"text-gray-700",children:o.status})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Priority"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${$e(o.priority)}`,children:o.priority})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Due Date"}),a.jsx("div",{className:"text-gray-500",children:ke(o.dueDate)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Assigned To"}),a.jsx("div",{className:"text-gray-700",children:o.assignedTo})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Notes"}),a.jsx("div",{className:"text-gray-700",children:o.notes})]})]})]})}),c&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4",children:a.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:v!==null?"Edit Task":"New Task"}),a.jsx("button",{onClick:()=>{u(!1),b(null),f({...Mu})},className:"p-2 rounded-lg hover:bg-gray-100",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("form",{className:"p-6 space-y-4 flex-1 overflow-y-auto",onSubmit:A,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Title *"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 text-sm",value:d.title,onChange:V=>f(Y=>({...Y,title:V.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Type *"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:d.type,onChange:V=>f(Y=>({...Y,type:V.target.value})),required:!0,children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"Client Call",children:"Client Call"}),a.jsx("option",{value:"Document",children:"Document"}),a.jsx("option",{value:"Review",children:"Review"}),a.jsx("option",{value:"Appointment",children:"Appointment"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Client *"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 text-sm",value:d.client,onChange:V=>f(Y=>({...Y,client:V.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Status"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:d.status,onChange:V=>f(Y=>({...Y,status:V.target.value})),children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Priority"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:d.priority,onChange:V=>f(Y=>({...Y,priority:V.target.value})),children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Due Date *"}),a.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:d.dueDate,onChange:V=>f(Y=>({...Y,dueDate:V.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Notes"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm",value:d.notes,onChange:V=>f(Y=>({...Y,notes:V.target.value}))})]}),p&&a.jsx("div",{className:"text-xs text-red-500",children:p})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{u(!1),b(null),f({...Mu})},className:"px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700",children:v!==null?"Save Changes":"Create Task"})]})]})})]},"tasks-page")})}const cp={id:"",client:"",amount:0,type:"Credit Card",status:"Pending",date:"",reference:"",notes:""},Q0=10;function wse(){const[t,e]=y.useState(!0),[n,r]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState({...cp}),[p,g]=y.useState(""),[v,b]=y.useState(null),[T,_]=y.useState(1),[x,N]=y.useState("all");y.useEffect(()=>{setTimeout(()=>{r([]),e(!1)},1200)},[]);const R=n.filter(k=>{const oe=k.client.toLowerCase().includes(s.toLowerCase())||k.reference.toLowerCase().includes(s.toLowerCase())||k.type.toLowerCase().includes(s.toLowerCase()),Ce=x==="all"||x==="completed"&&k.status==="Completed"||x==="pending"&&k.status==="Pending"||x==="failed"&&k.status==="Failed";return oe&&Ce}),P=Math.ceil(R.length/Q0),O=R.slice((T-1)*Q0,T*Q0);function S(k){if(k.preventDefault(),!d.client.trim()||!d.amount||!d.date){g("Client, Amount, and Date are required."),ut.error("Client, Amount, and Date are required.");return}if(v!==null)r(oe=>oe.map((Ce,$e)=>$e===v?{...d}:Ce)),ut.success("Payment updated!");else{const oe={...d,id:Math.random().toString(36).substr(2,9),reference:`PAY-${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`};r([oe,...n]),ut.success("Payment added!")}u(!1),f({...cp}),g(""),b(null)}function E(k){switch(k){case"Completed":return a.jsx(f1,{className:"w-4 h-4 text-green-500"});case"Pending":return a.jsx(Jn,{className:"w-4 h-4 text-yellow-500"});case"Failed":return a.jsx(Jn,{className:"w-4 h-4 text-red-500"});default:return null}}function C(k){switch(k){case"Credit Card":return a.jsx(vc,{className:"w-4 h-4 text-indigo-500"});case"Bank Transfer":return a.jsx(cW,{className:"w-4 h-4 text-green-500"});default:return a.jsx(wc,{className:"w-4 h-4 text-gray-500"})}}function A(k){return new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function M(k){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k)}function D(k){switch(k){case"paid":case"Paid":return"bg-green-100 text-green-800";case"pending":case"Pending":return"bg-yellow-100 text-yellow-800";case"failed":case"Failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}return a.jsx(nn,{mode:"wait",children:a.jsxs(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Payments & Billing"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"View payment history, manage invoices, and update payment methods"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base w-full sm:w-auto",onClick:()=>u(!0),children:[a.jsx(Nm,{className:"w-5 h-5"})," New Payment"]})]}),a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-2",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("input",{className:"w-full pl-10 pr-3 py-2 rounded-lg border border-gray-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none text-base bg-white shadow-sm placeholder-gray-400",placeholder:"Search payments...",value:s,onChange:k=>i(k.target.value)}),a.jsx(Bh,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["all","paid","pending","failed"].map(k=>a.jsx("button",{className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-base font-semibold border transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-indigo-400 ${x===k?"bg-indigo-600 text-white border-indigo-600 shadow":"bg-white text-gray-700 border-gray-200 hover:bg-indigo-50 hover:border-indigo-400"}`,onClick:()=>N(k),children:k.charAt(0).toUpperCase()+k.slice(1)},k))})]}),a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:[t?a.jsx("div",{className:"space-y-4 p-6",children:[...Array(6)].map((k,oe)=>a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1+oe*.07,duration:.4},className:"h-12 w-full rounded-lg relative overflow-hidden bg-gray-100",style:{position:"relative"},children:a.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%)",backgroundSize:"400px 100%",animation:"shimmer 1.2s infinite"}})},oe))}):O.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[a.jsx(vc,{className:"w-16 h-16 text-indigo-200 mb-4"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-500 mb-2",children:"No payments found"}),a.jsx("div",{className:"text-gray-400 mb-6",children:"Add your first payment to get started."}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base",onClick:()=>u(!0),children:[a.jsx(Nm,{className:"w-5 h-5"})," New Payment"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(se.table,{className:"w-full text-base bg-white rounded-2xl shadow-xl",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-4 px-4 font-semibold tracking-wide",children:"Date"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Amount"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Status"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Method"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Actions"})]})}),a.jsx("tbody",{children:a.jsx(nn,{children:O.map((k,oe)=>a.jsxs(se.tr,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{delay:.05*oe,duration:.4},className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors group",children:[a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:A(k.date)}),a.jsxs("td",{className:"py-4 px-4 font-medium text-gray-900 whitespace-nowrap",children:["$",k.amount.toFixed(2)]}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${D(k.status)} shadow-sm`,children:k.status})}),a.jsx("td",{className:"py-4 px-4 text-gray-700 whitespace-nowrap",children:k.type}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 rounded hover:bg-indigo-100 focus:bg-indigo-200 transition shadow-sm",title:"View",onClick:()=>l(k),children:a.jsx(Ni,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("button",{className:"p-2 rounded hover:bg-red-100 focus:bg-red-200 transition shadow-sm",title:"Delete",onClick:()=>{r(Ce=>Ce.filter($e=>$e.id!==k.id)),ut.success("Payment deleted!")},children:a.jsx(fi,{className:"w-5 h-5 text-red-500"})})]})})]},k.id))})})]})}),!t&&P>1&&a.jsxs(se.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},className:"flex justify-center items-center gap-2 mt-8",children:[a.jsx("button",{className:"px-3 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 focus:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition",disabled:T===1,onClick:()=>_(k=>Math.max(1,k-1)),children:"Previous"}),a.jsxs("span",{className:"text-base text-gray-500",children:["Page ",T," of ",P]}),a.jsx("button",{className:"px-3 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 focus:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition",disabled:T===P,onClick:()=>_(k=>Math.min(P,k+1)),children:"Next"})]})]}),a.jsxs(nn,{children:[o&&a.jsxs(se.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full sm:w-[400px] bg-white shadow-2xl z-50 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("div",{className:"font-bold text-lg text-gray-900",children:"Payment Details"}),a.jsx("button",{onClick:()=>l(null),className:"p-2 rounded hover:bg-gray-100",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Client"}),a.jsx("div",{className:"font-semibold text-gray-900",children:o.client})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Amount"}),a.jsx("div",{className:"text-gray-700",children:M(o.amount)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Type"}),a.jsxs("div",{className:"flex items-center gap-1",children:[C(o.type),a.jsx("span",{className:"text-gray-700",children:o.type})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-1",children:[E(o.status),a.jsx("span",{className:"text-gray-700",children:o.status})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Date"}),a.jsx("div",{className:"text-gray-500",children:A(o.date)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Reference"}),a.jsx("div",{className:"text-gray-500",children:o.reference})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Notes"}),a.jsx("div",{className:"text-gray-700",children:o.notes})]})]})]}),c&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8 relative",children:[a.jsx("button",{onClick:()=>{u(!1),b(null),f({...cp})},className:"absolute top-4 right-4 p-2 rounded hover:bg-gray-100",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})}),a.jsx("div",{className:"font-bold text-lg text-gray-900 mb-4",children:v!==null?"Edit Payment":"Record Payment"}),a.jsxs("form",{className:"space-y-4",onSubmit:S,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Client *"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 text-sm",value:d.client,onChange:k=>f(oe=>({...oe,client:k.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Amount *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full border rounded px-3 py-2 text-sm",value:d.amount,onChange:k=>f(oe=>({...oe,amount:parseFloat(k.target.value)})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Type"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:d.type,onChange:k=>f(oe=>({...oe,type:k.target.value})),children:[a.jsx("option",{value:"Credit Card",children:"Credit Card"}),a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Status"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:d.status,onChange:k=>f(oe=>({...oe,status:k.target.value})),children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Failed",children:"Failed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date *"}),a.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:d.date,onChange:k=>f(oe=>({...oe,date:k.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Notes"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm",value:d.notes,onChange:k=>f(oe=>({...oe,notes:k.target.value}))})]}),p&&a.jsx("div",{className:"text-xs text-red-500",children:p}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition",onClick:()=>{u(!1),b(null),f({...cp})},children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition",children:v!==null?"Save Changes":"Record Payment"})]})]})]})})]})]},"payments-page")})}const ua=class ua{constructor(){mt(this,"notificationPermission","default");this.initialize()}static getInstance(){return ua.instance||(ua.instance=new ua),ua.instance}async initialize(){"Notification"in window&&(this.notificationPermission=await Notification.requestPermission())}async requestPermission(){"Notification"in window&&(this.notificationPermission=await Notification.requestPermission())}showTaskNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("New Task Assigned",{body:`You have been assigned to: ${e.title}`,icon:"/logo.png"}),et.success(`New task assigned: ${e.title}`)}showTaskDueNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("Task Due Soon",{body:`Task "${e.title}" is due soon`,icon:"/logo.png"}),et(`Task due soon: ${e.title}`,{icon:""})}showTaskCompletedNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("Task Completed",{body:`Task "${e.title}" has been completed`,icon:"/logo.png"}),et.success(`Task completed: ${e.title}`)}showTaskBlockedNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("Task Blocked",{body:`Task "${e.title}" is blocked by dependencies`,icon:"/logo.png"}),et.error(`Task blocked: ${e.title}`)}showTaskCommentNotification(e,n){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("New Task Comment",{body:`${n} commented on task "${e.title}"`,icon:"/logo.png"}),et(`New comment on task: ${e.title}`,{icon:""})}showFileUploadNotification(e,n){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("File Uploaded",{body:`File "${e}" (${n}) has been uploaded successfully`,icon:"/logo.png"}),et.success(`File "${e}" uploaded successfully`)}};mt(ua,"instance");let yw=ua;const bse=yw.getInstance(),Vu=10;function _se(){const[t,e]=y.useState(!0),[n,r]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState({id:"",name:"",type:"PDF",category:"",client:"",uploaded:"",size:"",status:"Pending",notes:"",url:""}),[p,g]=y.useState(""),[v,b]=y.useState(null),[T,_]=y.useState([]),[x,N]=y.useState(1),[R,P]=y.useState(!1),[O,S]=y.useState(""),[E,C]=y.useState(""),A=y.useRef(null);y.useEffect(()=>{(async()=>{e(!0);const Te=await xn(Dt(it,"documents"));r(Te.docs.map(Se=>({id:Se.id,...Se.data()}))),e(!1)})()},[]);const M=n.filter(G=>G.name.toLowerCase().includes(s.toLowerCase())||G.client.toLowerCase().includes(s.toLowerCase())||G.category.toLowerCase().includes(s.toLowerCase())),D=Math.ceil(M.length/Vu),k=M.slice((x-1)*Vu,x*Vu),oe=async G=>{if(!G)return;const Te=Array.from(G).map(Se=>{var Rn;const bt=`${(Se.size/1048576).toFixed(1)} MB`,Ft={id:Math.random().toString(36).substr(2,9),name:Se.name,type:Se.type.includes("pdf")?"PDF":Se.type.includes("image")?"JPG":((Rn=Se.type.split("/")[1])==null?void 0:Rn.toUpperCase())||"FILE",category:E||"Uncategorized",client:O||"Unassigned",uploaded:"just now",size:bt,status:"Pending",notes:"",url:URL.createObjectURL(Se),file:Se};return bse.showFileUploadNotification(Se.name,bt),Ft});r(Se=>[...Te,...Se]),S(""),C("")},Ce=G=>{G.preventDefault(),G.stopPropagation(),G.type==="dragenter"||G.type==="dragover"?P(!0):G.type==="dragleave"&&P(!1)},$e=G=>{G.preventDefault(),G.stopPropagation(),P(!1),G.dataTransfer.files&&G.dataTransfer.files.length>0&&oe(G.dataTransfer.files)};async function ke(G){if(G.preventDefault(),!d.name.trim()||!d.client.trim()||!d.category.trim()){g("Name, Client, and Category are required."),ut.error("Name, Client, and Category are required.");return}if(v!==null&&o)await w_(za(it,"documents",o.id),d),r(Te=>Te.map(Se=>Se.id===o.id?{...d,id:o.id}:Se)),ut.success("Document updated!");else{const Te=await SD(Dt(it,"documents"),d);r(Se=>[{...d,id:Te.id},...Se]),ut.success("Document added!")}u(!1),f({id:"",name:"",type:"PDF",category:"",client:"",uploaded:"",size:"",status:"Pending",notes:"",url:""}),g(""),b(null),l(null)}function V(G,Te){f(G),b(Te),l(G),u(!0)}function Y(G,Te){_(Se=>Te?[...Se,G]:Se.filter(bt=>bt!==G))}function F(G){_(G?k.map(Te=>Te.id):T.filter(Te=>!k.map(Se=>Se.id).includes(Te)))}function ee(G){switch(G){case"PDF":return a.jsx(hi,{className:"w-4 h-4 text-red-500"});case"DOCX":return a.jsx(bW,{className:"w-4 h-4 text-blue-500"});case"JPG":case"PNG":return a.jsx(vW,{className:"w-4 h-4 text-green-500"});case"ZIP":case"RAR":return a.jsx(xW,{className:"w-4 h-4 text-yellow-500"});default:return a.jsx(RR,{className:"w-4 h-4 text-gray-500"})}}async function ve(G){await eJ(za(it,"documents",G)),r(Te=>Te.filter(Se=>Se.id!==G)),ut.success("Document deleted!")}return a.jsx(nn,{mode:"wait",children:a.jsxs(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Documents"})}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base w-full sm:w-auto",onClick:()=>u(!0),children:[a.jsx(Nm,{className:"w-5 h-5"})," Upload Document"]})]}),a.jsx(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-2",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx("input",{className:"w-full pl-10 pr-3 py-2 rounded-lg border border-gray-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none text-base bg-white shadow-sm placeholder-gray-400",placeholder:"Search documents...",value:s,onChange:G=>i(G.target.value)}),a.jsx(Bh,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]})}),a.jsx(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-xl shadow-sm overflow-hidden",children:t?a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((G,Te)=>a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},Te))})}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto w-24 h-24 text-gray-300",children:a.jsx(wW,{className:"w-full h-full"})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No documents"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Get started by uploading your first document."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx(Nm,{className:"w-5 h-5 mr-2"}),"Upload Document"]})})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsx("input",{type:"checkbox",checked:T.length===k.length,onChange:G=>F(G.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map((G,Te)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:T.includes(G.id),onChange:Se=>Y(G.id,Se.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:ee(G.type)}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),a.jsx("div",{className:"text-sm text-gray-500",children:G.size})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.category}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.client}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="Processed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:G.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>window.open(G.url,"_blank"),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Ni,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>V(G,Te),className:"text-blue-600 hover:text-blue-900",children:a.jsx(Fg,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>ve(G.id),className:"text-red-600 hover:text-red-900",children:a.jsx(fi,{className:"w-5 h-5"})})]})})]},G.id))})]})})}),n.length>0&&a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>N(G=>Math.max(1,G-1)),disabled:x===1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Previous"}),a.jsx("button",{onClick:()=>N(G=>Math.min(D,G+1)),disabled:x===D,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:(x-1)*Vu+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(x*Vu,M.length)})," of"," ",a.jsx("span",{className:"font-medium",children:M.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs("button",{onClick:()=>N(G=>Math.max(1,G-1)),disabled:x===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})]}),[...Array(D)].map((G,Te)=>a.jsx("button",{onClick:()=>N(Te+1),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${x===Te+1?"z-10 bg-indigo-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"}`,children:Te+1},Te)),a.jsxs("button",{onClick:()=>N(G=>Math.min(D,G+1)),disabled:x===D,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})]})]})})]})]}),c&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",children:a.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:a.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[a.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:a.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:()=>u(!1),children:[a.jsx("span",{className:"sr-only",children:"Close"}),a.jsx(sn,{className:"h-6 w-6"})]})}),a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:v!==null?"Edit Document":"Upload Document"}),a.jsx("div",{className:"mt-4",children:a.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",id:"name",value:d.name,onChange:G=>f({...d,name:G.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700",children:"Client"}),a.jsx("input",{type:"text",id:"client",value:d.client,onChange:G=>f({...d,client:G.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),a.jsx("input",{type:"text",id:"category",value:d.category,onChange:G=>f({...d,category:G.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),a.jsx("textarea",{id:"notes",value:d.notes,onChange:G=>f({...d,notes:G.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:p}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 sm:ml-3 sm:w-auto",children:v!==null?"Update":"Upload"}),a.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>u(!1),children:"Cancel"})]})]})})]})})]})})})}),a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:`mt-4 border-2 border-dashed rounded-lg p-8 text-center ${R?"border-indigo-500 bg-indigo-50":"border-gray-300"}`,onDragEnter:Ce,onDragLeave:Ce,onDragOver:Ce,onDrop:$e,children:[a.jsx("input",{ref:A,type:"file",multiple:!0,className:"hidden",onChange:G=>oe(G.target.files)}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(MW,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{var G;return(G=A.current)==null?void 0:G.click()},children:"Upload a file"})," ","or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOCX, JPG, PNG up to 10MB"})]})]})]},"documents-page")})}function Ese(){const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState({name:"",type:"Dispute",content:"",fields:[]}),[d,f]=y.useState(!1),[p,g]=y.useState({}),[v,b]=y.useState(null);function T(S){const E=S.match(/\[([^\]]+)\]/g)||[];return Array.from(new Set(E.map(C=>C.replace(/\[|\]/g,""))))}function _(S){S.preventDefault();const E=T(c.content);e(o!==null?C=>C.map((A,M)=>M===o?{...c,fields:E,id:A.id,created:A.created}:A):[{...c,fields:E,id:Math.random().toString(36).substr(2,9),created:new Date().toISOString().split("T")[0]},...t]),i(!1),u({name:"",type:"Dispute",content:"",fields:[]}),l(null)}function x(S,E){u({...S}),l(E),i(!0)}function N(S){e(E=>E.filter((C,A)=>A!==S))}function R(S){b(S);const E={};S.fields.forEach(C=>{E[C]=C+" Example"}),g(E),f(!0)}function P(S,E){let C=S;return Object.entries(E).forEach(([A,M])=>{C=C.replace(new RegExp(`\\[${A.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]`,"g"),M)}),C}function O(S,E){r(C=>[{id:Math.random().toString(36).substr(2,9),templateName:S.name,generatedFor:E["Client Name"]||"Unknown",date:new Date().toISOString().split("T")[0],preview:P(S.content,E).slice(0,60)+"..."},...C])}return a.jsx(nn,{mode:"wait",children:a.jsxs(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsxs(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Letter Templates"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"Create, manage, and use templates for dispute and goodwill letters"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base w-full sm:w-auto",onClick:()=>{i(!0),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},children:[a.jsx(jv,{className:"w-5 h-5"})," New Template"]})]}),a.jsx(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:t.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[a.jsx(hi,{className:"w-16 h-16 text-indigo-200 mb-4"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-500 mb-2",children:"No templates found"}),a.jsx("div",{className:"text-gray-400 mb-6",children:"Create your first template to get started."}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base",onClick:()=>{i(!0),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},children:[a.jsx(jv,{className:"w-5 h-5"})," New Template"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(se.table,{className:"w-full text-base bg-white rounded-2xl shadow-xl",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-4 px-4 font-semibold tracking-wide",children:"Name"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Type"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Fields"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Created"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Actions"})]})}),a.jsx("tbody",{children:a.jsx(nn,{children:t.map((S,E)=>a.jsxs(se.tr,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{delay:.05*E,duration:.4},className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors group",children:[a.jsx("td",{className:"py-4 px-4 font-medium text-gray-900 whitespace-nowrap",children:S.name}),a.jsx("td",{className:"py-4 px-4 text-gray-700 whitespace-nowrap",children:S.type}),a.jsx("td",{className:"py-4 px-4 text-gray-700 whitespace-nowrap",children:S.fields.length}),a.jsx("td",{className:"py-4 px-4 text-gray-500 whitespace-nowrap",children:S.created}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 rounded hover:bg-indigo-100 focus:bg-indigo-200 transition shadow-sm",title:"Preview",onClick:()=>R(S),children:a.jsx(Ni,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("button",{className:"p-2 rounded hover:bg-indigo-100 focus:bg-indigo-200 transition shadow-sm",title:"Edit",onClick:()=>x(S,E),children:a.jsx(Fg,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("button",{className:"p-2 rounded hover:bg-red-100 focus:bg-red-200 transition shadow-sm",title:"Delete",onClick:()=>N(E),children:a.jsx(fi,{className:"w-5 h-5 text-red-500"})})]})})]},S.id))})})]})})}),a.jsx(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Letter History"}),n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx(TW,{className:"w-12 h-12 text-indigo-200 mb-2"}),a.jsx("div",{className:"text-lg font-semibold text-gray-500 mb-2",children:"No letter history yet"}),a.jsx("div",{className:"text-gray-400",children:"Generated letters will appear here."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-base",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Template"}),a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Client"}),a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Date"}),a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Preview"})]})}),a.jsx("tbody",{children:n.map(S=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 text-gray-900 whitespace-nowrap",children:S.templateName}),a.jsx("td",{className:"py-3 px-4 text-gray-700 whitespace-nowrap",children:S.generatedFor}),a.jsx("td",{className:"py-3 px-4 text-gray-500 whitespace-nowrap",children:S.date}),a.jsx("td",{className:"py-3 px-4 text-gray-500 whitespace-pre-line max-w-xs truncate",children:S.preview})]},S.id))})]})})]})}),a.jsx(nn,{children:s&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl p-8 relative",children:[a.jsx("button",{onClick:()=>{i(!1),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},className:"absolute top-4 right-4 p-2 rounded hover:bg-gray-100",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})}),a.jsx("div",{className:"font-bold text-lg text-gray-900 mb-4",children:o!==null?"Edit Template":"New Template"}),a.jsxs("form",{className:"space-y-6",onSubmit:_,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name *"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 text-sm",value:c.name,onChange:S=>u(E=>({...E,name:S.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:c.type,onChange:S=>u(E=>({...E,type:S.target.value})),children:[a.jsx("option",{value:"Dispute",children:"Dispute"}),a.jsx("option",{value:"Goodwill",children:"Goodwill"}),a.jsx("option",{value:"Validation",children:"Validation"}),a.jsx("option",{value:"Identity Theft",children:"Identity Theft"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Content *"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm font-mono min-h-[120px]",value:c.content,onChange:S=>u(E=>({...E,content:S.target.value})),placeholder:`e.g. To Whom It May Concern,

I am writing to dispute...`,required:!0}),a.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Use [Field Name] for customizable fields (e.g., [Client Name], [Account Number])."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-white border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 transition-colors",onClick:()=>{i(!1),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition-colors",children:o!==null?"Save Changes":"Create Template"})]})]})]})})}),a.jsx(nn,{children:d&&v&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl p-8 relative",children:[a.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 p-2 rounded hover:bg-gray-100",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})}),a.jsx("div",{className:"font-bold text-lg text-gray-900 mb-4",children:"Letter Preview"}),a.jsx("div",{className:"mb-4",children:v.fields.map(S=>a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-xs font-semibold mb-1",children:S}),a.jsx("input",{className:"w-full border rounded px-2 py-1 text-sm",value:p[S]||"",onChange:E=>g(C=>({...C,[S]:E.target.value}))})]},S))}),a.jsx("div",{className:"bg-gray-50 border rounded p-4 font-mono whitespace-pre-wrap text-sm text-gray-800 mb-4 min-h-[120px]",children:P(v.content,p)}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition-colors",onClick:()=>{O(v,p),f(!1)},children:"Save to History"}),a.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition-colors",onClick:()=>f(!1),children:"Close"})]})]})})})]},"letter-templates-page")})}function Nse(){return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Marketing page is under construction."})})}function Tse(){return a.jsx(nn,{mode:"wait",children:a.jsxs(se.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsx(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Credit Tools"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"Access calculators, simulators, and resources to help clients improve credit"})]})}),a.jsx(se.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 shadow-sm border border-indigo-100",children:[a.jsx("h2",{className:"text-lg font-bold text-indigo-900 mb-2",children:"Credit Score Simulator"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Estimate how actions like paying down debt or removing negative items could impact a credit score."}),a.jsx("button",{className:"px-4 py-2 rounded bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition",children:"Try Simulator"})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-6 shadow-sm border border-green-100",children:[a.jsx("h2",{className:"text-lg font-bold text-green-900 mb-2",children:"Debt-to-Income Calculator"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Quickly calculate a client's debt-to-income ratio to assess creditworthiness."}),a.jsx("button",{className:"px-4 py-2 rounded bg-green-600 text-white font-semibold shadow hover:bg-green-700 focus:ring-2 focus:ring-green-400 focus:outline-none transition",children:"Use Calculator"})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-6 shadow-sm border border-yellow-100",children:[a.jsx("h2",{className:"text-lg font-bold text-yellow-900 mb-2",children:"Resource Library"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Access educational guides, sample letters, and credit improvement resources."}),a.jsx("button",{className:"px-4 py-2 rounded bg-yellow-500 text-white font-semibold shadow hover:bg-yellow-600 focus:ring-2 focus:ring-yellow-300 focus:outline-none transition",children:"Browse Resources"})]})]})})]},"credit-tools-page")})}const Sse=[{id:"profile",label:"Profile",icon:a.jsx(No,{className:"w-5 h-5"})},{id:"notifications",label:"Notifications",icon:a.jsx(lW,{className:"w-5 h-5"})},{id:"security",label:"Security",icon:a.jsx(y1,{className:"w-5 h-5"})},{id:"billing",label:"Billing",icon:a.jsx(vc,{className:"w-5 h-5"})},{id:"preferences",label:"Preferences",icon:a.jsx(NW,{className:"w-5 h-5"})},{id:"privacy",label:"Privacy",icon:a.jsx(Ja,{className:"w-5 h-5"})},{id:"help",label:"Help & Support",icon:a.jsx(g1,{className:"w-5 h-5"})}],jse=[{id:"basic",name:"Basic",price:29,description:"Perfect for individuals and small businesses",features:["Up to 50 clients","Basic dispute management","Email support","Standard templates","Basic analytics"],limitations:["No priority support","No custom branding","Limited API access"],popular:!1},{id:"pro",name:"Pro",price:49,description:"Ideal for growing businesses",features:["Up to 200 clients","Advanced dispute management","Priority email support","Custom templates","Advanced analytics","API access","Custom branding"],limitations:["No dedicated account manager","Limited automation"],popular:!0},{id:"enterprise",name:"Enterprise",price:99,description:"For large organizations with advanced needs",features:["Unlimited clients","Enterprise dispute management","24/7 priority support","Custom templates & workflows","Advanced analytics & reporting","Full API access","Custom branding & white-labeling","Dedicated account manager","Advanced automation","Custom integrations"],limitations:[],popular:!1}];function Cse({isOpen:t,onClose:e,currentPlan:n}){return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choose Your Plan"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Select the plan that best fits your needs"})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:jse.map(r=>a.jsxs("div",{className:`relative rounded-xl border ${r.popular?"border-indigo-500 shadow-lg":"border-gray-200"} p-6 flex flex-col`,children:[r.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-indigo-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",r.price]}),a.jsx("span",{className:"text-gray-500",children:"/month"})]}),a.jsx("p",{className:"text-gray-500 mt-2",children:r.description}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Features"}),a.jsx("ul",{className:"space-y-2",children:r.features.map((s,i)=>a.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(sh,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{children:s})]},i))})]}),r.limitations.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Limitations"}),a.jsx("ul",{className:"space-y-2",children:r.limitations.map((s,i)=>a.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(sn,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{children:s})]},i))})]})]})]}),a.jsx("button",{className:`mt-6 w-full py-2 px-4 rounded-lg font-medium transition-colors ${n===r.id?"bg-gray-100 text-gray-500 cursor-not-allowed":r.popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,disabled:n===r.id,children:n===r.id?"Current Plan":"Select Plan"})]},r.id))})})]})}):null}function kse({userData:t}){if(!t)return a.jsx("div",{children:"Loading..."});const[e,n]=y.useState("profile"),[r,s]=y.useState(!1),[i]=y.useState("pro"),o=Ss(),l=["admin","manager","user"],[c,u]=y.useState(t.id||""),[d,f]=y.useState(t.firstName||""),[p,g]=y.useState(t.lastName||""),[v,b]=y.useState(t.email||""),[T,_]=y.useState(!1),x=async()=>{_(!0);try{const N=za(it,"users",t.id||t.uid);await w_(N,{firstName:d,lastName:p,email:v}),ut.success("Profile updated!")}catch(N){ut.error("Failed to update profile: "+N.message)}finally{_(!1)}};return a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 p-6 max-w-[1400px] mx-auto",children:[a.jsxs("div",{className:"w-full md:w-72 bg-white rounded-xl shadow-sm border border-gray-100 p-4 flex flex-col justify-between min-h-[600px]",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 mb-6",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-3xl font-bold",children:d?d[0]:v[0]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[d," ",p]}),a.jsx("div",{className:"text-sm text-gray-500",children:v}),a.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 rounded-full text-xs bg-blue-50 text-blue-700 font-medium",children:[t.plan," Plan"]})]})]}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Settings"}),a.jsx("nav",{className:"space-y-1",children:Sse.map(N=>a.jsxs("button",{onClick:()=>n(N.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 ${e===N.id?"bg-gradient-to-r from-blue-500/10 to-blue-500/5 text-blue-700 font-semibold shadow":"text-gray-600 hover:bg-blue-50/50 hover:text-blue-600"}`,children:[a.jsx("span",{className:`${e===N.id?"text-blue-600":"text-gray-500"}`,children:N.icon}),a.jsx("span",{children:N.label})]},N.id))})]}),a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 mt-8 text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:()=>{o("/")},children:[a.jsx(OR,{size:20}),"Log Out"]})]}),a.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[600px]",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Account Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your profile, preferences, security, and more"})]}),a.jsxs("div",{children:[e==="profile"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-3xl font-bold",children:d?d[0]:v[0]}),a.jsx("button",{type:"button",className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Change Avatar"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),a.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",value:d,onChange:N=>f(N.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),a.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",value:p,onChange:N=>g(N.target.value)})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",value:v,onChange:N=>b(N.target.value)})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",onClick:x,disabled:T,children:T?"Saving...":"Save Changes"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}),t.role==="admin"&&a.jsx("div",{className:"mt-10 mb-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 flex flex-col gap-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-2 text-indigo-700 flex items-center gap-2",children:[a.jsx(pW,{className:"w-6 h-6 text-indigo-400"}),"Change User Role"]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),a.jsx("select",{value:c,onChange:N=>u(N.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-base bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:l.map(N=>a.jsx("option",{value:N,children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsx("select",{value:t.role,onChange:()=>{},className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-base bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:l.map(N=>a.jsx("option",{value:N,children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"h-12 w-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-xl font-bold",children:[d," ",p]}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[d," ",p]}),a.jsx("div",{className:"text-sm text-gray-500",children:v})]})]}),a.jsx("button",{className:"mt-4 w-full sm:w-auto px-6 py-2 rounded-lg bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base",onClick:()=>ut.success("User role updated!"),children:"Save Changes"})]}),a.jsx("span",{className:"text-xs text-gray-400",children:"Admins can change roles for any user in the organization."})]})})]}),e==="notifications"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notifications"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ih,{size:18})," Email Notifications"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary",defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(IW,{size:18})," SMS Notifications"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(PW,{size:18})," Push Notifications"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary"})]})]})]}),e==="security"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Change Password"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),e==="billing"&&a.jsxs("div",{className:"max-w-2xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing & Plans"}),a.jsx("button",{onClick:()=>s(!0),className:"mb-6 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Change Plan"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100 mb-4",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Current Plan"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-blue-50 text-blue-700 font-medium",children:t.plan}),a.jsx("span",{className:"text-gray-500",children:"$49/mo"})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vc,{size:20,className:"text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:"Visa ending in 1234"}),a.jsx("button",{className:"ml-auto px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Update"})]})]})]}),e==="preferences"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preferences"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(OW,{size:18})," Theme"]}),a.jsxs("select",{className:"rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{children:"System"}),a.jsx("option",{children:"Light"}),a.jsx("option",{children:"Dark"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(yW,{size:18})," Language"]}),a.jsxs("select",{className:"rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{children:"English"}),a.jsx("option",{children:"Spanish"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(sW,{size:18})," Accessibility"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary"})]})]})]}),e==="privacy"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Privacy & Data"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(PR,{size:18})," Export Data"]}),a.jsx("button",{className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Export"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(fi,{size:18})," Delete Account"]}),a.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})]}),e==="help"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Help & Support"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(g1,{size:18}),a.jsx("span",{children:"Need help? Contact our support team or browse the FAQ."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ih,{size:18}),a.jsx("span",{children:"support@credexispro.com"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(LR,{size:18}),a.jsx("span",{children:"Secure & Private"})]})]})]})]})]}),a.jsx(nn,{children:r&&a.jsx(Cse,{isOpen:r,onClose:()=>s(!1),currentPlan:i})})]})}function Ise(){const[t]=y.useState([]),[e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState(""),o=e.filter(l=>{const c=t.find(p=>p.id===String(l.clientId)),u=c?`${c.firstName} ${c.lastName}`:"",d=l.invoiceNumber.toLowerCase().includes(n.toLowerCase())||u.toLowerCase().includes(n.toLowerCase()),f=!s||l.status===s;return d&&f});return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-8 gap-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),a.jsx("button",{className:"px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 transition text-base",children:"New Invoice"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-6",children:[a.jsx("input",{className:"w-full max-w-xs px-4 py-2 rounded-lg border border-gray-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none text-sm bg-white",placeholder:"Search invoices or clients...",value:n,onChange:l=>r(l.target.value)}),a.jsxs("select",{className:"rounded-lg border border-gray-200 px-4 py-2 text-sm",value:s,onChange:l=>i(l.target.value),children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Sent",children:"Sent"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-x-auto",children:e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No invoices"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Get started by creating your first invoice."}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Invoice"})})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Invoice #"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Client"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Status"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Total"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Due Date"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Actions"})]})}),a.jsx("tbody",{children:o.map(l=>{const c=t.find(u=>u.id===String(l.clientId));return a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:l.invoiceNumber}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:c?`${c.firstName} ${c.lastName}`:""}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${l.status==="Paid"?"bg-green-100 text-green-800":l.status==="Overdue"?"bg-red-100 text-red-800":l.status==="Sent"?"bg-blue-100 text-blue-800":(l.status==="Draft","bg-gray-100 text-gray-800")}`,children:l.status})}),a.jsxs("td",{className:"py-3 px-4 text-gray-700",children:["$",l.total.toFixed(2)]}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:new Date(l.dueDate).toLocaleDateString()}),a.jsxs("td",{className:"py-3 px-4 flex gap-2",children:[a.jsx("button",{className:"text-indigo-500 hover:text-indigo-700",title:"View",children:"View"}),a.jsx("button",{className:"text-blue-500 hover:text-blue-700",title:"Edit",children:"Edit"}),a.jsx("button",{className:"text-red-500 hover:text-red-700",title:"Delete",children:"Delete"})]})]},l.id)})})]})})]})}const Ase=()=>a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Reports page is under construction."})}),I5=y.createContext(void 0);function Pse({children:t}){const[e,n]=y.useState([]),r=o=>{n(l=>[...l,{...o,sentAt:new Date().toISOString(),status:"pending"}])},s=o=>{n(l=>l.filter(c=>c.token!==o))},i=o=>e.find(l=>l.token===o);return a.jsx(I5.Provider,{value:{invites:e,addInvite:r,removeInvite:s,getInviteByToken:i},children:t})}function Rse(){const t=y.useContext(I5);if(!t)throw new Error("useInvites must be used within InviteProvider");return t}const pC=["admin","manager","user"],mC=["basic","pro","enterprise"],Ose=["active","suspended"],gC=["viewUsers","editUsers","deleteUsers","manageOrgs","viewBilling","manageInvites","viewAudit","manageRoles"],Dse={viewUsers:"View Users",editUsers:"Edit Users",deleteUsers:"Delete Users",manageOrgs:"Manage Organizations",viewBilling:"View Billing",manageInvites:"Manage Invites",viewAudit:"View Audit Logs",manageRoles:"Manage Roles"};function Z0(t,e,n,r){const s=[r.join(","),...e.map(l=>n.map(c=>{let u=l[c];return typeof u=="string"&&(u=u.replace(/"/g,'""'),(u.includes(",")||u.includes('"')||u.includes(`
`))&&(u=`"${u}"`)),u}).join(","))].join(`
`),i=new Blob([s],{type:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function Mse(){const{invites:t,addInvite:e,removeInvite:n}=Rse(),{setUser:r}=A_(),[s,i]=y.useState("users"),[o,l]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(""),[p,g]=y.useState(""),[v,b]=y.useState(null),[T,_]=y.useState(null),[x,N]=y.useState(null),[R,P]=y.useState(!1),[O,S]=y.useState(""),[E,C]=y.useState("user"),[A,M]=y.useState(""),[D,k]=y.useState("asc"),[oe,Ce]=y.useState(!1),[$e,ke]=y.useState(""),[V,Y]=y.useState(""),[F,ee]=y.useState([]),[ve,G]=y.useState([]),[Te,Se]=y.useState(1),[bt,Ft]=y.useState(10),[Rn,Gn]=y.useState(1),[On,Ye]=y.useState(10),[Tt,St]=y.useState(""),[ln,Is]=y.useState(""),[As,ll]=y.useState(""),[Ko,Ti]=y.useState(""),[L,$]=y.useState(""),[W,ie]=y.useState(""),[J,Z]=y.useState(""),[ae,je]=y.useState(""),[Be,Ht]=y.useState(""),[Ps,fr]=y.useState(""),[es,Rs]=y.useState(""),[Os,Si]=y.useState(""),[Yo,cl]=y.useState(""),[ji,tf]=y.useState(""),[tu,Ci]=y.useState(""),[ul,dl]=y.useState(""),[ts,nu]=y.useState(""),[Qo,ru]=y.useState(""),[ki,su]=y.useState(""),[Yt,nf]=y.useState([]),[Ii,Zo]=y.useState(""),[Cr,iu]=y.useState(null),[Kn,hl]=y.useState(!1),kr=o.flatMap(j=>j.members.map(re=>({...re,org:j.name,organizationId:j.id}))).filter(j=>{const re=j.name.toLowerCase().includes(c.toLowerCase())||j.email.toLowerCase().includes(c.toLowerCase()),be=Tt?j.status===Tt:!0,Xe=ln?j.role===ln:!0,ea=As?j.plan===As:!0;return re&&be&&Xe&&ea}),Ds=o.filter(j=>{const re=j.name.toLowerCase().includes(d.toLowerCase()),be=Ko?j.status===Ko:!0,Xe=L?j.plan===L:!0;return re&&be&&Xe}),fl=[],Ai=[],ns=[],rf=[],sf=[],ou=[],au=[],of=[],af=[],_y=[],pl=[],lf=(j,re,be)=>[...j].sort((Xe,ea)=>be==="asc"?Xe[re]>ea[re]?1:-1:Xe[re]<ea[re]?1:-1),Dn=j=>{A===j?k(D==="asc"?"desc":"asc"):(M(j),k("asc"))},rs=j=>A?lf(j,A,D):j,Ms=()=>{l(j=>j.map(re=>({...re,members:re.members.map(be=>be.id===v.id?{...be,...v}:be)}))),b(null),Yn("User updated successfully")},lu=()=>{l(j=>j.map(re=>re.id===T.id?{...re,...T}:re)),_(null),Yn("Organization updated successfully")},Ey=j=>{l(re=>re.map(be=>({...be,members:be.members.map(Xe=>Xe.id===j?{...Xe,status:Xe.status==="active"?"suspended":"active"}:Xe)}))),Yn("User status updated successfully")},cf=j=>{l(re=>re.map(be=>be.id===j?{...be,status:be.status==="active"?"suspended":"active"}:be)),Yn("Organization status updated successfully")},uf=j=>{window.confirm("Are you sure you want to delete this user?")&&(l(re=>re.map(be=>({...be,members:be.members.filter(Xe=>Xe.id!==j)}))),Yn("User deleted successfully"))},df=j=>{window.confirm("Are you sure you want to delete this organization?")&&(l(re=>re.filter(be=>be.id!==j)),Yn("Organization deleted successfully"))},Yn=j=>{ke(j),Ce(!0),setTimeout(()=>Ce(!1),3e3)},cu=j=>{j.preventDefault();const re={email:O,role:E,token:Math.random().toString(36).substring(7),org:V,sentAt:new Date().toISOString(),status:"pending",acceptedAt:null,expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};e(re),P(!1),S(""),C("member"),Yn("Invite sent successfully")},hf=j=>{Yn(`Invite resent to ${j.email}`)},ff=j=>{window.confirm(`Are you sure you want to revoke the invite for ${j.email}?`)&&(n(j.token),Yn(`Invite revoked for ${j.email}`))},ml=j=>new Date(j).toLocaleString(),pf=t.filter(j=>j.email.toLowerCase().includes(p.toLowerCase())||j.role.toLowerCase().includes(p.toLowerCase())||j.org.toLowerCase().includes(p.toLowerCase())),uu=j=>{j==="users"?ee(re=>re.length===kr.length?[]:kr.map(be=>be.id)):G(re=>re.length===Ds.length?[]:Ds.map(be=>be.id))},du=(j,re)=>{j==="users"?ee(be=>be.includes(re)?be.filter(Xe=>Xe!==re):[...be,re]):G(be=>be.includes(re)?be.filter(Xe=>Xe!==re):[...be,re])};function mf(j,re,be){const Xe=(re-1)*be;return j.slice(Xe,Xe+be)}const Ls=mf(rs(kr),Te,bt),Ir=mf(rs(Ds),Rn,On),Vs=Math.ceil(kr.length/bt),Fs=Math.ceil(Ds.length/On),gf=()=>{const j=["name","email","role","plan","status","org"],re=["Name","Email","Role","Plan","Status","Organization"];Z0("users.csv",rs(kr),j,re)},rt=()=>{const j=["name","plan","status"],re=["Name","Plan","Status"];Z0("organizations.csv",rs(Ds),j,re)},gl=()=>{window.confirm("Are you sure you want to revoke this session?")},Xo=()=>{Z0("audit_trails.csv",Ai,["timestamp","actor","eventType","resource","resourceId","ip","details"],["Timestamp","Actor","Event Type","Resource","Resource ID","IP Address","Details"])},Jo=(j,re)=>{nf(be=>be.map(Xe=>Xe.role===j?{...Xe,permissions:{...Xe.permissions,[re]:!Xe.permissions[re]}}:Xe))},Ny=j=>{Zo(j);const re=o.find(be=>be.id===j);iu(re?{...re}:null),hl(!1)},Pi=(j,re)=>{iu(be=>({...be,[j]:re}))},Ty=()=>{l(j=>j.map(re=>re.id===Cr.id?{...re,...Cr}:re)),hl(!1)},Sy=()=>{const j=o.find(re=>re.id===Ii);iu(j?{...j}:null),hl(!1)},yf=[];return a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Panel"}),oe&&a.jsx("div",{className:"fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded z-50",children:$e}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsx("button",{className:`px-4 py-2 rounded ${s==="users"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("users"),children:"Users"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="orgs"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("orgs"),children:"Organizations"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="invites"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("invites"),children:"Invites"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="activity"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("activity"),children:"Activity Logs"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="sessions"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("sessions"),children:"Sessions"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="audit"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("audit"),children:"Audit Trails"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="roles"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("roles"),children:"Role Permissions"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="orgSettings"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("orgSettings"),children:"Organization Settings"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="apiKeys"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("apiKeys"),children:"API Keys"})]}),s==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2 gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{type:"text",placeholder:"Search users...",value:c,onChange:j=>u(j.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:Tt,onChange:j=>St(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]}),a.jsxs("select",{value:ln,onChange:j=>Is(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Roles"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]}),a.jsxs("select",{value:As,onChange:j=>ll(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Plans"}),a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),(Tt||ln||As)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{St(""),Is(""),ll("")},children:"Clear Filters"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>P(!0),className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm",children:"Invite User"}),a.jsx("button",{className:"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200",onClick:gf,children:"Export CSV"})]})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:a.jsx("input",{type:"checkbox",checked:F.length===kr.length,onChange:()=>uu("users"),className:"rounded border-gray-300"})}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("name"),children:["Name ",A==="name"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("email"),children:["Email ",A==="email"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("org"),children:["Org ",A==="org"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("role"),children:["Role ",A==="role"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("plan"),children:["Plan ",A==="plan"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("status"),children:["Status ",A==="status"&&(D==="asc"?"":"")]}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:Ls.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"checkbox",checked:F.includes(j.id),onChange:()=>du("users",j.id),className:"rounded border-gray-300"})}),a.jsx("td",{className:"p-2",children:j.name}),a.jsx("td",{className:"p-2",children:j.email}),a.jsx("td",{className:"p-2",children:j.org}),a.jsx("td",{className:"p-2 capitalize",children:j.role}),a.jsx("td",{className:"p-2 capitalize",children:j.plan}),a.jsx("td",{className:"p-2 capitalize",children:j.status}),a.jsxs("td",{className:"p-2 flex gap-2",children:[a.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>b(j),children:"Edit"}),a.jsx("button",{className:"text-yellow-600 hover:underline",onClick:()=>r({id:j.id,email:j.email,name:j.name,role:j.role,organizationId:j.organizationId,plan:j.plan}),children:"Impersonate"}),a.jsx("button",{className:"text-gray-600 hover:underline",onClick:()=>Ey(j.id),children:j.status==="active"?"Suspend":"Activate"}),a.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>uf(j.id),children:"Delete"})]})]},j.id))})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm mr-2",children:"Rows per page:"}),a.jsx("select",{value:bt,onChange:j=>{Ft(Number(j.target.value)),Se(1)},className:"border rounded px-2 py-1 text-sm",children:[10,25,50].map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:Te===1,onClick:()=>Se(j=>Math.max(1,j-1)),children:"Prev"}),Array.from({length:Vs},(j,re)=>a.jsx("button",{className:`px-2 py-1 border rounded text-sm ${Te===re+1?"bg-indigo-100 font-bold":""}`,onClick:()=>Se(re+1),children:re+1},re)),a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:Te===Vs||Vs===0,onClick:()=>Se(j=>Math.min(Vs,j+1)),children:"Next"})]})]}),v&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit User"}),a.jsxs("form",{className:"space-y-4",onSubmit:j=>{j.preventDefault(),Ms()},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),a.jsx("input",{type:"text",value:v.name,className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),a.jsx("input",{type:"email",value:v.email,className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),a.jsx("select",{value:v.role,onChange:j=>b({...v,role:j.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:pC.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Plan"}),a.jsx("select",{value:v.plan,onChange:j=>b({...v,plan:j.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:mC.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>b(null),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})})]}),s==="orgs"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2 gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:j=>f(j.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:Ko,onChange:j=>Ti(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]}),a.jsxs("select",{value:L,onChange:j=>$(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Plans"}),a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),(Ko||L)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Ti(""),$("")},children:"Clear Filters"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{className:"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200",onClick:rt,children:"Export CSV"})})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:a.jsx("input",{type:"checkbox",checked:ve.length===Ds.length,onChange:()=>uu("orgs"),className:"rounded border-gray-300"})}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("name"),children:["Name ",A==="name"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("plan"),children:["Plan ",A==="plan"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("status"),children:["Status ",A==="status"&&(D==="asc"?"":"")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Dn("members"),children:["Members ",A==="members"&&(D==="asc"?"":"")]}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:Ir.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"checkbox",checked:ve.includes(j.id),onChange:()=>du("orgs",j.id),className:"rounded border-gray-300"})}),a.jsx("td",{className:"p-2",children:j.name}),a.jsx("td",{className:"p-2 capitalize",children:j.plan}),a.jsx("td",{className:"p-2 capitalize",children:j.status}),a.jsx("td",{className:"p-2",children:j.members.length}),a.jsxs("td",{className:"p-2 flex gap-2",children:[a.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>_(j),children:"Edit"}),a.jsx("button",{className:"text-indigo-600 hover:underline",onClick:()=>N(j.members),children:"View Members"}),a.jsx("button",{className:"text-gray-600 hover:underline",onClick:()=>cf(j.id),children:j.status==="active"?"Suspend":"Activate"}),a.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>df(j.id),children:"Delete"})]})]},j.id))})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm mr-2",children:"Rows per page:"}),a.jsx("select",{value:On,onChange:j=>{Ye(Number(j.target.value)),Gn(1)},className:"border rounded px-2 py-1 text-sm",children:[10,25,50].map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:Rn===1,onClick:()=>Gn(j=>Math.max(1,j-1)),children:"Prev"}),Array.from({length:Fs},(j,re)=>a.jsx("button",{className:`px-2 py-1 border rounded text-sm ${Rn===re+1?"bg-indigo-100 font-bold":""}`,onClick:()=>Gn(re+1),children:re+1},re)),a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:Rn===Fs||Fs===0,onClick:()=>Gn(j=>Math.min(Fs,j+1)),children:"Next"})]})]}),T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit Organization"}),a.jsxs("form",{className:"space-y-4",onSubmit:j=>{j.preventDefault(),lu()},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),a.jsx("input",{type:"text",value:T.name,className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Plan"}),a.jsx("select",{value:T.plan,onChange:j=>_({...T,plan:j.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:mC.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),a.jsx("select",{value:T.status,onChange:j=>_({...T,status:j.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:Ose.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>_(null),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Organization Members"}),a.jsx("ul",{className:"space-y-2",children:x.map(j=>a.jsxs("li",{className:"flex items-center gap-2 border-b pb-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:j.name}),a.jsx("span",{className:"text-xs text-gray-500",children:j.email}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-indigo-50 text-indigo-700 ml-auto",children:j.role})]},j.id))}),a.jsx("button",{onClick:()=>N(null),className:"mt-4 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"})]})})]}),s==="invites"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("input",{type:"text",placeholder:"Search invites...",value:p,onChange:j=>g(j.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsx("button",{onClick:()=>P(!0),className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm",children:"New Invite"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pending Invites"}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Email"}),a.jsx("th",{className:"p-2 text-left",children:"Role"}),a.jsx("th",{className:"p-2 text-left",children:"Organization"}),a.jsx("th",{className:"p-2 text-left",children:"Sent At"}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:pf.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:j.email}),a.jsx("td",{className:"p-2 capitalize",children:j.role}),a.jsx("td",{className:"p-2",children:j.org}),a.jsx("td",{className:"p-2",children:ml(j.sentAt||new Date().toISOString())}),a.jsxs("td",{className:"p-2 flex gap-2",children:[a.jsx("button",{onClick:()=>hf(j),className:"text-blue-600 hover:underline",children:"Resend"}),a.jsx("button",{onClick:()=>ff(j),className:"text-red-600 hover:underline",children:"Revoke"}),a.jsx("a",{href:`${window.location.origin}/invite/${j.token}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"View Link"})]})]},j.token))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Invite History"}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Email"}),a.jsx("th",{className:"p-2 text-left",children:"Role"}),a.jsx("th",{className:"p-2 text-left",children:"Organization"}),a.jsx("th",{className:"p-2 text-left",children:"Status"}),a.jsx("th",{className:"p-2 text-left",children:"Sent At"}),a.jsx("th",{className:"p-2 text-left",children:"Accepted/Expired At"})]})}),a.jsx("tbody",{children:pf.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:j.email}),a.jsx("td",{className:"p-2 capitalize",children:j.role}),a.jsx("td",{className:"p-2",children:j.org}),a.jsx("td",{className:"p-2",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${j.status==="accepted"?"bg-green-100 text-green-800":j.status==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:j.status})}),a.jsx("td",{className:"p-2",children:ml(j.sentAt)}),a.jsx("td",{className:"p-2",children:j.acceptedAt?ml(j.acceptedAt):j.expiresAt?ml(j.expiresAt):"-"})]},j.id))})]})]})]}),s==="activity"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search activity logs...",value:W,onChange:j=>ie(j.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:J,onChange:j=>Z(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Actions"}),ns.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:ae,onChange:j=>je(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Actors"}),rf.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:Be,onChange:j=>Ht(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Targets"}),sf.map(j=>a.jsx("option",{value:j,children:j},j))]}),(J||ae||Be)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Z(""),je(""),Ht("")},children:"Clear Filters"})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Timestamp"}),a.jsx("th",{className:"p-2 text-left",children:"Actor"}),a.jsx("th",{className:"p-2 text-left",children:"Action"}),a.jsx("th",{className:"p-2 text-left",children:"Target"}),a.jsx("th",{className:"p-2 text-left",children:"Details"})]})}),a.jsx("tbody",{children:fl.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-400",children:"No activity found."})}):fl.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(j.timestamp).toLocaleString()}),a.jsx("td",{className:"p-2",children:j.actor}),a.jsx("td",{className:"p-2",children:j.action}),a.jsx("td",{className:"p-2",children:j.target}),a.jsx("td",{className:"p-2",children:j.details})]},j.id))})]})]}),s==="sessions"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search sessions...",value:Ps,onChange:j=>fr(j.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:es,onChange:j=>Rs(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Users"}),ou.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:Os,onChange:j=>Si(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Devices"}),au.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:Yo,onChange:j=>cl(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),of.map(j=>a.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))]}),(es||Os||Yo)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Rs(""),Si(""),cl("")},children:"Clear Filters"})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"User"}),a.jsx("th",{className:"p-2 text-left",children:"Device/Browser"}),a.jsx("th",{className:"p-2 text-left",children:"IP Address"}),a.jsx("th",{className:"p-2 text-left",children:"Login Time"}),a.jsx("th",{className:"p-2 text-left",children:"Last Active"}),a.jsx("th",{className:"p-2 text-left",children:"Status"}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:yf.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-400",children:"No sessions found."})}):yf.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:j.user}),a.jsx("td",{className:"p-2",children:j.device}),a.jsx("td",{className:"p-2",children:j.ip}),a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(j.loginTime).toLocaleString()}),a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(j.lastActive).toLocaleString()}),a.jsx("td",{className:"p-2",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${j.status==="active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500"}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)})}),a.jsx("td",{className:"p-2",children:j.status==="active"&&a.jsx("button",{className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200",onClick:()=>gl(),children:"Revoke"})})]},j.id))})]})]}),s==="audit"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search audit trails...",value:ji,onChange:j=>tf(j.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:tu,onChange:j=>Ci(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Event Types"}),af.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:ul,onChange:j=>dl(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Actors"}),_y.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:ts,onChange:j=>nu(j.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Resources"}),pl.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsx("input",{type:"date",value:Qo,onChange:j=>ru(j.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"From"}),a.jsx("input",{type:"date",value:ki,onChange:j=>su(j.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"To"}),a.jsx("button",{className:"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200",onClick:Xo,children:"Export CSV"}),(tu||ul||ts||Qo||ki)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Ci(""),dl(""),nu(""),ru(""),su("")},children:"Clear Filters"})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Timestamp"}),a.jsx("th",{className:"p-2 text-left",children:"Actor"}),a.jsx("th",{className:"p-2 text-left",children:"Event Type"}),a.jsx("th",{className:"p-2 text-left",children:"Resource"}),a.jsx("th",{className:"p-2 text-left",children:"Resource ID"}),a.jsx("th",{className:"p-2 text-left",children:"IP Address"}),a.jsx("th",{className:"p-2 text-left",children:"Details"})]})}),a.jsx("tbody",{children:Ai.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-400",children:"No audit events found."})}):Ai.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(j.timestamp).toLocaleString()}),a.jsx("td",{className:"p-2",children:j.actor}),a.jsx("td",{className:"p-2",children:j.eventType}),a.jsx("td",{className:"p-2",children:j.resource}),a.jsx("td",{className:"p-2",children:j.resourceId}),a.jsx("td",{className:"p-2",children:j.ip}),a.jsx("td",{className:"p-2",children:j.details})]},j.id))})]})]}),s==="roles"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-4",children:"Role Permissions"}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Role"}),gC.map(j=>a.jsx("th",{className:"p-2 text-center",children:Dse[j]},j))]})}),a.jsx("tbody",{children:Yt.map(j=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2 font-semibold",children:j.role}),gC.map(re=>a.jsx("td",{className:"p-2 text-center",children:a.jsx("input",{type:"checkbox",checked:!!j.permissions[re],onChange:()=>Jo(j.role,re),className:"form-checkbox h-4 w-4 text-indigo-600",disabled:j.role==="Admin"&&re==="viewUsers"})},re))]},j.role))})]})]}),s==="orgSettings"&&a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-1/4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Organizations"}),a.jsx("ul",{children:o.map(j=>a.jsx("li",{children:a.jsx("button",{className:`w-full text-left px-3 py-2 rounded mb-1 ${Ii===j.id?"bg-indigo-100 font-bold":"hover:bg-gray-100"}`,onClick:()=>Ny(j.id),children:j.name})},j.id))})]}),a.jsx("div",{className:"flex-1",children:Cr?a.jsxs("div",{className:"bg-white rounded shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Settings for ",Cr.name]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Organization Name"}),a.jsx("input",{type:"text",value:Cr.name,onChange:j=>Pi("name",j.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Kn})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Plan"}),a.jsxs("select",{value:Cr.plan,onChange:j=>Pi("plan",j.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Kn,children:[a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),a.jsxs("select",{value:Cr.status,onChange:j=>Pi("status",j.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Kn,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),a.jsx("input",{type:"email",value:Cr.contactEmail||"",onChange:j=>Pi("contactEmail",j.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Kn})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),a.jsx("input",{type:"text",value:Cr.address||"",onChange:j=>Pi("address",j.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Kn})]})]}),a.jsx("div",{className:"mt-6 flex gap-2",children:Kn?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:Ty,children:"Save"}),a.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",onClick:Sy,children:"Cancel"})]}):a.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",onClick:()=>hl(!0),children:"Edit"})})]}):a.jsx("div",{className:"text-gray-500 mt-8",children:"Select an organization to view settings."})})]}),R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Invite User"}),a.jsxs("form",{onSubmit:cu,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),a.jsx("input",{type:"email",required:!0,value:O,onChange:j=>S(j.target.value),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Organization"}),a.jsx("select",{value:V,onChange:j=>Y(j.target.value),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:o.map(j=>a.jsx("option",{value:j.id,children:j.name},j.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),a.jsx("select",{value:E,onChange:j=>C(j.target.value),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:pC.map(j=>a.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Send Invite"}),a.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"})]})]})]})})]})}const Lse=()=>{const t=[{title:"Information We Collect",icon:a.jsx(gW,{className:"w-6 h-6 text-indigo-500"}),content:["Personal information (name, email, contact details)","Payment information (processed securely through our payment providers)","Usage data and analytics","Device and browser information","IP addresses and location data"]},{title:"How We Use Your Information",icon:a.jsx(Ni,{className:"w-6 h-6 text-indigo-500"}),content:["To provide and maintain our services","To process your payments and manage your account","To communicate with you about our services","To improve our services and user experience","To comply with legal obligations"]},{title:"Data Protection",icon:a.jsx(Ja,{className:"w-6 h-6 text-indigo-500"}),content:["We implement appropriate security measures to protect your data","Regular security audits and updates","Encryption of sensitive information","Access controls and authentication","Regular backups and disaster recovery"]},{title:"Your Rights",icon:a.jsx(No,{className:"w-6 h-6 text-indigo-500"}),content:["Right to access your personal data","Right to correct inaccurate data","Right to request data deletion","Right to data portability","Right to withdraw consent"]},{title:"Cookies and Tracking",icon:a.jsx(hi,{className:"w-6 h-6 text-indigo-500"}),content:["We use essential cookies for site functionality","Analytics cookies to improve our services","Marketing cookies (with your consent)","You can manage cookie preferences","Third-party cookies and tracking"]},{title:"Data Retention",icon:a.jsx(y1,{className:"w-6 h-6 text-indigo-500"}),content:["We retain data only as long as necessary","Data is securely deleted when no longer needed","Legal requirements for data retention","Backup retention policies","Data archiving procedures"]}];return a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),a.jsxs("p",{className:"text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"prose prose-indigo max-w-none",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"At CredExis Pro, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),a.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.map((e,n)=>a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.icon,a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.title})]}),a.jsx("ul",{className:"space-y-2",children:e.content.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"text-indigo-500",children:""}),r]},s))})]},e.title))}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600",children:"If you have any questions about this Privacy Policy, please contact us at:"}),a.jsx("div",{className:"mt-4",children:a.jsxs("p",{className:"text-gray-700",children:["Email: privacy@credexispro.com",a.jsx("br",{}),"Address: 123 Business Street, Suite 100, City, State 12345"]})})]})]})]})},Vse=()=>{const t=[{type:"Essential Cookies",icon:a.jsx(Ja,{className:"w-6 h-6 text-green-500"}),description:"Required for the website to function properly. These cookies enable core functionality such as security, network management, and accessibility.",examples:["Authentication cookies","Session management","Security features","Load balancing"]},{type:"Analytics Cookies",icon:a.jsx(Vg,{className:"w-6 h-6 text-blue-500"}),description:"Help us understand how visitors interact with our website by collecting and reporting information anonymously.",examples:["Page view tracking","User behavior analysis","Performance monitoring","Error tracking"]},{type:"Marketing Cookies",icon:a.jsx(Jn,{className:"w-6 h-6 text-yellow-500"}),description:"Used to track visitors across websites to display relevant advertisements.",examples:["Ad targeting","Social media integration","Marketing campaign tracking","Conversion tracking"]},{type:"Preference Cookies",icon:a.jsx(p1,{className:"w-6 h-6 text-purple-500"}),description:"Enable the website to remember information that changes the way the website behaves or looks.",examples:["Language preferences","Theme settings","Customized content","User preferences"]}];return a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Cookie Policy"}),a.jsxs("p",{className:"text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"prose prose-indigo max-w-none",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"This Cookie Policy explains how CredExis Pro uses cookies and similar technologies to recognize you when you visit our website. It explains what these technologies are and why we use them, as well as your rights to control our use of them."}),a.jsx("div",{className:"space-y-8",children:t.map((e,n)=>a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.icon,a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.type})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Examples:"}),a.jsx("ul",{className:"space-y-2",children:e.examples.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"text-indigo-500",children:""}),r]},s))})]})]},e.type))}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Managing Your Cookie Preferences"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You can control and/or delete cookies as you wish. You can delete all cookies that are already on your computer and you can set most browsers to prevent them from being placed."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Browser Settings"}),a.jsx("p",{className:"text-gray-600",children:"Most web browsers allow you to control cookies through their settings preferences. However, limiting cookies may impact your experience using our website."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cookie Consent Tool"}),a.jsx("p",{className:"text-gray-600",children:"We provide a cookie consent tool that allows you to customize your cookie preferences. You can access this tool at any time through the cookie settings link in the footer."})]})]})]}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600",children:"If you have any questions about our Cookie Policy, please contact us at:"}),a.jsx("div",{className:"mt-4",children:a.jsxs("p",{className:"text-gray-700",children:["Email: privacy@credexispro.com",a.jsx("br",{}),"Address: 123 Business Street, Suite 100, City, State 12345"]})})]})]})]})},Fse=()=>{const t=[{title:"Acceptance of Terms",icon:a.jsx(hi,{className:"w-6 h-6 text-indigo-500"}),content:["By accessing and using CredExis Pro, you agree to be bound by these Terms of Service.","You must be at least 18 years old to use our services.","You are responsible for maintaining the confidentiality of your account.","You agree to provide accurate and complete information.","We reserve the right to modify these terms at any time."]},{title:"User Responsibilities",icon:a.jsx(No,{className:"w-6 h-6 text-indigo-500"}),content:["Maintain accurate account information","Protect account credentials","Comply with all applicable laws","Use the service for legitimate purposes","Report any security breaches"]},{title:"Payment Terms",icon:a.jsx(vc,{className:"w-6 h-6 text-indigo-500"}),content:["Subscription fees are billed in advance","Automatic renewal unless cancelled","Refund policy and conditions","Payment method requirements","Tax obligations and responsibilities"]},{title:"Intellectual Property",icon:a.jsx(y1,{className:"w-6 h-6 text-indigo-500"}),content:["All content and materials are protected by copyright","Limited license for personal use","Prohibition of unauthorized copying","Trademark and branding guidelines","User content ownership and licensing"]},{title:"Limitations of Liability",icon:a.jsx(Jn,{className:"w-6 h-6 text-indigo-500"}),content:['Service provided "as is" without warranties',"Limitation of damages","Force majeure conditions","Third-party service limitations","Indemnification requirements"]},{title:"Data Protection",icon:a.jsx(Ja,{className:"w-6 h-6 text-indigo-500"}),content:["Compliance with data protection laws","Data processing and storage","User data rights and access","Data breach notification","International data transfers"]}];return a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Terms of Service"}),a.jsxs("p",{className:"text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"prose prose-indigo max-w-none",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Please read these Terms of Service carefully before using CredExis Pro. By accessing or using our service, you agree to be bound by these terms. If you disagree with any part of the terms, you may not access the service."}),a.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.map((e,n)=>a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.icon,a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.title})]}),a.jsx("ul",{className:"space-y-2",children:e.content.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"text-indigo-500",children:""}),r]},s))})]},e.title))}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Termination"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We may terminate or suspend your account and bar access to the service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of the Terms."}),a.jsx("p",{className:"text-gray-600",children:"If you wish to terminate your account, you may simply discontinue using the service. All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability."})]}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600",children:"If you have any questions about these Terms, please contact us at:"}),a.jsx("div",{className:"mt-4",children:a.jsxs("p",{className:"text-gray-700",children:["Email: legal@credexispro.com",a.jsx("br",{}),"Address: 123 Business Street, Suite 100, City, State 12345"]})})]})]})]})},Use=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState(!1),c=async()=>{try{r(!0),await new Promise(p=>setTimeout(p,2e3));const f={type:"export",status:"completed",date:new Date().toISOString()};e(p=>[f,...p]),ut.success("Your data export is ready for download")}catch{ut.error("Failed to export data. Please try again.")}finally{r(!1)}},u=async()=>{try{i(!0),await new Promise(p=>setTimeout(p,2e3));const f={type:"deletion",status:"completed",date:new Date().toISOString()};e(p=>[f,...p]),l(!1),ut.success("Your account has been deleted")}catch{ut.error("Failed to delete account. Please try again.")}finally{i(!1)}},d=f=>{switch(f){case"completed":return a.jsx(p1,{className:"w-5 h-5 text-green-500"});case"failed":return a.jsx(Jn,{className:"w-5 h-5 text-red-500"});case"processing":return a.jsx(Ja,{className:"w-5 h-5 text-blue-500"});default:return a.jsx(Jn,{className:"w-5 h-5 text-yellow-500"})}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"GDPR Compliance"}),a.jsx("p",{className:"text-gray-600",children:"Manage your data and privacy rights under GDPR"})]}),a.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-12",children:[a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(PR,{className:"w-6 h-6 text-indigo-500"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Export Your Data"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Download a copy of all your personal data stored in our system. This includes your profile information, activity history, and any other data associated with your account."}),a.jsx("button",{onClick:c,disabled:n,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Exporting...":"Export Data"})]}),a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(fi,{className:"w-6 h-6 text-red-500"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delete Your Account"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone. Please make sure to export your data before proceeding."}),a.jsx("button",{onClick:()=>l(!0),disabled:s,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Deleting...":"Delete Account"})]})]}),t.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Requests"}),a.jsx("div",{className:"space-y-4",children:t.map((f,p)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[d(f.status),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:f.type==="export"?"Data Export":"Account Deletion"}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(f.date).toLocaleString()})]})]}),a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700",children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]},p))})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Confirm Account Deletion"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone. All your data will be permanently removed from our systems."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:u,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Deleting...":"Delete Account"})]})]})})]})},Ws={DASHBOARD:"/dashboard",CLIENTS:"/clients",TASKS:"/tasks",SETTINGS:"/settings",PRIVACY_POLICY:"/privacy-policy",COOKIE_POLICY:"/cookie-policy",TERMS_OF_SERVICE:"/terms-of-service",GDPR:"/gdpr"},Dr={TOKEN_KEY:"auth_token",REFRESH_TOKEN_KEY:"refresh_token"},Jc={TASKS:{LIST:"/api/tasks",CREATE:"/api/tasks",UPDATE:"/api/tasks",DELETE:"/api/tasks",TEMPLATES:"/api/tasks/templates"}},$se=()=>{const t=new Date().getFullYear();return a.jsx("footer",{className:"bg-white border-t border-gray-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"CredExis Pro"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Empowering businesses with advanced credit management solutions."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Je,{to:Ws.DASHBOARD,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Dashboard"})}),a.jsx("li",{children:a.jsx(Je,{to:Ws.CLIENTS,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Clients"})}),a.jsx("li",{children:a.jsx(Je,{to:Ws.TASKS,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Tasks"})}),a.jsx("li",{children:a.jsx(Je,{to:Ws.SETTINGS,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Settings"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Je,{to:Ws.PRIVACY_POLICY,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(Je,{to:Ws.COOKIE_POLICY,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Cookie Policy"})}),a.jsx("li",{children:a.jsx(Je,{to:Ws.TERMS_OF_SERVICE,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx(Je,{to:Ws.GDPR,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"GDPR Compliance"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{className:"text-gray-600 text-sm",children:"Email: support@credexispro.com"}),a.jsx("li",{className:"text-gray-600 text-sm",children:"Phone: +1 (555) 123-4567"}),a.jsxs("li",{className:"text-gray-600 text-sm",children:["Address: 123 Business Ave, Suite 100",a.jsx("br",{}),"New York, NY 10001"]})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-gray-600 text-sm",children:[" ",t," CredExis Pro. All rights reserved."]}),a.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"Twitter"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"LinkedIn"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]})})]})})},Bse=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState({essential:!0,analytics:!1,marketing:!1});y.useEffect(()=>{localStorage.getItem("cookieConsent")||e(!0)},[]);const o=()=>{const f={essential:!0,analytics:!0,marketing:!0};i(f),u(f),e(!1)},l=()=>{u(s),e(!1)},c=()=>{const f={essential:!0,analytics:!1,marketing:!1};i(f),u(f),e(!1)},u=f=>{localStorage.setItem("cookieConsent",JSON.stringify(f))},d=f=>{f!=="essential"&&i(p=>({...p,[f]:!p[f]}))};return t?a.jsx(nn,{children:t&&a.jsx(se.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cookie Preferences"}),a.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-500",children:a.jsx(sn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Essential Cookies"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function properly"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",checked:s.essential,disabled:!0,className:"h-4 w-4 text-indigo-600 rounded border-gray-300"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Analytics Cookies"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",checked:s.analytics,onChange:()=>d("analytics"),className:"h-4 w-4 text-indigo-600 rounded border-gray-300"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Marketing Cookies"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Used to track visitors across websites for marketing purposes"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",checked:s.marketing,onChange:()=>d("marketing"),className:"h-4 w-4 text-indigo-600 rounded border-gray-300"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Reject All"}),a.jsx("button",{onClick:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Save Preferences"})]})]}):a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"We use cookies to enhance your experience"}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["By continuing to visit this site you agree to our use of cookies."," ",a.jsx(Je,{to:Ws.COOKIE_POLICY,className:"text-indigo-600 hover:text-indigo-700",children:"Learn more"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[a.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Vg,{className:"w-4 h-4"}),"Customize"]}),a.jsxs("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(sh,{className:"w-4 h-4"}),"Accept All"]})]})]})})})}):null},zse=()=>a.jsxs("div",{style:{textAlign:"center",marginTop:"50px"},children:[a.jsx("h1",{children:"404 - Page Not Found"}),a.jsx("p",{children:"The page you are looking for does not exist."})]}),Wse={user:null,token:localStorage.getItem(Dr.TOKEN_KEY),refreshToken:localStorage.getItem(Dr.REFRESH_TOKEN_KEY),isAuthenticated:!!localStorage.getItem(Dr.TOKEN_KEY),loading:!1,error:null,emailVerified:!1,passwordResetRequested:!1},A5=by({name:"auth",initialState:Wse,reducers:{loginStart:t=>{t.loading=!0,t.error=null},loginSuccess:(t,e)=>{t.loading=!1,t.isAuthenticated=!0,t.user={...e.payload.user,createdAt:e.payload.user.createdAt||new Date().toISOString(),updatedAt:e.payload.user.updatedAt||new Date().toISOString()},t.token=e.payload.token,t.refreshToken=e.payload.refreshToken,t.error=null,localStorage.setItem(Dr.TOKEN_KEY,e.payload.token),localStorage.setItem(Dr.REFRESH_TOKEN_KEY,e.payload.refreshToken)},loginFailure:(t,e)=>{t.loading=!1,t.error=e.payload},logout:t=>{t.user=null,t.token=null,t.refreshToken=null,t.isAuthenticated=!1,t.error=null,localStorage.removeItem(Dr.TOKEN_KEY),localStorage.removeItem(Dr.REFRESH_TOKEN_KEY)},updateUser:(t,e)=>{t.user=e.payload},refreshTokenStart:t=>{t.loading=!0,t.error=null},refreshTokenSuccess:(t,e)=>{t.loading=!1,t.token=e.payload.token,t.refreshToken=e.payload.refreshToken,t.error=null,localStorage.setItem(Dr.TOKEN_KEY,e.payload.token),localStorage.setItem(Dr.REFRESH_TOKEN_KEY,e.payload.refreshToken)},refreshTokenFailure:(t,e)=>{t.loading=!1,t.error=e.payload,t.isAuthenticated=!1,t.token=null,t.refreshToken=null,localStorage.removeItem(Dr.TOKEN_KEY),localStorage.removeItem(Dr.REFRESH_TOKEN_KEY)},requestPasswordReset:t=>{t.loading=!0,t.error=null},requestPasswordResetSuccess:t=>{t.loading=!1,t.passwordResetRequested=!0,t.error=null},requestPasswordResetFailure:(t,e)=>{t.loading=!1,t.error=e.payload},verifyEmailStart:t=>{t.loading=!0,t.error=null},verifyEmailSuccess:t=>{t.loading=!1,t.emailVerified=!0,t.error=null},verifyEmailFailure:(t,e)=>{t.loading=!1,t.error=e.payload}}}),{loginStart:gie,loginSuccess:Hse,loginFailure:yie,logout:yC,updateUser:xie,refreshTokenStart:vie,refreshTokenSuccess:wie,refreshTokenFailure:bie,requestPasswordReset:_ie,requestPasswordResetSuccess:Eie,requestPasswordResetFailure:Nie,verifyEmailStart:Tie,verifyEmailSuccess:Sie,verifyEmailFailure:jie}=A5.actions,qse=A5.reducer,P5=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),Gse=({children:t,userData:e})=>{const[n,r]=y.useState(!1),[s,i]=y.useState(!1);return a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"flex flex-1",children:[a.jsx(ene,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(dre,{onHelpClick:()=>i(!0),onQuickStartClick:()=>r(!0),userData:e}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6 dashboard-main",children:t})]})]}),a.jsx(j$,{isOpen:n,onClose:()=>r(!1)}),a.jsx(C$,{isOpen:s,onClose:()=>i(!1)})]})},Zn=({children:t,userData:e})=>{const{isAuthenticated:n,loading:r}=bb(o=>o.auth),[s,i]=y.useState(!1);return y.useEffect(()=>{e&&!e.hasSeenWelcome&&i(!0)},[e]),r?a.jsx(P5,{}):n?a.jsxs(Gse,{userData:e,children:[a.jsx(k$,{isOpen:s,onClose:()=>i(!1),onComplete:async()=>{if(i(!1),e)try{await w_(za(it,"users",e.id),{hasSeenWelcome:!0})}catch(o){console.error("Error updating welcome status:",o)}}}),t]}):a.jsx(l3,{to:"/login"})};function Kse(){const t=qI(),e=bb(n=>n.auth.user);return y.useEffect(()=>{const n=see(I_,async r=>{if(r){console.log("Current user UID:",r.uid);const s=await XX(za(it,"users",r.uid));console.log("User doc exists:",s.exists()),s.exists()?t(Hse({user:{id:"1",email:"test@example.com",name:"Test User",role:"admin",emailVerified:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},token:"firebase",refreshToken:""})):t(yC())}else t(yC())});return()=>n()},[t]),a.jsx(Pse,{children:a.jsx(Rne,{children:a.jsx(U9,{children:a.jsxs(y.Suspense,{fallback:a.jsx(P5,{}),children:[a.jsxs(u3,{children:[a.jsx(lt,{path:"/",element:a.jsx(BW,{})}),a.jsx(lt,{path:"/login",element:a.jsx(Gte,{})}),a.jsx(lt,{path:"/signup",element:a.jsx(Kte,{})}),a.jsx(lt,{path:"/forgot-password",element:a.jsx(Qte,{})}),a.jsx(lt,{path:"/reset-password",element:a.jsx(Xte,{})}),a.jsx(lt,{path:"/dashboard",element:a.jsx(Zn,{userData:e,children:a.jsx(Pne,{})})}),a.jsx(lt,{path:"/why-credexis",element:a.jsx(Zn,{userData:e,children:a.jsx(fre,{})})}),a.jsx(lt,{path:"/clients",element:a.jsx(Zn,{userData:e,children:a.jsx(mse,{})})}),a.jsx(lt,{path:"/disputes",element:a.jsx(Zn,{userData:e,children:a.jsx(yse,{})})}),a.jsx(lt,{path:"/tasks",element:a.jsx(Zn,{userData:e,children:a.jsx(vse,{})})}),a.jsx(lt,{path:"/payments",element:a.jsx(Zn,{userData:e,children:a.jsx(wse,{})})}),a.jsx(lt,{path:"/documents",element:a.jsx(Zn,{userData:e,children:a.jsx(_se,{})})}),a.jsx(lt,{path:"/letter-templates",element:a.jsx(Zn,{userData:e,children:a.jsx(Ese,{})})}),a.jsx(lt,{path:"/marketing",element:a.jsx(Zn,{userData:e,children:a.jsx(Nse,{})})}),a.jsx(lt,{path:"/credit-tools",element:a.jsx(Zn,{userData:e,children:a.jsx(Tse,{})})}),a.jsx(lt,{path:"/settings",element:a.jsx(Zn,{userData:e,children:a.jsx(kse,{userData:e})})}),a.jsx(lt,{path:"/invoices",element:a.jsx(Zn,{userData:e,children:a.jsx(Ise,{})})}),a.jsx(lt,{path:"/reports",element:a.jsx(Zn,{userData:e,children:a.jsx(Ase,{})})}),a.jsx(lt,{path:"/admin",element:a.jsx(Mse,{})}),a.jsx(lt,{path:"/privacy-policy",element:a.jsx(Lse,{})}),a.jsx(lt,{path:"/cookie-policy",element:a.jsx(Vse,{})}),a.jsx(lt,{path:"/terms-of-service",element:a.jsx(Fse,{})}),a.jsx(lt,{path:"/gdpr-compliance",element:a.jsx(Use,{})}),a.jsx(lt,{path:"*",element:a.jsx(zse,{})})]}),a.jsx(t4,{position:"top-right",toastOptions:{duration:3500}}),a.jsx(Bse,{}),a.jsx($se,{})]})})})})}const Yse={apiUrl:"http://localhost:3000/api",cdnUrl:"http://localhost:3000/static",environment:"development",enableMonitoring:!0,enableLogging:!0,cacheTTL:5*60*1e3,maxRetries:3,timeout:5e3},Qse={apiUrl:"https://staging-api.credexispro.com/api",cdnUrl:"https://staging-cdn.credexispro.com",environment:"staging",enableMonitoring:!0,enableLogging:!0,cacheTTL:15*60*1e3,maxRetries:3,timeout:1e4},Zse={apiUrl:"https://api.credexispro.com/api",cdnUrl:"https://cdn.credexispro.com",environment:"production",enableMonitoring:!0,enableLogging:!1,cacheTTL:30*60*1e3,maxRetries:2,timeout:15e3},Xse=()=>{switch("production"){case"production":return Zse;case"staging":return Qse;default:return Yse}},Fu=Xse(),da=class da{constructor(){mt(this,"memoryCache");mt(this,"defaultTTL",5*60*1e3);this.memoryCache=new Map,this.startCleanupInterval()}static getInstance(){return da.instance||(da.instance=new da),da.instance}startCleanupInterval(){setInterval(()=>this.cleanup(),6e4)}cleanup(){const e=Date.now();for(const[n,r]of this.memoryCache.entries())this.isExpired(r,e)&&this.memoryCache.delete(n);if(typeof window<"u")for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r!=null&&r.startsWith("cache_"))try{const s=JSON.parse(localStorage.getItem(r)||"");this.isExpired(s,e)&&localStorage.removeItem(r)}catch{localStorage.removeItem(r)}}}isExpired(e,n){return e.ttl?n-e.timestamp>e.ttl:!1}getStorageKey(e){return`cache_${e}`}async get(e,n={}){const{useLocalStorage:r=!1}=n,s=Date.now(),i=this.memoryCache.get(e);if(i&&!this.isExpired(i,s))return i.value;if(r&&typeof window<"u")try{const o=this.getStorageKey(e),l=localStorage.getItem(o);if(l){const c=JSON.parse(l);if(!this.isExpired(c,s))return this.memoryCache.set(e,c),c.value}}catch(o){console.error("Error reading from localStorage:",o)}return null}async set(e,n,r={}){const{ttl:s=this.defaultTTL,useLocalStorage:i=!1}=r,o={value:n,timestamp:Date.now(),ttl:s};if(this.memoryCache.set(e,o),i&&typeof window<"u")try{const l=this.getStorageKey(e);localStorage.setItem(l,JSON.stringify(o))}catch(l){console.error("Error writing to localStorage:",l)}}async delete(e,n={}){const{useLocalStorage:r=!1}=n;if(this.memoryCache.delete(e),r&&typeof window<"u")try{const s=this.getStorageKey(e);localStorage.removeItem(s)}catch(s){console.error("Error removing from localStorage:",s)}}async clear(e={}){const{useLocalStorage:n=!1}=e;if(this.memoryCache.clear(),n&&typeof window<"u")try{for(let r=localStorage.length-1;r>=0;r--){const s=localStorage.key(r);s!=null&&s.startsWith("cache_")&&localStorage.removeItem(s)}}catch(r){console.error("Error clearing localStorage:",r)}}};mt(da,"instance");let xw=da;const xC=xw.getInstance(),Jse=()=>{if(typeof window<"u"&&window.performance)return window.performance;try{return require("perf_hooks").performance}catch{return{now:()=>Date.now()}}},X0=Jse(),ha=class ha{constructor(){mt(this,"logBuffer",[]);mt(this,"maxBufferSize",100);mt(this,"flushInterval",6e4);mt(this,"isDevelopment",!1);setInterval(()=>this.flush(),this.flushInterval)}static getInstance(){return ha.instance||(ha.instance=new ha),ha.instance}formatLogEntry(e){const{timestamp:n,level:r,message:s,context:i,duration:o,error:l}=e;let c=`[${n}] ${r}: ${s}`;return o&&(c+=` (${o.toFixed(2)}ms)`),i&&(c+=`
Context: ${JSON.stringify(i,null,2)}`),l&&(c+=`
Error: ${l.message}
Stack: ${l.stack}`),c}async flush(){if(this.logBuffer.length!==0)try{this.isDevelopment||await fetch("/api/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.logBuffer)}),this.logBuffer=[]}catch(e){console.error("Failed to flush logs:",e)}}log(e,n,r,s){const i={timestamp:new Date().toISOString(),level:e,message:n,context:r,error:s};if(this.logBuffer.push(i),this.isDevelopment){const o=this.formatLogEntry(i);switch(e){case"DEBUG":console.debug(o);break;case"INFO":console.info(o);break;case"WARN":console.warn(o);break;case"ERROR":case"FATAL":console.error(o);break}}this.logBuffer.length>=this.maxBufferSize&&this.flush()}debug(e,n){this.log("DEBUG",e,n)}info(e,n){this.log("INFO",e,n)}warn(e,n){this.log("WARN",e,n)}error(e,n,r){this.log("ERROR",e,r,n)}fatal(e,n,r){this.log("FATAL",e,r,n)}async measure(e,n,r){const s=X0.now();try{const i=await n(),o=X0.now()-s;return this.info(`${e} completed`,{...r,duration:o}),i}catch(i){const o=X0.now()-s;throw this.error(`${e} failed`,i,{...r,duration:o}),i}}};mt(ha,"instance");let vw=ha;const Uu=vw.getInstance(),fa=class fa{constructor(){mt(this,"metrics",[]);mt(this,"interactions",[]);mt(this,"maxInteractions",100);mt(this,"flushInterval",6e4);this.startFlushInterval(),this.setupErrorHandling(),this.setupPerformanceObserver()}static getInstance(){return fa.instance||(fa.instance=new fa),fa.instance}startFlushInterval(){setInterval(()=>this.flush(),this.flushInterval)}setupErrorHandling(){window.addEventListener("error",e=>{this.reportError({error:e.error||new Error(e.message),context:{filename:e.filename,lineno:e.lineno,colno:e.colno}})}),window.addEventListener("unhandledrejection",e=>{this.reportError({error:e.reason instanceof Error?e.reason:new Error(String(e.reason)),context:{type:"unhandledrejection"}})})}setupPerformanceObserver(){"PerformanceObserver"in window&&(new PerformanceObserver(s=>{s.getEntries().forEach(i=>{this.recordMetric({name:"long_task",value:i.duration,tags:{name:i.name}})})}).observe({entryTypes:["longtask"]}),new PerformanceObserver(s=>{s.getEntries().forEach(i=>{i.hadRecentInput||this.recordMetric({name:"layout_shift",value:i.value,tags:{name:i.name}})})}).observe({entryTypes:["layout-shift"]}),new PerformanceObserver(s=>{s.getEntries().forEach(i=>{this.recordMetric({name:"first_input_delay",value:i.duration,tags:{name:i.name}})})}).observe({entryTypes:["first-input"]}))}recordMetric(e){this.metrics.push(e),Uu.info("Performance metric recorded",{metric:e})}recordInteraction(e){this.interactions.push(e),this.interactions.length>this.maxInteractions&&this.interactions.shift(),Uu.info("User interaction recorded",{interaction:e})}reportError(e){Uu.error("Error reported",new Error(JSON.stringify({message:e.error.message,stack:e.error.stack,context:e.context,user:e.user})))}async flush(){if(!(this.metrics.length===0&&this.interactions.length===0))try{Uu.info("Monitoring data flushed",{metricsCount:this.metrics.length,interactionsCount:this.interactions.length}),this.metrics=[],this.interactions=[]}catch(e){const n=e instanceof Error?e.message:String(e);Uu.error("Failed to flush monitoring data",new Error(n))}}getMetrics(){return[...this.metrics]}getInteractions(){return[...this.interactions]}};mt(fa,"instance");let ww=fa;const J0=ww.getInstance(),pa=class pa{constructor(){mt(this,"baseUrl");this.baseUrl=Fu.apiUrl}static getInstance(){return pa.instance||(pa.instance=new pa),pa.instance}async fetchWithRetry(e,n,r=0){try{const s=await fetch(e,{method:n.method||"GET",headers:{"Content-Type":"application/json",...n.headers},body:n.body?JSON.stringify(n.body):void 0});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s}catch(s){if(n.retryOnError!==!1&&r<Fu.maxRetries){const i=Math.pow(2,r)*1e3;return await new Promise(o=>setTimeout(o,i)),this.fetchWithRetry(e,n,r+1)}throw s}}getCacheKey(e,n){const r=n.method||"GET",s=n.body?JSON.stringify(n.body):"";return`${r}:${e}:${s}`}async request(e,n={}){const r=`${this.baseUrl}${e}`,s=performance.now();try{if(n.method==="GET"&&n.useCache!==!1){const c=this.getCacheKey(r,n),u=await xC.get(c,{ttl:n.cacheTTL||Fu.cacheTTL});if(u)return J0.recordMetric({name:"cache_hit",value:1,tags:{endpoint:e}}),{data:u,status:200,headers:new Headers}}const i=await this.fetchWithRetry(r,n),o=await i.json();if(n.method==="GET"&&n.useCache!==!1){const c=this.getCacheKey(r,n);await xC.set(c,o,{ttl:n.cacheTTL||Fu.cacheTTL})}const l=performance.now()-s;return J0.recordMetric({name:"api_request_duration",value:l,tags:{endpoint:e,method:n.method||"GET"}}),{data:o,status:i.status,headers:i.headers}}catch(i){throw J0.reportError({error:i instanceof Error?i:new Error(String(i)),context:{url:r,method:n.method||"GET",retryCount:n.retryOnError!==!1?Fu.maxRetries:0}}),i}}async get(e,n={}){return this.request(e,{...n,method:"GET"})}async post(e,n,r={}){return this.request(e,{...r,method:"POST",body:n})}async put(e,n,r={}){return this.request(e,{...r,method:"PUT",body:n})}async patch(e,n,r={}){return this.request(e,{...r,method:"PATCH",body:n})}async delete(e,n={}){return this.request(e,{...n,method:"DELETE"})}};mt(pa,"instance");let bw=pa;const eu=bw.getInstance(),vC={tasks:[],selectedTask:null,templates:[],loading:!1,error:null,filters:{status:[],priority:[],assignedTo:[]}},ex=Xc("tasks/fetchTasks",async t=>(await eu.get(Jc.TASKS.LIST,{headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).data),eie=Xc("tasks/createTask",async t=>(await eu.post(Jc.TASKS.CREATE,t)).data),tie=Xc("tasks/updateTask",async({id:t,task:e})=>(await eu.put(`${Jc.TASKS.UPDATE}/${t}`,e)).data),nie=Xc("tasks/deleteTask",async t=>(await eu.delete(`${Jc.TASKS.DELETE}/${t}`),t)),rie=Xc("tasks/fetchTemplates",async()=>(await eu.get(Jc.TASKS.TEMPLATES)).data),sie=Xc("tasks/createTemplate",async t=>(await eu.post(Jc.TASKS.TEMPLATES,t)).data),R5=by({name:"tasks",initialState:vC,reducers:{setSelectedTask:(t,e)=>{t.selectedTask=e.payload},clearError:t=>{t.error=null},setFilters:(t,e)=>{t.filters={...t.filters,...e.payload}},clearFilters:t=>{t.filters=vC.filters}},extraReducers:t=>{t.addCase(ex.pending,e=>{e.loading=!0,e.error=null}).addCase(ex.fulfilled,(e,n)=>{e.loading=!1,e.tasks=n.payload}).addCase(ex.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to fetch tasks"}).addCase(eie.fulfilled,(e,n)=>{e.tasks.push(n.payload)}).addCase(tie.fulfilled,(e,n)=>{var s;const r=e.tasks.findIndex(i=>i.id===n.payload.id);r!==-1&&(e.tasks[r]=n.payload,((s=e.selectedTask)==null?void 0:s.id)===n.payload.id&&(e.selectedTask=n.payload))}).addCase(nie.fulfilled,(e,n)=>{var r;e.tasks=e.tasks.filter(s=>s.id!==n.payload),((r=e.selectedTask)==null?void 0:r.id)===n.payload&&(e.selectedTask=null)}).addCase(rie.fulfilled,(e,n)=>{e.templates=n.payload}).addCase(sie.fulfilled,(e,n)=>{e.templates.push(n.payload)})}}),{setSelectedTask:Cie,clearError:kie,setFilters:Iie,clearFilters:Aie}=R5.actions,iie=R5.reducer,oie={theme:"light",language:"en",notifications:!0,loading:!1,error:null},O5=by({name:"settings",initialState:oie,reducers:{updateTheme:(t,e)=>{t.theme=e.payload},updateLanguage:(t,e)=>{t.language=e.payload},updateNotifications:(t,e)=>{t.notifications=e.payload},setLoading:(t,e)=>{t.loading=e.payload},setError:(t,e)=>{t.error=e.payload}}}),{updateTheme:Pie,updateLanguage:Rie,updateNotifications:Oie,setLoading:Die,setError:Mie}=O5.actions,aie=O5.reducer,lie=Fre({reducer:{auth:qse,clients:dse,tasks:iie,settings:aie},middleware:t=>t({serializableCheck:!1})});class cie extends y.Component{constructor(){super(...arguments);mt(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(oW,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Reload page"})})]})})}):this.props.children}}tx.createRoot(document.getElementById("root")).render(a.jsx(ne.StrictMode,{children:a.jsx(B3,{store:lie,children:a.jsx(x3,{children:a.jsxs(cie,{children:[a.jsx(Kse,{}),a.jsx(t4,{position:"top-right",toastOptions:{duration:3500}})]})})})}));
