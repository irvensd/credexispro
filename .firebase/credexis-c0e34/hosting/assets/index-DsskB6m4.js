var S5=Object.defineProperty;var T5=(t,e,n)=>e in t?S5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xt=(t,e,n)=>T5(t,typeof e!="symbol"?e+"":e,n);function C5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var j5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tk={exports:{}},Sg={},nk={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=Symbol.for("react.element"),k5=Symbol.for("react.portal"),I5=Symbol.for("react.fragment"),A5=Symbol.for("react.strict_mode"),P5=Symbol.for("react.profiler"),R5=Symbol.for("react.provider"),O5=Symbol.for("react.context"),D5=Symbol.for("react.forward_ref"),L5=Symbol.for("react.suspense"),M5=Symbol.for("react.memo"),V5=Symbol.for("react.lazy"),kE=Symbol.iterator;function F5(t){return t===null||typeof t!="object"?null:(t=kE&&t[kE]||t["@@iterator"],typeof t=="function"?t:null)}var rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sk=Object.assign,ik={};function zc(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||rk}zc.prototype.isReactComponent={};zc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ok(){}ok.prototype=zc.prototype;function Hw(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||rk}var Ww=Hw.prototype=new ok;Ww.constructor=Hw;sk(Ww,zc.prototype);Ww.isPureReactComponent=!0;var IE=Array.isArray,ak=Object.prototype.hasOwnProperty,qw={current:null},lk={key:!0,ref:!0,__self:!0,__source:!0};function ck(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ak.call(e,r)&&!lk.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ph,type:t,key:i,ref:o,props:s,_owner:qw.current}}function $5(t,e){return{$$typeof:Ph,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ph}function U5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var AE=/\/+/g;function Jy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U5(""+t.key):e.toString(36)}function bp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ph:case k5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jy(o,0):r,IE(s)?(n="",t!=null&&(n=t.replace(AE,"$&/")+"/"),bp(s,e,n,"",function(u){return u})):s!=null&&(Kw(s)&&(s=$5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(AE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",IE(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Jy(i,l);o+=bp(i,e,n,c,s)}else if(c=F5(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Jy(i,l++),o+=bp(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mf(t,e,n){if(t==null)return t;var r=[],s=0;return bp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function B5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},_p={transition:null},z5={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:_p,ReactCurrentOwner:qw};function uk(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Mf,forEach:function(t,e,n){Mf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mf(t,function(){e++}),e},toArray:function(t){return Mf(t,function(e){return e})||[]},only:function(t){if(!Kw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=zc;Ue.Fragment=I5;Ue.Profiler=P5;Ue.PureComponent=Hw;Ue.StrictMode=A5;Ue.Suspense=L5;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z5;Ue.act=uk;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sk({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)ak.call(e,c)&&!lk.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ph,type:t.type,key:s,ref:i,props:r,_owner:o}};Ue.createContext=function(t){return t={$$typeof:O5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R5,_context:t},t.Consumer=t};Ue.createElement=ck;Ue.createFactory=function(t){var e=ck.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:D5,render:t}};Ue.isValidElement=Kw;Ue.lazy=function(t){return{$$typeof:V5,_payload:{_status:-1,_result:t},_init:B5}};Ue.memo=function(t,e){return{$$typeof:M5,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=_p.transition;_p.transition={};try{t()}finally{_p.transition=e}};Ue.unstable_act=uk;Ue.useCallback=function(t,e){return On.current.useCallback(t,e)};Ue.useContext=function(t){return On.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return On.current.useEffect(t,e)};Ue.useId=function(){return On.current.useId()};Ue.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return On.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};Ue.useRef=function(t){return On.current.useRef(t)};Ue.useState=function(t){return On.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return On.current.useTransition()};Ue.version="18.3.1";nk.exports=Ue;var y=nk.exports;const ee=zo(y),hc=C5({__proto__:null,default:ee},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5=y,W5=Symbol.for("react.element"),q5=Symbol.for("react.fragment"),K5=Object.prototype.hasOwnProperty,G5=H5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y5={key:!0,ref:!0,__self:!0,__source:!0};function dk(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)K5.call(e,r)&&!Y5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:W5,type:t,key:i,ref:o,props:s,_owner:G5.current}}Sg.Fragment=q5;Sg.jsx=dk;Sg.jsxs=dk;tk.exports=Sg;var a=tk.exports,Ex={},hk={exports:{}},mr={},fk={exports:{}},pk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,oe){var pe=K.length;K.push(oe);e:for(;0<pe;){var Me=pe-1>>>1,Ve=K[Me];if(0<s(Ve,oe))K[Me]=oe,K[pe]=Ve,pe=Me;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],pe=K.pop();if(pe!==oe){K[0]=pe;e:for(var Me=0,Ve=K.length,G=Ve>>>1;Me<G;){var $=2*(Me+1)-1,Z=K[$],We=$+1,ut=K[We];if(0>s(Z,pe))We<Ve&&0>s(ut,Z)?(K[Me]=ut,K[We]=pe,Me=We):(K[Me]=Z,K[$]=pe,Me=$);else if(We<Ve&&0>s(ut,pe))K[Me]=ut,K[We]=pe,Me=We;else break e}}return oe}function s(K,oe){var pe=K.sortIndex-oe.sortIndex;return pe!==0?pe:K.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(K){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=K)r(u),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=n(u)}}function k(K){if(w=!1,T(K),!x)if(n(c)!==null)x=!0,Ie(P);else{var oe=n(u);oe!==null&&Ce(k,oe.startTime-K)}}function P(K,oe){x=!1,w&&(w=!1,_(E),E=-1),m=!0;var pe=p;try{for(T(oe),h=n(c);h!==null&&(!(h.expirationTime>oe)||K&&!D());){var Me=h.callback;if(typeof Me=="function"){h.callback=null,p=h.priorityLevel;var Ve=Me(h.expirationTime<=oe);oe=t.unstable_now(),typeof Ve=="function"?h.callback=Ve:h===n(c)&&r(c),T(oe)}else r(c);h=n(c)}if(h!==null)var G=!0;else{var $=n(u);$!==null&&Ce(k,$.startTime-oe),G=!1}return G}finally{h=null,p=pe,m=!1}}var O=!1,N=null,E=-1,j=5,R=-1;function D(){return!(t.unstable_now()-R<j)}function L(){if(N!==null){var K=t.unstable_now();R=K;var oe=!0;try{oe=N(!0,K)}finally{oe?I():(O=!1,N=null)}}else O=!1}var I;if(typeof v=="function")I=function(){v(L)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,_e=te.port2;te.port1.onmessage=L,I=function(){_e.postMessage(null)}}else I=function(){S(L,0)};function Ie(K){N=K,O||(O=!0,I())}function Ce(K,oe){E=S(function(){K(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,Ie(P))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var pe=p;p=oe;try{return K()}finally{p=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=p;p=K;try{return oe()}finally{p=pe}},t.unstable_scheduleCallback=function(K,oe,pe){var Me=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,K){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=pe+Ve,K={id:d++,callback:oe,priorityLevel:K,startTime:pe,expirationTime:Ve,sortIndex:-1},pe>Me?(K.sortIndex=pe,e(u,K),n(c)===null&&K===n(u)&&(w?(_(E),E=-1):w=!0,Ce(k,pe-Me))):(K.sortIndex=Ve,e(c,K),x||m||(x=!0,Ie(P))),K},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(K){var oe=p;return function(){var pe=p;p=oe;try{return K.apply(this,arguments)}finally{p=pe}}}})(pk);fk.exports=pk;var Q5=fk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5=y,cr=Q5;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mk=new Set,Vd={};function rl(t,e){fc(t,e),fc(t+"Capture",e)}function fc(t,e){for(Vd[t]=e,t=0;t<e.length;t++)mk.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nx=Object.prototype.hasOwnProperty,X5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PE={},RE={};function J5(t){return Nx.call(RE,t)?!0:Nx.call(PE,t)?!1:X5.test(t)?RE[t]=!0:(PE[t]=!0,!1)}function eM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tM(t,e,n,r){if(e===null||typeof e>"u"||eM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gw=/[\-:]([a-z])/g;function Yw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gw,Yw);on[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gw,Yw);on[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gw,Yw);on[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qw(t,e,n,r){var s=on.hasOwnProperty(e)?on[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tM(e,n,s,r)&&(n=null),r||s===null?J5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ii=Z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),Vl=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),gk=Symbol.for("react.provider"),yk=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),Tx=Symbol.for("react.suspense"),Cx=Symbol.for("react.suspense_list"),Jw=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),xk=Symbol.for("react.offscreen"),OE=Symbol.iterator;function Su(t){return t===null||typeof t!="object"?null:(t=OE&&t[OE]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,e0;function Yu(t){if(e0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);e0=e&&e[1]||""}return`
`+e0+t}var t0=!1;function n0(t,e){if(!t||t0)return"";t0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{t0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yu(t):""}function nM(t){switch(t.tag){case 5:return Yu(t.type);case 16:return Yu("Lazy");case 13:return Yu("Suspense");case 19:return Yu("SuspenseList");case 0:case 2:case 15:return t=n0(t.type,!1),t;case 11:return t=n0(t.type.render,!1),t;case 1:return t=n0(t.type,!0),t;default:return""}}function jx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fl:return"Fragment";case Vl:return"Portal";case Sx:return"Profiler";case Zw:return"StrictMode";case Tx:return"Suspense";case Cx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yk:return(t.displayName||"Context")+".Consumer";case gk:return(t._context.displayName||"Context")+".Provider";case Xw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jw:return e=t.displayName||null,e!==null?e:jx(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return jx(t(e))}catch{}}return null}function rM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jx(e);case 8:return e===Zw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function To(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sM(t){var e=vk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ff(t){t._valueTracker||(t._valueTracker=sM(t))}function wk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kx(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function DE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=To(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bk(t,e){e=e.checked,e!=null&&Qw(t,"checked",e,!1)}function Ix(t,e){bk(t,e);var n=To(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ax(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ax(t,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ax(t,e,n){(e!=="number"||Zp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qu=Array.isArray;function nc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+To(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Px(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ME(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Qu(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:To(n)}}function _k(t,e){var n=To(e.value),r=To(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function VE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ek(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ek(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $f,Nk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($f=$f||document.createElement("div"),$f.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$f.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iM=["Webkit","ms","Moz","O"];Object.keys(hd).forEach(function(t){iM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hd[e]=hd[t]})});function Sk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hd.hasOwnProperty(t)&&hd[t]?(""+e).trim():e+"px"}function Tk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Sk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var oM=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ox(t,e){if(e){if(oM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Dx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=null;function eb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mx=null,rc=null,sc=null;function FE(t){if(t=Dh(t)){if(typeof Mx!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Ig(e),Mx(t.stateNode,t.type,e))}}function Ck(t){rc?sc?sc.push(t):sc=[t]:rc=t}function jk(){if(rc){var t=rc,e=sc;if(sc=rc=null,FE(t),e)for(t=0;t<e.length;t++)FE(e[t])}}function kk(t,e){return t(e)}function Ik(){}var r0=!1;function Ak(t,e,n){if(r0)return t(e,n);r0=!0;try{return kk(t,e,n)}finally{r0=!1,(rc!==null||sc!==null)&&(Ik(),jk())}}function $d(t,e){var n=t.stateNode;if(n===null)return null;var r=Ig(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Vx=!1;if(pi)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){Vx=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Vx=!1}function aM(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var fd=!1,Xp=null,Jp=!1,Fx=null,lM={onError:function(t){fd=!0,Xp=t}};function cM(t,e,n,r,s,i,o,l,c){fd=!1,Xp=null,aM.apply(lM,arguments)}function uM(t,e,n,r,s,i,o,l,c){if(cM.apply(this,arguments),fd){if(fd){var u=Xp;fd=!1,Xp=null}else throw Error(Y(198));Jp||(Jp=!0,Fx=u)}}function sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $E(t){if(sl(t)!==t)throw Error(Y(188))}function dM(t){var e=t.alternate;if(!e){if(e=sl(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $E(s),t;if(i===r)return $E(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function Rk(t){return t=dM(t),t!==null?Ok(t):null}function Ok(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ok(t);if(e!==null)return e;t=t.sibling}return null}var Dk=cr.unstable_scheduleCallback,UE=cr.unstable_cancelCallback,hM=cr.unstable_shouldYield,fM=cr.unstable_requestPaint,At=cr.unstable_now,pM=cr.unstable_getCurrentPriorityLevel,tb=cr.unstable_ImmediatePriority,Lk=cr.unstable_UserBlockingPriority,em=cr.unstable_NormalPriority,mM=cr.unstable_LowPriority,Mk=cr.unstable_IdlePriority,Tg=null,_s=null;function gM(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(Tg,t,void 0,(t.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:vM,yM=Math.log,xM=Math.LN2;function vM(t){return t>>>=0,t===0?32:31-(yM(t)/xM|0)|0}var Uf=64,Bf=4194304;function Zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zu(l):(i&=o,i!==0&&(r=Zu(i)))}else o=n&~s,o!==0?r=Zu(o):i!==0&&(r=Zu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qr(e),s=1<<n,r|=t[n],e&=~s;return r}function wM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=wM(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function $x(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vk(){var t=Uf;return Uf<<=1,!(Uf&4194240)&&(Uf=64),t}function s0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qr(e),t[e]=n}function _M(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function nb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var st=0;function Fk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $k,rb,Uk,Bk,zk,Ux=!1,zf=[],ho=null,fo=null,po=null,Ud=new Map,Bd=new Map,Yi=[],EM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BE(t,e){switch(t){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":Ud.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(e.pointerId)}}function Cu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Dh(e),e!==null&&rb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function NM(t,e,n,r,s){switch(e){case"focusin":return ho=Cu(ho,t,e,n,r,s),!0;case"dragenter":return fo=Cu(fo,t,e,n,r,s),!0;case"mouseover":return po=Cu(po,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ud.set(i,Cu(Ud.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bd.set(i,Cu(Bd.get(i)||null,t,e,n,r,s)),!0}return!1}function Hk(t){var e=Ea(t.target);if(e!==null){var n=sl(e);if(n!==null){if(e=n.tag,e===13){if(e=Pk(n),e!==null){t.blockedOn=e,zk(t.priority,function(){Uk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ep(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lx=r,n.target.dispatchEvent(r),Lx=null}else return e=Dh(n),e!==null&&rb(e),t.blockedOn=n,!1;e.shift()}return!0}function zE(t,e,n){Ep(t)&&n.delete(e)}function SM(){Ux=!1,ho!==null&&Ep(ho)&&(ho=null),fo!==null&&Ep(fo)&&(fo=null),po!==null&&Ep(po)&&(po=null),Ud.forEach(zE),Bd.forEach(zE)}function ju(t,e){t.blockedOn===e&&(t.blockedOn=null,Ux||(Ux=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,SM)))}function zd(t){function e(s){return ju(s,t)}if(0<zf.length){ju(zf[0],t);for(var n=1;n<zf.length;n++){var r=zf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ho!==null&&ju(ho,t),fo!==null&&ju(fo,t),po!==null&&ju(po,t),Ud.forEach(e),Bd.forEach(e),n=0;n<Yi.length;n++)r=Yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yi.length&&(n=Yi[0],n.blockedOn===null);)Hk(n),n.blockedOn===null&&Yi.shift()}var ic=Ii.ReactCurrentBatchConfig,nm=!0;function TM(t,e,n,r){var s=st,i=ic.transition;ic.transition=null;try{st=1,sb(t,e,n,r)}finally{st=s,ic.transition=i}}function CM(t,e,n,r){var s=st,i=ic.transition;ic.transition=null;try{st=4,sb(t,e,n,r)}finally{st=s,ic.transition=i}}function sb(t,e,n,r){if(nm){var s=Bx(t,e,n,r);if(s===null)p0(t,e,r,rm,n),BE(t,r);else if(NM(s,t,e,n,r))r.stopPropagation();else if(BE(t,r),e&4&&-1<EM.indexOf(t)){for(;s!==null;){var i=Dh(s);if(i!==null&&$k(i),i=Bx(t,e,n,r),i===null&&p0(t,e,r,rm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else p0(t,e,r,null,n)}}var rm=null;function Bx(t,e,n,r){if(rm=null,t=eb(r),t=Ea(t),t!==null)if(e=sl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rm=t,null}function Wk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pM()){case tb:return 1;case Lk:return 4;case em:case mM:return 16;case Mk:return 536870912;default:return 16}default:return 16}}var oo=null,ib=null,Np=null;function qk(){if(Np)return Np;var t,e=ib,n=e.length,r,s="value"in oo?oo.value:oo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Np=s.slice(t,1<r?1-r:void 0)}function Sp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hf(){return!0}function HE(){return!1}function gr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hf:HE,this.isPropagationStopped=HE,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hf)},persist:function(){},isPersistent:Hf}),e}var Hc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ob=gr(Hc),Oh=_t({},Hc,{view:0,detail:0}),jM=gr(Oh),i0,o0,ku,Cg=_t({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ab,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ku&&(ku&&t.type==="mousemove"?(i0=t.screenX-ku.screenX,o0=t.screenY-ku.screenY):o0=i0=0,ku=t),i0)},movementY:function(t){return"movementY"in t?t.movementY:o0}}),WE=gr(Cg),kM=_t({},Cg,{dataTransfer:0}),IM=gr(kM),AM=_t({},Oh,{relatedTarget:0}),a0=gr(AM),PM=_t({},Hc,{animationName:0,elapsedTime:0,pseudoElement:0}),RM=gr(PM),OM=_t({},Hc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DM=gr(OM),LM=_t({},Hc,{data:0}),qE=gr(LM),MM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $M(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FM[t])?!!e[t]:!1}function ab(){return $M}var UM=_t({},Oh,{key:function(t){if(t.key){var e=MM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ab,charCode:function(t){return t.type==="keypress"?Sp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BM=gr(UM),zM=_t({},Cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KE=gr(zM),HM=_t({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ab}),WM=gr(HM),qM=_t({},Hc,{propertyName:0,elapsedTime:0,pseudoElement:0}),KM=gr(qM),GM=_t({},Cg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YM=gr(GM),QM=[9,13,27,32],lb=pi&&"CompositionEvent"in window,pd=null;pi&&"documentMode"in document&&(pd=document.documentMode);var ZM=pi&&"TextEvent"in window&&!pd,Kk=pi&&(!lb||pd&&8<pd&&11>=pd),GE=" ",YE=!1;function Gk(t,e){switch(t){case"keyup":return QM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $l=!1;function XM(t,e){switch(t){case"compositionend":return Yk(e);case"keypress":return e.which!==32?null:(YE=!0,GE);case"textInput":return t=e.data,t===GE&&YE?null:t;default:return null}}function JM(t,e){if($l)return t==="compositionend"||!lb&&Gk(t,e)?(t=qk(),Np=ib=oo=null,$l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kk&&e.locale!=="ko"?null:e.data;default:return null}}var e6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e6[t.type]:e==="textarea"}function Qk(t,e,n,r){Ck(r),e=sm(e,"onChange"),0<e.length&&(n=new ob("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var md=null,Hd=null;function t6(t){aI(t,0)}function jg(t){var e=zl(t);if(wk(e))return t}function n6(t,e){if(t==="change")return e}var Zk=!1;if(pi){var l0;if(pi){var c0="oninput"in document;if(!c0){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),c0=typeof ZE.oninput=="function"}l0=c0}else l0=!1;Zk=l0&&(!document.documentMode||9<document.documentMode)}function XE(){md&&(md.detachEvent("onpropertychange",Xk),Hd=md=null)}function Xk(t){if(t.propertyName==="value"&&jg(Hd)){var e=[];Qk(e,Hd,t,eb(t)),Ak(t6,e)}}function r6(t,e,n){t==="focusin"?(XE(),md=e,Hd=n,md.attachEvent("onpropertychange",Xk)):t==="focusout"&&XE()}function s6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jg(Hd)}function i6(t,e){if(t==="click")return jg(e)}function o6(t,e){if(t==="input"||t==="change")return jg(e)}function a6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xr=typeof Object.is=="function"?Object.is:a6;function Wd(t,e){if(Xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nx.call(e,s)||!Xr(t[s],e[s]))return!1}return!0}function JE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eN(t,e){var n=JE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JE(n)}}function Jk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eI(){for(var t=window,e=Zp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zp(t.document)}return e}function cb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function l6(t){var e=eI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jk(n.ownerDocument.documentElement,n)){if(r!==null&&cb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=eN(n,i);var o=eN(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c6=pi&&"documentMode"in document&&11>=document.documentMode,Ul=null,zx=null,gd=null,Hx=!1;function tN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hx||Ul==null||Ul!==Zp(r)||(r=Ul,"selectionStart"in r&&cb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gd&&Wd(gd,r)||(gd=r,r=sm(zx,"onSelect"),0<r.length&&(e=new ob("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ul)))}function Wf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bl={animationend:Wf("Animation","AnimationEnd"),animationiteration:Wf("Animation","AnimationIteration"),animationstart:Wf("Animation","AnimationStart"),transitionend:Wf("Transition","TransitionEnd")},u0={},tI={};pi&&(tI=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function kg(t){if(u0[t])return u0[t];if(!Bl[t])return t;var e=Bl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tI)return u0[t]=e[n];return t}var nI=kg("animationend"),rI=kg("animationiteration"),sI=kg("animationstart"),iI=kg("transitionend"),oI=new Map,nN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){oI.set(t,e),rl(e,[t])}for(var d0=0;d0<nN.length;d0++){var h0=nN[d0],u6=h0.toLowerCase(),d6=h0[0].toUpperCase()+h0.slice(1);Ho(u6,"on"+d6)}Ho(nI,"onAnimationEnd");Ho(rI,"onAnimationIteration");Ho(sI,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(iI,"onTransitionEnd");fc("onMouseEnter",["mouseout","mouseover"]);fc("onMouseLeave",["mouseout","mouseover"]);fc("onPointerEnter",["pointerout","pointerover"]);fc("onPointerLeave",["pointerout","pointerover"]);rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function rN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uM(r,e,void 0,t),t.currentTarget=null}function aI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;rN(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;rN(s,l,u),i=c}}}if(Jp)throw t=Fx,Jp=!1,Fx=null,t}function dt(t,e){var n=e[Yx];n===void 0&&(n=e[Yx]=new Set);var r=t+"__bubble";n.has(r)||(lI(e,t,2,!1),n.add(r))}function f0(t,e,n){var r=0;e&&(r|=4),lI(n,t,r,e)}var qf="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[qf]){t[qf]=!0,mk.forEach(function(n){n!=="selectionchange"&&(h6.has(n)||f0(n,!1,t),f0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qf]||(e[qf]=!0,f0("selectionchange",!1,e))}}function lI(t,e,n,r){switch(Wk(e)){case 1:var s=TM;break;case 4:s=CM;break;default:s=sb}n=s.bind(null,e,n,t),s=void 0,!Vx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function p0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ea(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Ak(function(){var u=i,d=eb(n),h=[];e:{var p=oI.get(t);if(p!==void 0){var m=ob,x=t;switch(t){case"keypress":if(Sp(n)===0)break e;case"keydown":case"keyup":m=BM;break;case"focusin":x="focus",m=a0;break;case"focusout":x="blur",m=a0;break;case"beforeblur":case"afterblur":m=a0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=WE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=IM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WM;break;case nI:case rI:case sI:m=RM;break;case iI:m=KM;break;case"scroll":m=jM;break;case"wheel":m=YM;break;case"copy":case"cut":case"paste":m=DM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=KE}var w=(e&4)!==0,S=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var v=u,T;v!==null;){T=v;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,_!==null&&(k=$d(v,_),k!=null&&w.push(Kd(v,k,T)))),S)break;v=v.return}0<w.length&&(p=new m(p,x,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Lx&&(x=n.relatedTarget||n.fromElement)&&(Ea(x)||x[mi]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?Ea(x):null,x!==null&&(S=sl(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(w=WE,k="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=KE,k="onPointerLeave",_="onPointerEnter",v="pointer"),S=m==null?p:zl(m),T=x==null?p:zl(x),p=new w(k,v+"leave",m,n,d),p.target=S,p.relatedTarget=T,k=null,Ea(d)===u&&(w=new w(_,v+"enter",x,n,d),w.target=T,w.relatedTarget=S,k=w),S=k,m&&x)t:{for(w=m,_=x,v=0,T=w;T;T=jl(T))v++;for(T=0,k=_;k;k=jl(k))T++;for(;0<v-T;)w=jl(w),v--;for(;0<T-v;)_=jl(_),T--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=jl(w),_=jl(_)}w=null}else w=null;m!==null&&sN(h,p,m,w,!1),x!==null&&S!==null&&sN(h,S,x,w,!0)}}e:{if(p=u?zl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=n6;else if(QE(p))if(Zk)P=o6;else{P=s6;var O=r6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=i6);if(P&&(P=P(t,u))){Qk(h,P,n,d);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Ax(p,"number",p.value)}switch(O=u?zl(u):window,t){case"focusin":(QE(O)||O.contentEditable==="true")&&(Ul=O,zx=u,gd=null);break;case"focusout":gd=zx=Ul=null;break;case"mousedown":Hx=!0;break;case"contextmenu":case"mouseup":case"dragend":Hx=!1,tN(h,n,d);break;case"selectionchange":if(c6)break;case"keydown":case"keyup":tN(h,n,d)}var N;if(lb)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $l?Gk(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Kk&&n.locale!=="ko"&&($l||E!=="onCompositionStart"?E==="onCompositionEnd"&&$l&&(N=qk()):(oo=d,ib="value"in oo?oo.value:oo.textContent,$l=!0)),O=sm(u,E),0<O.length&&(E=new qE(E,t,null,n,d),h.push({event:E,listeners:O}),N?E.data=N:(N=Yk(n),N!==null&&(E.data=N)))),(N=ZM?XM(t,n):JM(t,n))&&(u=sm(u,"onBeforeInput"),0<u.length&&(d=new qE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}aI(h,e)})}function Kd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$d(t,n),i!=null&&r.unshift(Kd(t,i,s)),i=$d(t,e),i!=null&&r.push(Kd(t,i,s))),t=t.return}return r}function jl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sN(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=$d(n,i),c!=null&&o.unshift(Kd(n,c,l))):s||(c=$d(n,i),c!=null&&o.push(Kd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var f6=/\r\n?/g,p6=/\u0000|\uFFFD/g;function iN(t){return(typeof t=="string"?t:""+t).replace(f6,`
`).replace(p6,"")}function Kf(t,e,n){if(e=iN(e),iN(t)!==e&&n)throw Error(Y(425))}function im(){}var Wx=null,qx=null;function Kx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gx=typeof setTimeout=="function"?setTimeout:void 0,m6=typeof clearTimeout=="function"?clearTimeout:void 0,oN=typeof Promise=="function"?Promise:void 0,g6=typeof queueMicrotask=="function"?queueMicrotask:typeof oN<"u"?function(t){return oN.resolve(null).then(t).catch(y6)}:Gx;function y6(t){setTimeout(function(){throw t})}function m0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zd(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wc=Math.random().toString(36).slice(2),ps="__reactFiber$"+Wc,Gd="__reactProps$"+Wc,mi="__reactContainer$"+Wc,Yx="__reactEvents$"+Wc,x6="__reactListeners$"+Wc,v6="__reactHandles$"+Wc;function Ea(t){var e=t[ps];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[ps]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aN(t);t!==null;){if(n=t[ps])return n;t=aN(t)}return e}t=n,n=t.parentNode}return null}function Dh(t){return t=t[ps]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Ig(t){return t[Gd]||null}var Qx=[],Hl=-1;function Wo(t){return{current:t}}function pt(t){0>Hl||(t.current=Qx[Hl],Qx[Hl]=null,Hl--)}function ct(t,e){Hl++,Qx[Hl]=t.current,t.current=e}var Co={},Sn=Wo(Co),Wn=Wo(!1),Ua=Co;function pc(t,e){var n=t.type.contextTypes;if(!n)return Co;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qn(t){return t=t.childContextTypes,t!=null}function om(){pt(Wn),pt(Sn)}function lN(t,e,n){if(Sn.current!==Co)throw Error(Y(168));ct(Sn,e),ct(Wn,n)}function cI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,rM(t)||"Unknown",s));return _t({},n,r)}function am(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Co,Ua=Sn.current,ct(Sn,t),ct(Wn,Wn.current),!0}function cN(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=cI(t,e,Ua),r.__reactInternalMemoizedMergedChildContext=t,pt(Wn),pt(Sn),ct(Sn,t)):pt(Wn),ct(Wn,n)}var ei=null,Ag=!1,g0=!1;function uI(t){ei===null?ei=[t]:ei.push(t)}function w6(t){Ag=!0,uI(t)}function qo(){if(!g0&&ei!==null){g0=!0;var t=0,e=st;try{var n=ei;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,Ag=!1}catch(s){throw ei!==null&&(ei=ei.slice(t+1)),Dk(tb,qo),s}finally{st=e,g0=!1}}return null}var Wl=[],ql=0,lm=null,cm=0,wr=[],br=0,Ba=null,ti=1,ni="";function da(t,e){Wl[ql++]=cm,Wl[ql++]=lm,lm=t,cm=e}function dI(t,e,n){wr[br++]=ti,wr[br++]=ni,wr[br++]=Ba,Ba=t;var r=ti;t=ni;var s=32-Qr(r)-1;r&=~(1<<s),n+=1;var i=32-Qr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ti=1<<32-Qr(e)+s|n<<s|r,ni=i+t}else ti=1<<i|n<<s|r,ni=t}function ub(t){t.return!==null&&(da(t,1),dI(t,1,0))}function db(t){for(;t===lm;)lm=Wl[--ql],Wl[ql]=null,cm=Wl[--ql],Wl[ql]=null;for(;t===Ba;)Ba=wr[--br],wr[br]=null,ni=wr[--br],wr[br]=null,ti=wr[--br],wr[br]=null}var or=null,sr=null,yt=!1,Ur=null;function hI(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,or=t,sr=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,or=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ba!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,or=t,sr=null,!0):!1;default:return!1}}function Zx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xx(t){if(yt){var e=sr;if(e){var n=e;if(!uN(t,e)){if(Zx(t))throw Error(Y(418));e=mo(n.nextSibling);var r=or;e&&uN(t,e)?hI(r,n):(t.flags=t.flags&-4097|2,yt=!1,or=t)}}else{if(Zx(t))throw Error(Y(418));t.flags=t.flags&-4097|2,yt=!1,or=t}}}function dN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function Gf(t){if(t!==or)return!1;if(!yt)return dN(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kx(t.type,t.memoizedProps)),e&&(e=sr)){if(Zx(t))throw fI(),Error(Y(418));for(;e;)hI(t,e),e=mo(e.nextSibling)}if(dN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sr=mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=or?mo(t.stateNode.nextSibling):null;return!0}function fI(){for(var t=sr;t;)t=mo(t.nextSibling)}function mc(){sr=or=null,yt=!1}function hb(t){Ur===null?Ur=[t]:Ur.push(t)}var b6=Ii.ReactCurrentBatchConfig;function Iu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hN(t){var e=t._init;return e(t._payload)}function pI(t){function e(_,v){if(t){var T=_.deletions;T===null?(_.deletions=[v],_.flags|=16):T.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=vo(_,v),_.index=0,_.sibling=null,_}function i(_,v,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<v?(_.flags|=2,v):T):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,T,k){return v===null||v.tag!==6?(v=E0(T,_.mode,k),v.return=_,v):(v=s(v,T),v.return=_,v)}function c(_,v,T,k){var P=T.type;return P===Fl?d(_,v,T.props.children,k,T.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qi&&hN(P)===v.type)?(k=s(v,T.props),k.ref=Iu(_,v,T),k.return=_,k):(k=Pp(T.type,T.key,T.props,null,_.mode,k),k.ref=Iu(_,v,T),k.return=_,k)}function u(_,v,T,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=N0(T,_.mode,k),v.return=_,v):(v=s(v,T.children||[]),v.return=_,v)}function d(_,v,T,k,P){return v===null||v.tag!==7?(v=Oa(T,_.mode,k,P),v.return=_,v):(v=s(v,T),v.return=_,v)}function h(_,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=E0(""+v,_.mode,T),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vf:return T=Pp(v.type,v.key,v.props,null,_.mode,T),T.ref=Iu(_,null,v),T.return=_,T;case Vl:return v=N0(v,_.mode,T),v.return=_,v;case qi:var k=v._init;return h(_,k(v._payload),T)}if(Qu(v)||Su(v))return v=Oa(v,_.mode,T,null),v.return=_,v;Yf(_,v)}return null}function p(_,v,T,k){var P=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:l(_,v,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vf:return T.key===P?c(_,v,T,k):null;case Vl:return T.key===P?u(_,v,T,k):null;case qi:return P=T._init,p(_,v,P(T._payload),k)}if(Qu(T)||Su(T))return P!==null?null:d(_,v,T,k,null);Yf(_,T)}return null}function m(_,v,T,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(T)||null,l(v,_,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vf:return _=_.get(k.key===null?T:k.key)||null,c(v,_,k,P);case Vl:return _=_.get(k.key===null?T:k.key)||null,u(v,_,k,P);case qi:var O=k._init;return m(_,v,T,O(k._payload),P)}if(Qu(k)||Su(k))return _=_.get(T)||null,d(v,_,k,P,null);Yf(v,k)}return null}function x(_,v,T,k){for(var P=null,O=null,N=v,E=v=0,j=null;N!==null&&E<T.length;E++){N.index>E?(j=N,N=null):j=N.sibling;var R=p(_,N,T[E],k);if(R===null){N===null&&(N=j);break}t&&N&&R.alternate===null&&e(_,N),v=i(R,v,E),O===null?P=R:O.sibling=R,O=R,N=j}if(E===T.length)return n(_,N),yt&&da(_,E),P;if(N===null){for(;E<T.length;E++)N=h(_,T[E],k),N!==null&&(v=i(N,v,E),O===null?P=N:O.sibling=N,O=N);return yt&&da(_,E),P}for(N=r(_,N);E<T.length;E++)j=m(N,_,E,T[E],k),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?E:j.key),v=i(j,v,E),O===null?P=j:O.sibling=j,O=j);return t&&N.forEach(function(D){return e(_,D)}),yt&&da(_,E),P}function w(_,v,T,k){var P=Su(T);if(typeof P!="function")throw Error(Y(150));if(T=P.call(T),T==null)throw Error(Y(151));for(var O=P=null,N=v,E=v=0,j=null,R=T.next();N!==null&&!R.done;E++,R=T.next()){N.index>E?(j=N,N=null):j=N.sibling;var D=p(_,N,R.value,k);if(D===null){N===null&&(N=j);break}t&&N&&D.alternate===null&&e(_,N),v=i(D,v,E),O===null?P=D:O.sibling=D,O=D,N=j}if(R.done)return n(_,N),yt&&da(_,E),P;if(N===null){for(;!R.done;E++,R=T.next())R=h(_,R.value,k),R!==null&&(v=i(R,v,E),O===null?P=R:O.sibling=R,O=R);return yt&&da(_,E),P}for(N=r(_,N);!R.done;E++,R=T.next())R=m(N,_,E,R.value,k),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?E:R.key),v=i(R,v,E),O===null?P=R:O.sibling=R,O=R);return t&&N.forEach(function(L){return e(_,L)}),yt&&da(_,E),P}function S(_,v,T,k){if(typeof T=="object"&&T!==null&&T.type===Fl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vf:e:{for(var P=T.key,O=v;O!==null;){if(O.key===P){if(P=T.type,P===Fl){if(O.tag===7){n(_,O.sibling),v=s(O,T.props.children),v.return=_,_=v;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qi&&hN(P)===O.type){n(_,O.sibling),v=s(O,T.props),v.ref=Iu(_,O,T),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}T.type===Fl?(v=Oa(T.props.children,_.mode,k,T.key),v.return=_,_=v):(k=Pp(T.type,T.key,T.props,null,_.mode,k),k.ref=Iu(_,v,T),k.return=_,_=k)}return o(_);case Vl:e:{for(O=T.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(_,v.sibling),v=s(v,T.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=N0(T,_.mode,k),v.return=_,_=v}return o(_);case qi:return O=T._init,S(_,v,O(T._payload),k)}if(Qu(T))return x(_,v,T,k);if(Su(T))return w(_,v,T,k);Yf(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,T),v.return=_,_=v):(n(_,v),v=E0(T,_.mode,k),v.return=_,_=v),o(_)):n(_,v)}return S}var gc=pI(!0),mI=pI(!1),um=Wo(null),dm=null,Kl=null,fb=null;function pb(){fb=Kl=dm=null}function mb(t){var e=um.current;pt(um),t._currentValue=e}function Jx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oc(t,e){dm=t,fb=Kl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zn=!0),t.firstContext=null)}function Cr(t){var e=t._currentValue;if(fb!==t)if(t={context:t,memoizedValue:e,next:null},Kl===null){if(dm===null)throw Error(Y(308));Kl=t,dm.dependencies={lanes:0,firstContext:t}}else Kl=Kl.next=t;return e}var Na=null;function gb(t){Na===null?Na=[t]:Na.push(t)}function gI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gb(e)):(n.next=s.next,s.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ki=!1;function yb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gi(t,n)}return s=r.interleaved,s===null?(e.next=e,gb(r)):(e.next=s.next,s.next=e),r.interleaved=e,gi(t,n)}function Tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nb(t,n)}}function fN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hm(t,e,n,r){var s=t.updateQueue;Ki=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,w=l;switch(p=e,m=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(m,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(m,h,p):x,p==null)break e;h=_t({},h,p);break e;case 2:Ki=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ha|=o,t.lanes=o,t.memoizedState=h}}function pN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Lh={},Es=Wo(Lh),Yd=Wo(Lh),Qd=Wo(Lh);function Sa(t){if(t===Lh)throw Error(Y(174));return t}function xb(t,e){switch(ct(Qd,e),ct(Yd,t),ct(Es,Lh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rx(e,t)}pt(Es),ct(Es,e)}function yc(){pt(Es),pt(Yd),pt(Qd)}function xI(t){Sa(Qd.current);var e=Sa(Es.current),n=Rx(e,t.type);e!==n&&(ct(Yd,t),ct(Es,n))}function vb(t){Yd.current===t&&(pt(Es),pt(Yd))}var vt=Wo(0);function fm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var y0=[];function wb(){for(var t=0;t<y0.length;t++)y0[t]._workInProgressVersionPrimary=null;y0.length=0}var Cp=Ii.ReactCurrentDispatcher,x0=Ii.ReactCurrentBatchConfig,za=0,bt=null,Bt=null,Gt=null,pm=!1,yd=!1,Zd=0,_6=0;function dn(){throw Error(Y(321))}function bb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xr(t[n],e[n]))return!1;return!0}function _b(t,e,n,r,s,i){if(za=i,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cp.current=t===null||t.memoizedState===null?T6:C6,t=n(r,s),yd){i=0;do{if(yd=!1,Zd=0,25<=i)throw Error(Y(301));i+=1,Gt=Bt=null,e.updateQueue=null,Cp.current=j6,t=n(r,s)}while(yd)}if(Cp.current=mm,e=Bt!==null&&Bt.next!==null,za=0,Gt=Bt=bt=null,pm=!1,e)throw Error(Y(300));return t}function Eb(){var t=Zd!==0;return Zd=0,t}function cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?bt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function jr(){if(Bt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=Gt===null?bt.memoizedState:Gt.next;if(e!==null)Gt=e,Bt=t;else{if(t===null)throw Error(Y(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?bt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Xd(t,e){return typeof e=="function"?e(t):e}function v0(t){var e=jr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Bt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((za&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,bt.lanes|=d,Ha|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Xr(r,e.memoizedState)||(zn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,bt.lanes|=i,Ha|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function w0(t){var e=jr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xr(i,e.memoizedState)||(zn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vI(){}function wI(t,e){var n=bt,r=jr(),s=e(),i=!Xr(r.memoizedState,s);if(i&&(r.memoizedState=s,zn=!0),r=r.queue,Nb(EI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,Jd(9,_I.bind(null,n,r,s,e),void 0,null),Yt===null)throw Error(Y(349));za&30||bI(n,e,s)}return s}function bI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _I(t,e,n,r){e.value=n,e.getSnapshot=r,NI(e)&&SI(t)}function EI(t,e,n){return n(function(){NI(e)&&SI(t)})}function NI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xr(t,n)}catch{return!0}}function SI(t){var e=gi(t,1);e!==null&&Zr(e,t,1,-1)}function mN(t){var e=cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:t},e.queue=t,t=t.dispatch=S6.bind(null,bt,t),[e.memoizedState,t]}function Jd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TI(){return jr().memoizedState}function jp(t,e,n,r){var s=cs();bt.flags|=t,s.memoizedState=Jd(1|e,n,void 0,r===void 0?null:r)}function Pg(t,e,n,r){var s=jr();r=r===void 0?null:r;var i=void 0;if(Bt!==null){var o=Bt.memoizedState;if(i=o.destroy,r!==null&&bb(r,o.deps)){s.memoizedState=Jd(e,n,i,r);return}}bt.flags|=t,s.memoizedState=Jd(1|e,n,i,r)}function gN(t,e){return jp(8390656,8,t,e)}function Nb(t,e){return Pg(2048,8,t,e)}function CI(t,e){return Pg(4,2,t,e)}function jI(t,e){return Pg(4,4,t,e)}function kI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function II(t,e,n){return n=n!=null?n.concat([t]):null,Pg(4,4,kI.bind(null,e,t),n)}function Sb(){}function AI(t,e){var n=jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PI(t,e){var n=jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RI(t,e,n){return za&21?(Xr(n,e)||(n=Vk(),bt.lanes|=n,Ha|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zn=!0),t.memoizedState=n)}function E6(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=x0.transition;x0.transition={};try{t(!1),e()}finally{st=n,x0.transition=r}}function OI(){return jr().memoizedState}function N6(t,e,n){var r=xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DI(t))LI(e,n);else if(n=gI(t,e,n,r),n!==null){var s=Rn();Zr(n,t,r,s),MI(n,e,r)}}function S6(t,e,n){var r=xo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DI(t))LI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Xr(l,o)){var c=e.interleaved;c===null?(s.next=s,gb(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=gI(t,e,s,r),n!==null&&(s=Rn(),Zr(n,t,r,s),MI(n,e,r))}}function DI(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function LI(t,e){yd=pm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nb(t,n)}}var mm={readContext:Cr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},T6={readContext:Cr,useCallback:function(t,e){return cs().memoizedState=[t,e===void 0?null:e],t},useContext:Cr,useEffect:gN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jp(4194308,4,kI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jp(4194308,4,t,e)},useInsertionEffect:function(t,e){return jp(4,2,t,e)},useMemo:function(t,e){var n=cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=N6.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=cs();return t={current:t},e.memoizedState=t},useState:mN,useDebugValue:Sb,useDeferredValue:function(t){return cs().memoizedState=t},useTransition:function(){var t=mN(!1),e=t[0];return t=E6.bind(null,t[1]),cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,s=cs();if(yt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Yt===null)throw Error(Y(349));za&30||bI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gN(EI.bind(null,r,i,t),[t]),r.flags|=2048,Jd(9,_I.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cs(),e=Yt.identifierPrefix;if(yt){var n=ni,r=ti;n=(r&~(1<<32-Qr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C6={readContext:Cr,useCallback:AI,useContext:Cr,useEffect:Nb,useImperativeHandle:II,useInsertionEffect:CI,useLayoutEffect:jI,useMemo:PI,useReducer:v0,useRef:TI,useState:function(){return v0(Xd)},useDebugValue:Sb,useDeferredValue:function(t){var e=jr();return RI(e,Bt.memoizedState,t)},useTransition:function(){var t=v0(Xd)[0],e=jr().memoizedState;return[t,e]},useMutableSource:vI,useSyncExternalStore:wI,useId:OI,unstable_isNewReconciler:!1},j6={readContext:Cr,useCallback:AI,useContext:Cr,useEffect:Nb,useImperativeHandle:II,useInsertionEffect:CI,useLayoutEffect:jI,useMemo:PI,useReducer:w0,useRef:TI,useState:function(){return w0(Xd)},useDebugValue:Sb,useDeferredValue:function(t){var e=jr();return Bt===null?e.memoizedState=t:RI(e,Bt.memoizedState,t)},useTransition:function(){var t=w0(Xd)[0],e=jr().memoizedState;return[t,e]},useMutableSource:vI,useSyncExternalStore:wI,useId:OI,unstable_isNewReconciler:!1};function Vr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ev(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rg={isMounted:function(t){return(t=t._reactInternals)?sl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),s=xo(t),i=oi(r,s);i.payload=e,n!=null&&(i.callback=n),e=go(t,i,s),e!==null&&(Zr(e,t,s,r),Tp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),s=xo(t),i=oi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=go(t,i,s),e!==null&&(Zr(e,t,s,r),Tp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=xo(t),s=oi(n,r);s.tag=2,e!=null&&(s.callback=e),e=go(t,s,r),e!==null&&(Zr(e,t,r,n),Tp(e,t,r))}};function yN(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wd(n,r)||!Wd(s,i):!0}function VI(t,e,n){var r=!1,s=Co,i=e.contextType;return typeof i=="object"&&i!==null?i=Cr(i):(s=qn(e)?Ua:Sn.current,r=e.contextTypes,i=(r=r!=null)?pc(t,s):Co),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rg.enqueueReplaceState(e,e.state,null)}function tv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},yb(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cr(i):(i=qn(e)?Ua:Sn.current,s.context=pc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ev(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rg.enqueueReplaceState(s,s.state,null),hm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function xc(t,e){try{var n="",r=e;do n+=nM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function b0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k6=typeof WeakMap=="function"?WeakMap:Map;function FI(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ym||(ym=!0,hv=r),nv(t,e)},n}function $I(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){nv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nv(t,e),typeof r!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=z6.bind(null,t,e,n),e.then(t,t))}function wN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bN(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,go(n,e,1))),n.lanes|=1),t)}var I6=Ii.ReactCurrentOwner,zn=!1;function kn(t,e,n,r){e.child=t===null?mI(e,null,n,r):gc(e,t.child,n,r)}function _N(t,e,n,r,s){n=n.render;var i=e.ref;return oc(e,s),r=_b(t,e,n,r,i,s),n=Eb(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(yt&&n&&ub(e),e.flags|=1,kn(t,e,r,s),e.child)}function EN(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Rb(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,UI(t,e,i,r,s)):(t=Pp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wd,n(o,r)&&t.ref===e.ref)return yi(t,e,s)}return e.flags|=1,t=vo(i,r),t.ref=e.ref,t.return=e,e.child=t}function UI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Wd(i,r)&&t.ref===e.ref)if(zn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(zn=!0);else return e.lanes=t.lanes,yi(t,e,s)}return rv(t,e,n,r,s)}function BI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Yl,nr),nr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(Yl,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ct(Yl,nr),nr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ct(Yl,nr),nr|=r;return kn(t,e,s,n),e.child}function zI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rv(t,e,n,r,s){var i=qn(n)?Ua:Sn.current;return i=pc(e,i),oc(e,s),n=_b(t,e,n,r,i,s),r=Eb(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(yt&&r&&ub(e),e.flags|=1,kn(t,e,n,s),e.child)}function NN(t,e,n,r,s){if(qn(n)){var i=!0;am(e)}else i=!1;if(oc(e,s),e.stateNode===null)kp(t,e),VI(e,n,r),tv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=qn(n)?Ua:Sn.current,u=pc(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&xN(e,o,r,u),Ki=!1;var p=e.memoizedState;o.state=p,hm(e,r,o,s),c=e.memoizedState,l!==r||p!==c||Wn.current||Ki?(typeof d=="function"&&(ev(e,n,d,r),c=e.memoizedState),(l=Ki||yN(e,n,l,r,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Vr(e.type,l),o.props=u,h=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=qn(n)?Ua:Sn.current,c=pc(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&xN(e,o,r,c),Ki=!1,p=e.memoizedState,o.state=p,hm(e,r,o,s);var x=e.memoizedState;l!==h||p!==x||Wn.current||Ki?(typeof m=="function"&&(ev(e,n,m,r),x=e.memoizedState),(u=Ki||yN(e,n,u,r,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return sv(t,e,n,r,i,s)}function sv(t,e,n,r,s,i){zI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&cN(e,n,!1),yi(t,e,i);r=e.stateNode,I6.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gc(e,t.child,null,i),e.child=gc(e,null,l,i)):kn(t,e,l,i),e.memoizedState=r.state,s&&cN(e,n,!0),e.child}function HI(t){var e=t.stateNode;e.pendingContext?lN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lN(t,e.context,!1),xb(t,e.containerInfo)}function SN(t,e,n,r,s){return mc(),hb(s),e.flags|=256,kn(t,e,n,r),e.child}var iv={dehydrated:null,treeContext:null,retryLane:0};function ov(t){return{baseLanes:t,cachePool:null,transitions:null}}function WI(t,e,n){var r=e.pendingProps,s=vt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ct(vt,s&1),t===null)return Xx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Lg(o,r,0,null),t=Oa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ov(n),e.memoizedState=iv,t):Tb(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return A6(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=vo(l,i):(i=Oa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ov(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=iv,r}return i=t.child,t=i.sibling,r=vo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tb(t,e){return e=Lg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qf(t,e,n,r){return r!==null&&hb(r),gc(e,t.child,null,n),t=Tb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A6(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=b0(Error(Y(422))),Qf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Lg({mode:"visible",children:r.children},s,0,null),i=Oa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&gc(e,t.child,null,o),e.child.memoizedState=ov(o),e.memoizedState=iv,i);if(!(e.mode&1))return Qf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Y(419)),r=b0(i,r,void 0),Qf(t,e,o,r)}if(l=(o&t.childLanes)!==0,zn||l){if(r=Yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gi(t,s),Zr(r,t,s,-1))}return Pb(),r=b0(Error(Y(421))),Qf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=H6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,sr=mo(s.nextSibling),or=e,yt=!0,Ur=null,t!==null&&(wr[br++]=ti,wr[br++]=ni,wr[br++]=Ba,ti=t.id,ni=t.overflow,Ba=e),e=Tb(e,r.children),e.flags|=4096,e)}function TN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jx(t.return,e,n)}function _0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TN(t,n,e);else if(t.tag===19)TN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(vt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_0(e,!0,n,null,i);break;case"together":_0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ha|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P6(t,e,n){switch(e.tag){case 3:HI(e),mc();break;case 5:xI(e);break;case 1:qn(e.type)&&am(e);break;case 4:xb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ct(um,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?WI(t,e,n):(ct(vt,vt.current&1),t=yi(t,e,n),t!==null?t.sibling:null);ct(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ct(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,BI(t,e,n)}return yi(t,e,n)}var KI,av,GI,YI;KI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};av=function(){};GI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Sa(Es.current);var i=null;switch(n){case"input":s=kx(t,s),r=kx(t,r),i=[];break;case"select":s=_t({},s,{value:void 0}),r=_t({},r,{value:void 0}),i=[];break;case"textarea":s=Px(t,s),r=Px(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=im)}Ox(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&dt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};YI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Au(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function R6(t,e,n){var r=e.pendingProps;switch(db(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return qn(e.type)&&om(),hn(e),null;case 3:return r=e.stateNode,yc(),pt(Wn),pt(Sn),wb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(mv(Ur),Ur=null))),av(t,e),hn(e),null;case 5:vb(e);var s=Sa(Qd.current);if(n=e.type,t!==null&&e.stateNode!=null)GI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return hn(e),null}if(t=Sa(Es.current),Gf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ps]=e,r[Gd]=i,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(s=0;s<Xu.length;s++)dt(Xu[s],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":DE(r,i),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},dt("invalid",r);break;case"textarea":ME(r,i),dt("invalid",r)}Ox(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Kf(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Kf(r.textContent,l,t),s=["children",""+l]):Vd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":Ff(r),LE(r,i,!0);break;case"textarea":Ff(r),VE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=im)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ek(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ps]=e,t[Gd]=r,KI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dx(n,r),n){case"dialog":dt("cancel",t),dt("close",t),s=r;break;case"iframe":case"object":case"embed":dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xu.length;s++)dt(Xu[s],t);s=r;break;case"source":dt("error",t),s=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),s=r;break;case"details":dt("toggle",t),s=r;break;case"input":DE(t,r),s=kx(t,r),dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_t({},r,{value:void 0}),dt("invalid",t);break;case"textarea":ME(t,r),s=Px(t,r),dt("invalid",t);break;default:s=r}Ox(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Tk(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nk(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fd(t,c):typeof c=="number"&&Fd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&dt("scroll",t):c!=null&&Qw(t,i,c,o))}switch(n){case"input":Ff(t),LE(t,r,!1);break;case"textarea":Ff(t),VE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+To(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?nc(t,!!r.multiple,i,!1):r.defaultValue!=null&&nc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=im)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)YI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Sa(Qd.current),Sa(Es.current),Gf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ps]=e,(i=r.nodeValue!==n)&&(t=or,t!==null))switch(t.tag){case 3:Kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ps]=e,e.stateNode=r}return hn(e),null;case 13:if(pt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&sr!==null&&e.mode&1&&!(e.flags&128))fI(),mc(),e.flags|=98560,i=!1;else if(i=Gf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[ps]=e}else mc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),i=!1}else Ur!==null&&(mv(Ur),Ur=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?zt===0&&(zt=3):Pb())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return yc(),av(t,e),t===null&&qd(e.stateNode.containerInfo),hn(e),null;case 10:return mb(e.type._context),hn(e),null;case 17:return qn(e.type)&&om(),hn(e),null;case 19:if(pt(vt),i=e.memoizedState,i===null)return hn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Au(i,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fm(t),o!==null){for(e.flags|=128,Au(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(vt,vt.current&1|2),e.child}t=t.sibling}i.tail!==null&&At()>vc&&(e.flags|=128,r=!0,Au(i,!1),e.lanes=4194304)}else{if(!r)if(t=fm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Au(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yt)return hn(e),null}else 2*At()-i.renderingStartTime>vc&&n!==1073741824&&(e.flags|=128,r=!0,Au(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=At(),e.sibling=null,n=vt.current,ct(vt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return Ab(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function O6(t,e){switch(db(e),e.tag){case 1:return qn(e.type)&&om(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yc(),pt(Wn),pt(Sn),wb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vb(e),null;case 13:if(pt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));mc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(vt),null;case 4:return yc(),null;case 10:return mb(e.type._context),null;case 22:case 23:return Ab(),null;case 24:return null;default:return null}}var Zf=!1,xn=!1,D6=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Gl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function lv(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var CN=!1;function L6(t,e){if(Wx=nm,t=eI(),cb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===s&&(l=o),p===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qx={focusedElem:t,selectionRange:n},nm=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,S=x.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Vr(e.type,w),S);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(k){Tt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return x=CN,CN=!1,x}function xd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lv(e,n,i)}s=s.next}while(s!==r)}}function Og(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QI(t){var e=t.alternate;e!==null&&(t.alternate=null,QI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ps],delete e[Gd],delete e[Yx],delete e[x6],delete e[v6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZI(t){return t.tag===5||t.tag===3||t.tag===4}function jN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=im));else if(r!==4&&(t=t.child,t!==null))for(uv(t,e,n),t=t.sibling;t!==null;)uv(t,e,n),t=t.sibling}function dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dv(t,e,n),t=t.sibling;t!==null;)dv(t,e,n),t=t.sibling}var Jt=null,$r=!1;function zi(t,e,n){for(n=n.child;n!==null;)XI(t,e,n),n=n.sibling}function XI(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(Tg,n)}catch{}switch(n.tag){case 5:xn||Gl(n,e);case 6:var r=Jt,s=$r;Jt=null,zi(t,e,n),Jt=r,$r=s,Jt!==null&&($r?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&($r?(t=Jt,n=n.stateNode,t.nodeType===8?m0(t.parentNode,n):t.nodeType===1&&m0(t,n),zd(t)):m0(Jt,n.stateNode));break;case 4:r=Jt,s=$r,Jt=n.stateNode.containerInfo,$r=!0,zi(t,e,n),Jt=r,$r=s;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lv(n,e,o),s=s.next}while(s!==r)}zi(t,e,n);break;case 1:if(!xn&&(Gl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tt(n,e,l)}zi(t,e,n);break;case 21:zi(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,zi(t,e,n),xn=r):zi(t,e,n);break;default:zi(t,e,n)}}function kN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D6),e.forEach(function(r){var s=W6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,$r=!1;break e;case 3:Jt=l.stateNode.containerInfo,$r=!0;break e;case 4:Jt=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(Jt===null)throw Error(Y(160));XI(i,o,s),Jt=null,$r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Tt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JI(e,t),e=e.sibling}function JI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lr(e,t),ls(t),r&4){try{xd(3,t,t.return),Og(3,t)}catch(w){Tt(t,t.return,w)}try{xd(5,t,t.return)}catch(w){Tt(t,t.return,w)}}break;case 1:Lr(e,t),ls(t),r&512&&n!==null&&Gl(n,n.return);break;case 5:if(Lr(e,t),ls(t),r&512&&n!==null&&Gl(n,n.return),t.flags&32){var s=t.stateNode;try{Fd(s,"")}catch(w){Tt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bk(s,i),Dx(l,o);var u=Dx(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Tk(s,h):d==="dangerouslySetInnerHTML"?Nk(s,h):d==="children"?Fd(s,h):Qw(s,d,h,u)}switch(l){case"input":Ix(s,i);break;case"textarea":_k(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?nc(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?nc(s,!!i.multiple,i.defaultValue,!0):nc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gd]=i}catch(w){Tt(t,t.return,w)}}break;case 6:if(Lr(e,t),ls(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Tt(t,t.return,w)}}break;case 3:if(Lr(e,t),ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zd(e.containerInfo)}catch(w){Tt(t,t.return,w)}break;case 4:Lr(e,t),ls(t);break;case 13:Lr(e,t),ls(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kb=At())),r&4&&kN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(u=xn)||d,Lr(e,t),xn=u):Lr(e,t),ls(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(h=fe=d;fe!==null;){switch(p=fe,m=p.child,p.tag){case 0:case 11:case 14:case 15:xd(4,p,p.return);break;case 1:Gl(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){Tt(r,n,w)}}break;case 5:Gl(p,p.return);break;case 22:if(p.memoizedState!==null){AN(h);continue}}m!==null?(m.return=p,fe=m):AN(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sk("display",o))}catch(w){Tt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Tt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lr(e,t),ls(t),r&4&&kN(t);break;case 21:break;default:Lr(e,t),ls(t)}}function ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZI(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fd(s,""),r.flags&=-33);var i=jN(t);dv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=jN(t);uv(t,l,o);break;default:throw Error(Y(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M6(t,e,n){fe=t,eA(t)}function eA(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zf;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||xn;l=Zf;var u=xn;if(Zf=o,(xn=c)&&!u)for(fe=s;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?PN(s):c!==null?(c.return=o,fe=c):PN(s);for(;i!==null;)fe=i,eA(i),i=i.sibling;fe=s,Zf=l,xn=u}IN(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):IN(t)}}function IN(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||Og(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&pN(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pN(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}xn||e.flags&512&&cv(e)}catch(p){Tt(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function AN(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function PN(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Og(4,e)}catch(c){Tt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Tt(e,s,c)}}var i=e.return;try{cv(e)}catch(c){Tt(e,i,c)}break;case 5:var o=e.return;try{cv(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){fe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,fe=l;break}fe=e.return}}var V6=Math.ceil,gm=Ii.ReactCurrentDispatcher,Cb=Ii.ReactCurrentOwner,Sr=Ii.ReactCurrentBatchConfig,Ye=0,Yt=null,Ft=null,sn=0,nr=0,Yl=Wo(0),zt=0,eh=null,Ha=0,Dg=0,jb=0,vd=null,Un=null,kb=0,vc=1/0,Js=null,ym=!1,hv=null,yo=null,Xf=!1,ao=null,xm=0,wd=0,fv=null,Ip=-1,Ap=0;function Rn(){return Ye&6?At():Ip!==-1?Ip:Ip=At()}function xo(t){return t.mode&1?Ye&2&&sn!==0?sn&-sn:b6.transition!==null?(Ap===0&&(Ap=Vk()),Ap):(t=st,t!==0||(t=window.event,t=t===void 0?16:Wk(t.type)),t):1}function Zr(t,e,n,r){if(50<wd)throw wd=0,fv=null,Error(Y(185));Rh(t,n,r),(!(Ye&2)||t!==Yt)&&(t===Yt&&(!(Ye&2)&&(Dg|=n),zt===4&&Qi(t,sn)),Kn(t,r),n===1&&Ye===0&&!(e.mode&1)&&(vc=At()+500,Ag&&qo()))}function Kn(t,e){var n=t.callbackNode;bM(t,e);var r=tm(t,t===Yt?sn:0);if(r===0)n!==null&&UE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&UE(n),e===1)t.tag===0?w6(RN.bind(null,t)):uI(RN.bind(null,t)),g6(function(){!(Ye&6)&&qo()}),n=null;else{switch(Fk(r)){case 1:n=tb;break;case 4:n=Lk;break;case 16:n=em;break;case 536870912:n=Mk;break;default:n=em}n=lA(n,tA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tA(t,e){if(Ip=-1,Ap=0,Ye&6)throw Error(Y(327));var n=t.callbackNode;if(ac()&&t.callbackNode!==n)return null;var r=tm(t,t===Yt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vm(t,r);else{e=r;var s=Ye;Ye|=2;var i=rA();(Yt!==t||sn!==e)&&(Js=null,vc=At()+500,Ra(t,e));do try{U6();break}catch(l){nA(t,l)}while(!0);pb(),gm.current=i,Ye=s,Ft!==null?e=0:(Yt=null,sn=0,e=zt)}if(e!==0){if(e===2&&(s=$x(t),s!==0&&(r=s,e=pv(t,s))),e===1)throw n=eh,Ra(t,0),Qi(t,r),Kn(t,At()),n;if(e===6)Qi(t,r);else{if(s=t.current.alternate,!(r&30)&&!F6(s)&&(e=vm(t,r),e===2&&(i=$x(t),i!==0&&(r=i,e=pv(t,i))),e===1))throw n=eh,Ra(t,0),Qi(t,r),Kn(t,At()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:ha(t,Un,Js);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=kb+500-At(),10<e)){if(tm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Gx(ha.bind(null,t,Un,Js),e);break}ha(t,Un,Js);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V6(r/1960))-r,10<r){t.timeoutHandle=Gx(ha.bind(null,t,Un,Js),r);break}ha(t,Un,Js);break;case 5:ha(t,Un,Js);break;default:throw Error(Y(329))}}}return Kn(t,At()),t.callbackNode===n?tA.bind(null,t):null}function pv(t,e){var n=vd;return t.current.memoizedState.isDehydrated&&(Ra(t,e).flags|=256),t=vm(t,e),t!==2&&(e=Un,Un=n,e!==null&&mv(e)),t}function mv(t){Un===null?Un=t:Un.push.apply(Un,t)}function F6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~jb,e&=~Dg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qr(e),r=1<<n;t[n]=-1,e&=~r}}function RN(t){if(Ye&6)throw Error(Y(327));ac();var e=tm(t,0);if(!(e&1))return Kn(t,At()),null;var n=vm(t,e);if(t.tag!==0&&n===2){var r=$x(t);r!==0&&(e=r,n=pv(t,r))}if(n===1)throw n=eh,Ra(t,0),Qi(t,e),Kn(t,At()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ha(t,Un,Js),Kn(t,At()),null}function Ib(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(vc=At()+500,Ag&&qo())}}function Wa(t){ao!==null&&ao.tag===0&&!(Ye&6)&&ac();var e=Ye;Ye|=1;var n=Sr.transition,r=st;try{if(Sr.transition=null,st=1,t)return t()}finally{st=r,Sr.transition=n,Ye=e,!(Ye&6)&&qo()}}function Ab(){nr=Yl.current,pt(Yl)}function Ra(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,m6(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(db(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&om();break;case 3:yc(),pt(Wn),pt(Sn),wb();break;case 5:vb(r);break;case 4:yc();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:mb(r.type._context);break;case 22:case 23:Ab()}n=n.return}if(Yt=t,Ft=t=vo(t.current,null),sn=nr=e,zt=0,eh=null,jb=Dg=Ha=0,Un=vd=null,Na!==null){for(e=0;e<Na.length;e++)if(n=Na[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Na=null}return t}function nA(t,e){do{var n=Ft;try{if(pb(),Cp.current=mm,pm){for(var r=bt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pm=!1}if(za=0,Gt=Bt=bt=null,yd=!1,Zd=0,Cb.current=null,n===null||n.return===null){zt=1,eh=e,Ft=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=wN(o);if(m!==null){m.flags&=-257,bN(m,o,l,i,e),m.mode&1&&vN(i,u,e),e=m,c=u;var x=e.updateQueue;if(x===null){var w=new Set;w.add(c),e.updateQueue=w}else x.add(c);break e}else{if(!(e&1)){vN(i,u,e),Pb();break e}c=Error(Y(426))}}else if(yt&&l.mode&1){var S=wN(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),bN(S,o,l,i,e),hb(xc(c,l));break e}}i=c=xc(c,l),zt!==4&&(zt=2),vd===null?vd=[i]:vd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=FI(i,c,e);fN(i,_);break e;case 1:l=c;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(yo===null||!yo.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=$I(i,l,e);fN(i,k);break e}}i=i.return}while(i!==null)}iA(n)}catch(P){e=P,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function rA(){var t=gm.current;return gm.current=mm,t===null?mm:t}function Pb(){(zt===0||zt===3||zt===2)&&(zt=4),Yt===null||!(Ha&268435455)&&!(Dg&268435455)||Qi(Yt,sn)}function vm(t,e){var n=Ye;Ye|=2;var r=rA();(Yt!==t||sn!==e)&&(Js=null,Ra(t,e));do try{$6();break}catch(s){nA(t,s)}while(!0);if(pb(),Ye=n,gm.current=r,Ft!==null)throw Error(Y(261));return Yt=null,sn=0,zt}function $6(){for(;Ft!==null;)sA(Ft)}function U6(){for(;Ft!==null&&!hM();)sA(Ft)}function sA(t){var e=aA(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?iA(t):Ft=e,Cb.current=null}function iA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O6(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,Ft=null;return}}else if(n=R6(n,e,nr),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);zt===0&&(zt=5)}function ha(t,e,n){var r=st,s=Sr.transition;try{Sr.transition=null,st=1,B6(t,e,n,r)}finally{Sr.transition=s,st=r}return null}function B6(t,e,n,r){do ac();while(ao!==null);if(Ye&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_M(t,i),t===Yt&&(Ft=Yt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xf||(Xf=!0,lA(em,function(){return ac(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var o=st;st=1;var l=Ye;Ye|=4,Cb.current=null,L6(t,n),JI(n,t),l6(qx),nm=!!Wx,qx=Wx=null,t.current=n,M6(n),fM(),Ye=l,st=o,Sr.transition=i}else t.current=n;if(Xf&&(Xf=!1,ao=t,xm=s),i=t.pendingLanes,i===0&&(yo=null),gM(n.stateNode),Kn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ym)throw ym=!1,t=hv,hv=null,t;return xm&1&&t.tag!==0&&ac(),i=t.pendingLanes,i&1?t===fv?wd++:(wd=0,fv=t):wd=0,qo(),null}function ac(){if(ao!==null){var t=Fk(xm),e=Sr.transition,n=st;try{if(Sr.transition=null,st=16>t?16:t,ao===null)var r=!1;else{if(t=ao,ao=null,xm=0,Ye&6)throw Error(Y(331));var s=Ye;for(Ye|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:xd(8,d,i)}var h=d.child;if(h!==null)h.return=d,fe=h;else for(;fe!==null;){d=fe;var p=d.sibling,m=d.return;if(QI(d),d===u){fe=null;break}if(p!==null){p.return=m,fe=p;break}fe=m}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,fe=_;break e}fe=i.return}}var v=t.current;for(fe=v;fe!==null;){o=fe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,fe=T;else e:for(o=v;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Og(9,l)}}catch(P){Tt(l,l.return,P)}if(l===o){fe=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,fe=k;break e}fe=l.return}}if(Ye=s,qo(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(Tg,t)}catch{}r=!0}return r}finally{st=n,Sr.transition=e}}return!1}function ON(t,e,n){e=xc(n,e),e=FI(t,e,1),t=go(t,e,1),e=Rn(),t!==null&&(Rh(t,1,e),Kn(t,e))}function Tt(t,e,n){if(t.tag===3)ON(t,t,n);else for(;e!==null;){if(e.tag===3){ON(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yo===null||!yo.has(r))){t=xc(n,t),t=$I(e,t,1),e=go(e,t,1),t=Rn(),e!==null&&(Rh(e,1,t),Kn(e,t));break}}e=e.return}}function z6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(sn&n)===n&&(zt===4||zt===3&&(sn&130023424)===sn&&500>At()-kb?Ra(t,0):jb|=n),Kn(t,e)}function oA(t,e){e===0&&(t.mode&1?(e=Bf,Bf<<=1,!(Bf&130023424)&&(Bf=4194304)):e=1);var n=Rn();t=gi(t,e),t!==null&&(Rh(t,e,n),Kn(t,n))}function H6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oA(t,n)}function W6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),oA(t,n)}var aA;aA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wn.current)zn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zn=!1,P6(t,e,n);zn=!!(t.flags&131072)}else zn=!1,yt&&e.flags&1048576&&dI(e,cm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kp(t,e),t=e.pendingProps;var s=pc(e,Sn.current);oc(e,n),s=_b(null,e,r,t,s,n);var i=Eb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qn(r)?(i=!0,am(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yb(e),s.updater=Rg,e.stateNode=s,s._reactInternals=e,tv(e,r,t,n),e=sv(null,e,r,!0,i,n)):(e.tag=0,yt&&i&&ub(e),kn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=K6(r),t=Vr(r,t),s){case 0:e=rv(null,e,r,t,n);break e;case 1:e=NN(null,e,r,t,n);break e;case 11:e=_N(null,e,r,t,n);break e;case 14:e=EN(null,e,r,Vr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),rv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),NN(t,e,r,s,n);case 3:e:{if(HI(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,yI(t,e),hm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=xc(Error(Y(423)),e),e=SN(t,e,r,n,s);break e}else if(r!==s){s=xc(Error(Y(424)),e),e=SN(t,e,r,n,s);break e}else for(sr=mo(e.stateNode.containerInfo.firstChild),or=e,yt=!0,Ur=null,n=mI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mc(),r===s){e=yi(t,e,n);break e}kn(t,e,r,n)}e=e.child}return e;case 5:return xI(e),t===null&&Xx(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Kx(r,s)?o=null:i!==null&&Kx(r,i)&&(e.flags|=32),zI(t,e),kn(t,e,o,n),e.child;case 6:return t===null&&Xx(e),null;case 13:return WI(t,e,n);case 4:return xb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gc(e,null,r,n):kn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),_N(t,e,r,s,n);case 7:return kn(t,e,e.pendingProps,n),e.child;case 8:return kn(t,e,e.pendingProps.children,n),e.child;case 12:return kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ct(um,r._currentValue),r._currentValue=o,i!==null)if(Xr(i.value,o)){if(i.children===s.children&&!Wn.current){e=yi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=oi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Jx(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Jx(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oc(e,n),s=Cr(s),r=r(s),e.flags|=1,kn(t,e,r,n),e.child;case 14:return r=e.type,s=Vr(r,e.pendingProps),s=Vr(r.type,s),EN(t,e,r,s,n);case 15:return UI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),kp(t,e),e.tag=1,qn(r)?(t=!0,am(e)):t=!1,oc(e,n),VI(e,r,s),tv(e,r,s,n),sv(null,e,r,!0,t,n);case 19:return qI(t,e,n);case 22:return BI(t,e,n)}throw Error(Y(156,e.tag))};function lA(t,e){return Dk(t,e)}function q6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new q6(t,e,n,r)}function Rb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K6(t){if(typeof t=="function")return Rb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xw)return 11;if(t===Jw)return 14}return 2}function vo(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Rb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fl:return Oa(n.children,s,i,e);case Zw:o=8,s|=8;break;case Sx:return t=Er(12,n,e,s|2),t.elementType=Sx,t.lanes=i,t;case Tx:return t=Er(13,n,e,s),t.elementType=Tx,t.lanes=i,t;case Cx:return t=Er(19,n,e,s),t.elementType=Cx,t.lanes=i,t;case xk:return Lg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gk:o=10;break e;case yk:o=9;break e;case Xw:o=11;break e;case Jw:o=14;break e;case qi:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Oa(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function Lg(t,e,n,r){return t=Er(22,t,r,e),t.elementType=xk,t.lanes=n,t.stateNode={isHidden:!1},t}function E0(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function N0(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=s0(0),this.expirationTimes=s0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=s0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ob(t,e,n,r,s,i,o,l,c){return t=new G6(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yb(i),t}function Y6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cA(t){if(!t)return Co;t=t._reactInternals;e:{if(sl(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(qn(n))return cI(t,n,e)}return e}function uA(t,e,n,r,s,i,o,l,c){return t=Ob(n,r,!0,t,s,i,o,l,c),t.context=cA(null),n=t.current,r=Rn(),s=xo(n),i=oi(r,s),i.callback=e??null,go(n,i,s),t.current.lanes=s,Rh(t,s,r),Kn(t,r),t}function Mg(t,e,n,r){var s=e.current,i=Rn(),o=xo(s);return n=cA(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=go(s,e,o),t!==null&&(Zr(t,s,o,i),Tp(t,s,o)),o}function wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Db(t,e){DN(t,e),(t=t.alternate)&&DN(t,e)}function Q6(){return null}var dA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lb(t){this._internalRoot=t}Vg.prototype.render=Lb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Mg(t,e,null,null)};Vg.prototype.unmount=Lb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wa(function(){Mg(null,t,null,null)}),e[mi]=null}};function Vg(t){this._internalRoot=t}Vg.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yi.length&&e!==0&&e<Yi[n].priority;n++);Yi.splice(n,0,t),n===0&&Hk(t)}};function Mb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LN(){}function Z6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=wm(o);i.call(u)}}var o=uA(e,r,t,0,null,!1,!1,"",LN);return t._reactRootContainer=o,t[mi]=o.current,qd(t.nodeType===8?t.parentNode:t),Wa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=wm(c);l.call(u)}}var c=Ob(t,0,!1,null,null,!1,!1,"",LN);return t._reactRootContainer=c,t[mi]=c.current,qd(t.nodeType===8?t.parentNode:t),Wa(function(){Mg(e,c,n,r)}),c}function $g(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=wm(o);l.call(c)}}Mg(e,o,t,s)}else o=Z6(n,e,t,s,r);return wm(o)}$k=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zu(e.pendingLanes);n!==0&&(nb(e,n|1),Kn(e,At()),!(Ye&6)&&(vc=At()+500,qo()))}break;case 13:Wa(function(){var r=gi(t,1);if(r!==null){var s=Rn();Zr(r,t,1,s)}}),Db(t,1)}};rb=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=Rn();Zr(e,t,134217728,n)}Db(t,134217728)}};Uk=function(t){if(t.tag===13){var e=xo(t),n=gi(t,e);if(n!==null){var r=Rn();Zr(n,t,e,r)}Db(t,e)}};Bk=function(){return st};zk=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};Mx=function(t,e,n){switch(e){case"input":if(Ix(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ig(r);if(!s)throw Error(Y(90));wk(r),Ix(r,s)}}}break;case"textarea":_k(t,n);break;case"select":e=n.value,e!=null&&nc(t,!!n.multiple,e,!1)}};kk=Ib;Ik=Wa;var X6={usingClientEntryPoint:!1,Events:[Dh,zl,Ig,Ck,jk,Ib]},Pu={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J6={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rk(t),t===null?null:t.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||Q6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Tg=Jf.inject(J6),_s=Jf}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X6;mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mb(e))throw Error(Y(200));return Y6(t,e,null,n)};mr.createRoot=function(t,e){if(!Mb(t))throw Error(Y(299));var n=!1,r="",s=dA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ob(t,1,!1,null,null,n,!1,r,s),t[mi]=e.current,qd(t.nodeType===8?t.parentNode:t),new Lb(e)};mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Rk(e),t=t===null?null:t.stateNode,t};mr.flushSync=function(t){return Wa(t)};mr.hydrate=function(t,e,n){if(!Fg(e))throw Error(Y(200));return $g(null,t,e,!0,n)};mr.hydrateRoot=function(t,e,n){if(!Mb(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uA(e,null,t,1,n??null,s,!1,i,o),t[mi]=e.current,qd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vg(e)};mr.render=function(t,e,n){if(!Fg(e))throw Error(Y(200));return $g(null,t,e,!1,n)};mr.unmountComponentAtNode=function(t){if(!Fg(t))throw Error(Y(40));return t._reactRootContainer?(Wa(function(){$g(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};mr.unstable_batchedUpdates=Ib;mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fg(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return $g(t,e,n,!1,r)};mr.version="18.3.1-next-f1338f8080-20240426";function hA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hA)}catch(t){console.error(t)}}hA(),hk.exports=mr;var Da=hk.exports;const Rp=zo(Da);var MN=Da;Ex.createRoot=MN.createRoot,Ex.hydrateRoot=MN.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},th.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const VN="popstate";function e3(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return gv("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bm(s)}return n3(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t3(){return Math.random().toString(36).substr(2,8)}function FN(t,e){return{usr:t.state,key:t.key,idx:e}}function gv(t,e,n,r){return n===void 0&&(n=null),th({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qc(e):e,{state:n,key:e&&e.key||r||t3()})}function bm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function n3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=lo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(th({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=lo.Pop;let S=d(),_=S==null?null:S-u;u=S,c&&c({action:l,location:w.location,delta:_})}function p(S,_){l=lo.Push;let v=gv(w.location,S,_);u=d()+1;let T=FN(v,u),k=w.createHref(v);try{o.pushState(T,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(k)}i&&c&&c({action:l,location:w.location,delta:1})}function m(S,_){l=lo.Replace;let v=gv(w.location,S,_);u=d();let T=FN(v,u),k=w.createHref(v);o.replaceState(T,"",k),i&&c&&c({action:l,location:w.location,delta:0})}function x(S){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof S=="string"?S:bm(S);return v=v.replace(/ $/,"%20"),Rt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let w={get action(){return l},get location(){return t(s,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(VN,h),c=S,()=>{s.removeEventListener(VN,h),c=null}},createHref(S){return e(s,S)},createURL:x,encodeLocation(S){let _=x(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(S){return o.go(S)}};return w}var $N;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($N||($N={}));function r3(t,e,n){return n===void 0&&(n="/"),s3(t,e,n)}function s3(t,e,n,r){let s=typeof e=="string"?qc(e):e,i=Vb(s.pathname||"/",n);if(i==null)return null;let o=pA(t);i3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=y3(i);l=p3(o[c],u)}return l}function pA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Rt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=wo([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pA(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:h3(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of mA(i.path))s(i,o,c)}),e}function mA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=mA(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function i3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o3=/^:[\w-]+$/,a3=3,l3=2,c3=1,u3=10,d3=-2,UN=t=>t==="*";function h3(t,e){let n=t.split("/"),r=n.length;return n.some(UN)&&(r+=d3),e&&(r+=l3),n.filter(s=>!UN(s)).reduce((s,i)=>s+(o3.test(i)?a3:i===""?c3:u3),r)}function f3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function p3(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=m3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:wo([i,h.pathname]),pathnameBase:b3(wo([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=wo([i,h.pathnameBase]))}return o}function m3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=g3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function g3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function y3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function x3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qc(t):t;return{pathname:n?n.startsWith("/")?n:v3(n,e):e,search:_3(r),hash:E3(s)}}function v3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function S0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fb(t,e){let n=w3(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $b(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=qc(t):(s=th({},t),Rt(!s.pathname||!s.pathname.includes("?"),S0("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),S0("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),S0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=x3(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wo=t=>t.join("/").replace(/\/\/+/g,"/"),b3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gA=["post","put","patch","delete"];new Set(gA);const S3=["get",...gA];new Set(S3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}const Ub=y.createContext(null),T3=y.createContext(null),Ko=y.createContext(null),Ug=y.createContext(null),Go=y.createContext({outlet:null,matches:[],isDataRoute:!1}),yA=y.createContext(null);function C3(t,e){let{relative:n}=e===void 0?{}:e;Kc()||Rt(!1);let{basename:r,navigator:s}=y.useContext(Ko),{hash:i,pathname:o,search:l}=vA(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:wo([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Kc(){return y.useContext(Ug)!=null}function il(){return Kc()||Rt(!1),y.useContext(Ug).location}function xA(t){y.useContext(Ko).static||y.useLayoutEffect(t)}function Os(){let{isDataRoute:t}=y.useContext(Go);return t?$3():j3()}function j3(){Kc()||Rt(!1);let t=y.useContext(Ub),{basename:e,future:n,navigator:r}=y.useContext(Ko),{matches:s}=y.useContext(Go),{pathname:i}=il(),o=JSON.stringify(Fb(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return xA(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=$b(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function vA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ko),{matches:s}=y.useContext(Go),{pathname:i}=il(),o=JSON.stringify(Fb(s,r.v7_relativeSplatPath));return y.useMemo(()=>$b(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function k3(t,e){return I3(t,e)}function I3(t,e,n,r){Kc()||Rt(!1);let{navigator:s}=y.useContext(Ko),{matches:i}=y.useContext(Go),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=il(),d;if(e){var h;let S=typeof e=="string"?qc(e):e;c==="/"||(h=S.pathname)!=null&&h.startsWith(c)||Rt(!1),d=S}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let S=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=r3(t,{pathname:m}),w=D3(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:wo([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:wo([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&w?y.createElement(Ug.Provider,{value:{location:nh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:lo.Pop}},w):w}function A3(){let t=F3(),e=N3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const P3=y.createElement(A3,null);class R3 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Go.Provider,{value:this.props.routeContext},y.createElement(yA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O3(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Ub);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Go.Provider,{value:e},r)}function D3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=n,x=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,x=!1,w=null,S=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||P3,c&&(u<0&&p===0?(U3("route-fallback"),x=!0,S=null):u===p&&(x=!0,S=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),v=()=>{let T;return m?T=w:x?T=S:h.route.Component?T=y.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,y.createElement(O3,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(R3,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var wA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wA||{}),bA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bA||{});function L3(t){let e=y.useContext(Ub);return e||Rt(!1),e}function M3(t){let e=y.useContext(T3);return e||Rt(!1),e}function V3(t){let e=y.useContext(Go);return e||Rt(!1),e}function _A(t){let e=V3(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function F3(){var t;let e=y.useContext(yA),n=M3(),r=_A();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $3(){let{router:t}=L3(wA.UseNavigateStable),e=_A(bA.UseNavigateStable),n=y.useRef(!1);return xA(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,nh({fromRouteId:e},i)))},[t,e])}const BN={};function U3(t,e,n){BN[t]||(BN[t]=!0)}function B3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function z3(t){let{to:e,replace:n,state:r,relative:s}=t;Kc()||Rt(!1);let{future:i,static:o}=y.useContext(Ko),{matches:l}=y.useContext(Go),{pathname:c}=il(),u=Os(),d=$b(e,Fb(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function ht(t){Rt(!1)}function H3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=lo.Pop,navigator:i,static:o=!1,future:l}=t;Kc()&&Rt(!1);let c=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:nh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=qc(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:x="default"}=r,w=y.useMemo(()=>{let S=Vb(d,c);return S==null?null:{location:{pathname:S,search:h,hash:p,state:m,key:x},navigationType:s}},[c,d,h,p,m,x,s]);return w==null?null:y.createElement(Ko.Provider,{value:u},y.createElement(Ug.Provider,{children:n,value:w}))}function W3(t){let{children:e,location:n}=t;return k3(yv(e),n)}new Promise(()=>{});function yv(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,yv(r.props.children,i));return}r.type!==ht&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function q3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function K3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function G3(t,e){return t.button===0&&(!e||e==="_self")&&!K3(t)}function vv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Y3(t,e){let n=vv(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Q3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Z3="6";try{window.__reactRouterVersion=Z3}catch{}const X3="startTransition",zN=hc[X3];function J3(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=e3({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&zN?zN(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>B3(r),[r]),y.createElement(H3,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const eV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=q3(e,Q3),{basename:m}=y.useContext(Ko),x,w=!1;if(typeof u=="string"&&tV.test(u)&&(x=u,eV))try{let T=new URL(window.location.href),k=u.startsWith("//")?new URL(T.protocol+u):new URL(u),P=Vb(k.pathname,m);k.origin===T.origin&&P!=null?u=P+k.search+k.hash:w=!0}catch{}let S=C3(u,{relative:s}),_=nV(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function v(T){r&&r(T),T.defaultPrevented||_(T)}return y.createElement("a",xv({},p,{href:x||S,onClick:w||i?r:v,ref:n,target:c}))});var HN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HN||(HN={}));var WN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(WN||(WN={}));function nV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Os(),u=il(),d=vA(t,{relative:o});return y.useCallback(h=>{if(G3(h,n)){h.preventDefault();let p=r!==void 0?r:bm(u)===bm(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}function rV(t){let e=y.useRef(vv(t)),n=y.useRef(!1),r=il(),s=y.useMemo(()=>Y3(r.search,n.current?null:e.current),[r.search]),i=Os(),o=y.useCallback((l,c)=>{const u=vv(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var EA={exports:{}},NA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=y;function sV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iV=typeof Object.is=="function"?Object.is:sV,oV=Mh.useSyncExternalStore,aV=Mh.useRef,lV=Mh.useEffect,cV=Mh.useMemo,uV=Mh.useDebugValue;NA.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=aV(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=cV(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&o.hasValue){var x=o.value;if(s(x,m))return h=x}return h=m}if(x=h,iV(d,m))return x;var w=r(m);return s!==void 0&&s(x,w)?(d=m,x):(d=m,h=w)}var u=!1,d,h,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,s]);var l=oV(t,i[0],i[1]);return lV(function(){o.hasValue=!0,o.value=l},[l]),uV(l),l};EA.exports=NA;var dV=EA.exports;function hV(t){t()}function fV(){let t=null,e=null;return{clear(){t=null,e=null},notify(){hV(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var qN={notify(){},get:()=>[]};function pV(t,e){let n,r=qN,s=0,i=!1;function o(w){d();const S=r.subscribe(w);let _=!1;return()=>{_||(_=!0,S(),h())}}function l(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return i}function d(){s++,n||(n=t.subscribe(c),r=fV())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=qN)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,h())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return x}var mV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gV=mV(),yV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xV=yV(),vV=()=>gV||xV?y.useLayoutEffect:y.useEffect,wV=vV(),T0=Symbol.for("react-redux-context"),C0=typeof globalThis<"u"?globalThis:{};function bV(){if(!y.createContext)return{};const t=C0[T0]??(C0[T0]=new Map);let e=t.get(y.createContext);return e||(e=y.createContext(null),t.set(y.createContext,e)),e}var jo=bV();function _V(t){const{children:e,context:n,serverState:r,store:s}=t,i=y.useMemo(()=>{const c=pV(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),o=y.useMemo(()=>s.getState(),[s]);wV(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=n||jo;return y.createElement(l.Provider,{value:i},e)}var EV=_V;function Bb(t=jo){return function(){return y.useContext(t)}}var SA=Bb();function TA(t=jo){const e=t===jo?SA:Bb(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var NV=TA();function SV(t=jo){const e=t===jo?NV:TA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var CA=SV(),TV=(t,e)=>t===e;function CV(t=jo){const e=t===jo?SA:Bb(t),n=(r,s={})=>{const{equalityFn:i=TV}=typeof s=="function"?{equalityFn:s}:s,o=e(),{store:l,subscription:c,getServerState:u}=o;y.useRef(!0);const d=y.useCallback({[r.name](p){return r(p)}}[r.name],[r]),h=dV.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,i);return y.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var jA=CV();function kA(t){return e=>typeof e===t}var jV=kA("function"),kV=t=>t===null,KN=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",GN=t=>!IV(t)&&!kV(t)&&(jV(t)||typeof t=="object"),IV=kA("undefined");function AV(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Pn(t[r],e[r]))return!1;return!0}function PV(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let s=t.byteLength;for(;s--;)if(n.getUint8(s)!==r.getUint8(s))return!1;return!0}function RV(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Pn(n[1],e.get(n[0])))return!1;return!0}function OV(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Pn(t,e){if(t===e)return!0;if(t&&GN(t)&&e&&GN(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return AV(t,e);if(t instanceof Map&&e instanceof Map)return RV(t,e);if(t instanceof Set&&e instanceof Set)return OV(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return PV(t,e);if(KN(t)&&KN(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=n.length;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;for(let s=n.length;s--!==0;){const i=n[s];if(!(i==="_owner"&&t.$$typeof)&&!Pn(t[i],e[i]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var DV=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],LV=["bigint","boolean","null","number","string","symbol","undefined"];function Bg(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(MV(e))return e}function ns(t){return e=>Bg(e)===t}function MV(t){return DV.includes(t)}function Gc(t){return e=>typeof e===t}function VV(t){return LV.includes(t)}var FV=["innerHTML","ownerDocument","style","attributes","nodeValue"];function he(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(he.array(t))return"Array";if(he.plainFunction(t))return"Function";const e=Bg(t);return e||"Object"}he.array=Array.isArray;he.arrayOf=(t,e)=>!he.array(t)&&!he.function(e)?!1:t.every(n=>e(n));he.asyncGeneratorFunction=t=>Bg(t)==="AsyncGeneratorFunction";he.asyncFunction=ns("AsyncFunction");he.bigint=Gc("bigint");he.boolean=t=>t===!0||t===!1;he.date=ns("Date");he.defined=t=>!he.undefined(t);he.domElement=t=>he.object(t)&&!he.plainObject(t)&&t.nodeType===1&&he.string(t.nodeName)&&FV.every(e=>e in t);he.empty=t=>he.string(t)&&t.length===0||he.array(t)&&t.length===0||he.object(t)&&!he.map(t)&&!he.set(t)&&Object.keys(t).length===0||he.set(t)&&t.size===0||he.map(t)&&t.size===0;he.error=ns("Error");he.function=Gc("function");he.generator=t=>he.iterable(t)&&he.function(t.next)&&he.function(t.throw);he.generatorFunction=ns("GeneratorFunction");he.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;he.iterable=t=>!he.nullOrUndefined(t)&&he.function(t[Symbol.iterator]);he.map=ns("Map");he.nan=t=>Number.isNaN(t);he.null=t=>t===null;he.nullOrUndefined=t=>he.null(t)||he.undefined(t);he.number=t=>Gc("number")(t)&&!he.nan(t);he.numericString=t=>he.string(t)&&t.length>0&&!Number.isNaN(Number(t));he.object=t=>!he.nullOrUndefined(t)&&(he.function(t)||typeof t=="object");he.oneOf=(t,e)=>he.array(t)?t.indexOf(e)>-1:!1;he.plainFunction=ns("Function");he.plainObject=t=>{if(Bg(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};he.primitive=t=>he.null(t)||VV(typeof t);he.promise=ns("Promise");he.propertyOf=(t,e,n)=>{if(!he.object(t)||!e)return!1;const r=t[e];return he.function(n)?n(r):he.defined(r)};he.regexp=ns("RegExp");he.set=ns("Set");he.string=Gc("string");he.symbol=Gc("symbol");he.undefined=Gc("undefined");he.weakMap=ns("WeakMap");he.weakSet=ns("WeakSet");var ge=he;function $V(...t){return t.every(e=>ge.string(e)||ge.array(e)||ge.plainObject(e))}function UV(t,e,n){return IA(t,e)?[t,e].every(ge.array)?!t.some(JN(n))&&e.some(JN(n)):[t,e].every(ge.plainObject)?!Object.entries(t).some(XN(n))&&Object.entries(e).some(XN(n)):e===n:!1}function YN(t,e,n){const{actual:r,key:s,previous:i,type:o}=n,l=gs(t,s),c=gs(e,s);let u=[l,c].every(ge.number)&&(o==="increased"?l<c:l>c);return ge.undefined(r)||(u=u&&c===r),ge.undefined(i)||(u=u&&l===i),u}function QN(t,e,n){const{key:r,type:s,value:i}=n,o=gs(t,r),l=gs(e,r),c=s==="added"?o:l,u=s==="added"?l:o;if(!ge.nullOrUndefined(i)){if(ge.defined(c)){if(ge.array(c)||ge.plainObject(c))return UV(c,u,i)}else return Pn(u,i);return!1}return[o,l].every(ge.array)?!u.every(zb(c)):[o,l].every(ge.plainObject)?BV(Object.keys(c),Object.keys(u)):![o,l].every(d=>ge.primitive(d)&&ge.defined(d))&&(s==="added"?!ge.defined(o)&&ge.defined(l):ge.defined(o)&&!ge.defined(l))}function ZN(t,e,{key:n}={}){let r=gs(t,n),s=gs(e,n);if(!IA(r,s))throw new TypeError("Inputs have different types");if(!$V(r,s))throw new TypeError("Inputs don't have length");return[r,s].every(ge.plainObject)&&(r=Object.keys(r),s=Object.keys(s)),[r,s]}function XN(t){return([e,n])=>ge.array(t)?Pn(t,n)||t.some(r=>Pn(r,n)||ge.array(n)&&zb(n)(r)):ge.plainObject(t)&&t[e]?!!t[e]&&Pn(t[e],n):Pn(t,n)}function BV(t,e){return e.some(n=>!t.includes(n))}function JN(t){return e=>ge.array(t)?t.some(n=>Pn(n,e)||ge.array(e)&&zb(e)(n)):Pn(t,e)}function Ru(t,e){return ge.array(t)?t.some(n=>Pn(n,e)):Pn(t,e)}function zb(t){return e=>t.some(n=>Pn(n,e))}function IA(...t){return t.every(ge.array)||t.every(ge.number)||t.every(ge.plainObject)||t.every(ge.string)}function gs(t,e){return ge.plainObject(t)||ge.array(t)?ge.string(e)?e.split(".").reduce((r,s)=>r&&r[s],t):ge.number(e)?t[e]:t:t}function _m(t,e){if([t,e].some(ge.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(d=>ge.plainObject(d)||ge.array(d)))throw new Error("Expected plain objects or array");return{added:(d,h)=>{try{return QN(t,e,{key:d,type:"added",value:h})}catch{return!1}},changed:(d,h,p)=>{try{const m=gs(t,d),x=gs(e,d),w=ge.defined(h),S=ge.defined(p);if(w||S){const _=S?Ru(p,m):!Ru(h,m),v=Ru(h,x);return _&&v}return[m,x].every(ge.array)||[m,x].every(ge.plainObject)?!Pn(m,x):m!==x}catch{return!1}},changedFrom:(d,h,p)=>{if(!ge.defined(d))return!1;try{const m=gs(t,d),x=gs(e,d),w=ge.defined(p);return Ru(h,m)&&(w?Ru(p,x):!w)}catch{return!1}},decreased:(d,h,p)=>{if(!ge.defined(d))return!1;try{return YN(t,e,{key:d,actual:h,previous:p,type:"decreased"})}catch{return!1}},emptied:d=>{try{const[h,p]=ZN(t,e,{key:d});return!!h.length&&!p.length}catch{return!1}},filled:d=>{try{const[h,p]=ZN(t,e,{key:d});return!h.length&&!!p.length}catch{return!1}},increased:(d,h,p)=>{if(!ge.defined(d))return!1;try{return YN(t,e,{key:d,actual:h,previous:p,type:"increased"})}catch{return!1}},removed:(d,h)=>{try{return QN(t,e,{key:d,type:"removed",value:h})}catch{return!1}}}}var zV=new Error("Element already at target scroll position"),HV=new Error("Scroll cancelled"),WV=Math.min,eS=Date.now,qV={left:tS("scrollLeft"),top:tS("scrollTop")};function tS(t){return function(n,r,s,i){s=s||{},typeof s=="function"&&(i=s,s={}),typeof i!="function"&&(i=GV);var o=eS(),l=n[t],c=s.ease||KV,u=isNaN(s.duration)?350:+s.duration,d=!1;return l===r?i(zV,n[t]):requestAnimationFrame(p),h;function h(){d=!0}function p(m){if(d)return i(HV,n[t]);var x=eS(),w=WV(1,(x-o)/u),S=c(w);n[t]=S*(r-l)+l,w<1?requestAnimationFrame(p):requestAnimationFrame(function(){i(null,n[t])})}}}function KV(t){return .5*(1-Math.cos(Math.PI*t))}function GV(){}const YV=zo(qV);var AA={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(j5,function(){function e(r){var s=getComputedStyle(r,null).getPropertyValue("overflow");return s.indexOf("scroll")>-1||s.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var s=r.parentNode;s.parentNode;){if(e(s))return s;s=s.parentNode}return document.scrollingElement||document.documentElement}}return n})})(AA);var QV=AA.exports;const PA=zo(QV);var ZV=function(t){return Object.prototype.hasOwnProperty.call(t,"props")},XV=function(t,e){return t+rh(e)},rh=function(t){return t===null||typeof t=="boolean"||typeof t>"u"?"":typeof t=="number"?t.toString():typeof t=="string"?t:Array.isArray(t)?t.reduce(XV,""):ZV(t)&&Object.prototype.hasOwnProperty.call(t.props,"children")?rh(t.props.children):""};rh.default=rh;var JV=rh;const nS=zo(JV);var eF=function(e){return tF(e)&&!nF(e)};function tF(t){return!!t&&typeof t=="object"}function nF(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||iF(t)}var rF=typeof Symbol=="function"&&Symbol.for,sF=rF?Symbol.for("react.element"):60103;function iF(t){return t.$$typeof===sF}function oF(t){return Array.isArray(t)?[]:{}}function sh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?wc(oF(t),t,e):t}function aF(t,e,n){return t.concat(e).map(function(r){return sh(r,n)})}function lF(t,e){if(!e.customMerge)return wc;var n=e.customMerge(t);return typeof n=="function"?n:wc}function cF(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function rS(t){return Object.keys(t).concat(cF(t))}function RA(t,e){try{return e in t}catch{return!1}}function uF(t,e){return RA(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function dF(t,e,n){var r={};return n.isMergeableObject(t)&&rS(t).forEach(function(s){r[s]=sh(t[s],n)}),rS(e).forEach(function(s){uF(t,s)||(RA(t,s)&&n.isMergeableObject(e[s])?r[s]=lF(s,n)(t[s],e[s],n):r[s]=sh(e[s],n))}),r}function wc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||aF,n.isMergeableObject=n.isMergeableObject||eF,n.cloneUnlessOtherwiseSpecified=sh;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):dF(t,e,n):sh(e,n)}wc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return wc(r,s,n)},{})};var hF=wc,fF=hF;const Kr=zo(fF);var OA={exports:{}},pF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mF=pF,gF=mF;function DA(){}function LA(){}LA.resetWarningCache=DA;var yF=function(){function t(r,s,i,o,l,c){if(c!==gF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LA,resetWarningCache:DA};return n.PropTypes=n,n};OA.exports=yF();var xF=OA.exports;const H=zo(xF);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Vh=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",vF=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(Vh&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function wF(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function bF(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},vF))}}var _F=Vh&&window.Promise,EF=_F?wF:bF;function MA(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function ol(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function Hb(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Fh(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=ol(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/(auto|scroll|overlay)/.test(n+s+r)?t:Fh(Hb(t))}function VA(t){return t&&t.referenceNode?t.referenceNode:t}var sS=Vh&&!!(window.MSInputMethodContext&&document.documentMode),iS=Vh&&/MSIE 10/.test(navigator.userAgent);function Yc(t){return t===11?sS:t===10?iS:sS||iS}function bc(t){if(!t)return document.documentElement;for(var e=Yc(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&ol(n,"position")==="static"?bc(n):n}function NF(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||bc(t.firstElementChild)===t}function wv(t){return t.parentNode!==null?wv(t.parentNode):t}function Em(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,s=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(s,0);var o=i.commonAncestorContainer;if(t!==o&&e!==o||r.contains(s))return NF(o)?o:bc(o);var l=wv(t);return l.host?Em(l.host,e):Em(t,wv(e).host)}function _c(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var s=t.ownerDocument.documentElement,i=t.ownerDocument.scrollingElement||s;return i[n]}return t[n]}function SF(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=_c(e,"top"),s=_c(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=s*i,t.right+=s*i,t}function oS(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function aS(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Yc(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function FA(t){var e=t.body,n=t.documentElement,r=Yc(10)&&getComputedStyle(n);return{height:aS("Height",e,n,r),width:aS("Width",e,n,r)}}var TF=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},CF=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ec=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Nr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function ko(t){return Nr({},t,{right:t.left+t.width,bottom:t.top+t.height})}function bv(t){var e={};try{if(Yc(10)){e=t.getBoundingClientRect();var n=_c(t,"top"),r=_c(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var s={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i=t.nodeName==="HTML"?FA(t.ownerDocument):{},o=i.width||t.clientWidth||s.width,l=i.height||t.clientHeight||s.height,c=t.offsetWidth-o,u=t.offsetHeight-l;if(c||u){var d=ol(t);c-=oS(d,"x"),u-=oS(d,"y"),s.width-=c,s.height-=u}return ko(s)}function Wb(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Yc(10),s=e.nodeName==="HTML",i=bv(t),o=bv(e),l=Fh(t),c=ol(e),u=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);n&&s&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var h=ko({top:i.top-o.top-u,left:i.left-o.left-d,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&s){var p=parseFloat(c.marginTop),m=parseFloat(c.marginLeft);h.top-=u-p,h.bottom-=u-p,h.left-=d-m,h.right-=d-m,h.marginTop=p,h.marginLeft=m}return(r&&!n?e.contains(l):e===l&&l.nodeName!=="BODY")&&(h=SF(h,e)),h}function jF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=Wb(t,n),s=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:_c(n),l=e?0:_c(n,"left"),c={top:o-r.top+r.marginTop,left:l-r.left+r.marginLeft,width:s,height:i};return ko(c)}function $A(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(ol(t,"position")==="fixed")return!0;var n=Hb(t);return n?$A(n):!1}function UA(t){if(!t||!t.parentElement||Yc())return document.documentElement;for(var e=t.parentElement;e&&ol(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function qb(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},o=s?UA(t):Em(t,VA(e));if(r==="viewport")i=jF(o,s);else{var l=void 0;r==="scrollParent"?(l=Fh(Hb(e)),l.nodeName==="BODY"&&(l=t.ownerDocument.documentElement)):r==="window"?l=t.ownerDocument.documentElement:l=r;var c=Wb(l,o,s);if(l.nodeName==="HTML"&&!$A(o)){var u=FA(t.ownerDocument),d=u.height,h=u.width;i.top+=c.top-c.marginTop,i.bottom=d+c.top,i.left+=c.left-c.marginLeft,i.right=h+c.left}else i=c}n=n||0;var p=typeof n=="number";return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function kF(t){var e=t.width,n=t.height;return e*n}function BA(t,e,n,r,s){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var o=qb(n,r,i,s),l={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},c=Object.keys(l).map(function(p){return Nr({key:p},l[p],{area:kF(l[p])})}).sort(function(p,m){return m.area-p.area}),u=c.filter(function(p){var m=p.width,x=p.height;return m>=n.clientWidth&&x>=n.clientHeight}),d=u.length>0?u[0].key:c[0].key,h=t.split("-")[1];return d+(h?"-"+h:"")}function zA(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=r?UA(e):Em(e,VA(n));return Wb(n,s,r)}function HA(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),s=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),i={width:t.offsetWidth+s,height:t.offsetHeight+r};return i}function Nm(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function WA(t,e,n){n=n.split("-")[0];var r=HA(t),s={width:r.width,height:r.height},i=["right","left"].indexOf(n)!==-1,o=i?"top":"left",l=i?"left":"top",c=i?"height":"width",u=i?"width":"height";return s[o]=e[o]+e[c]/2-r[c]/2,n===l?s[l]=e[l]-r[u]:s[l]=e[Nm(l)],s}function $h(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function IF(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(s){return s[e]===n});var r=$h(t,function(s){return s[e]===n});return t.indexOf(r)}function qA(t,e,n){var r=n===void 0?t:t.slice(0,IF(t,"name",n));return r.forEach(function(s){s.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=s.function||s.fn;s.enabled&&MA(i)&&(e.offsets.popper=ko(e.offsets.popper),e.offsets.reference=ko(e.offsets.reference),e=i(e,s))}),e}function AF(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=zA(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=BA(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=WA(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=qA(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function KA(t,e){return t.some(function(n){var r=n.name,s=n.enabled;return s&&r===e})}function Kb(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var s=e[r],i=s?""+s+n:t;if(typeof document.body.style[i]<"u")return i}return null}function PF(){return this.state.isDestroyed=!0,KA(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Kb("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function GA(t){var e=t.ownerDocument;return e?e.defaultView:window}function YA(t,e,n,r){var s=t.nodeName==="BODY",i=s?t.ownerDocument.defaultView:t;i.addEventListener(e,n,{passive:!0}),s||YA(Fh(i.parentNode),e,n,r),r.push(i)}function RF(t,e,n,r){n.updateBound=r,GA(t).addEventListener("resize",n.updateBound,{passive:!0});var s=Fh(t);return YA(s,"scroll",n.updateBound,n.scrollParents),n.scrollElement=s,n.eventsEnabled=!0,n}function OF(){this.state.eventsEnabled||(this.state=RF(this.reference,this.options,this.state,this.scheduleUpdate))}function DF(t,e){return GA(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function LF(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=DF(this.reference,this.state))}function Gb(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function _v(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&Gb(e[n])&&(r="px"),t.style[n]=e[n]+r})}function MF(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function VF(t){return _v(t.instance.popper,t.styles),MF(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&_v(t.arrowElement,t.arrowStyles),t}function FF(t,e,n,r,s){var i=zA(s,e,t,n.positionFixed),o=BA(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),_v(e,{position:n.positionFixed?"fixed":"absolute"}),n}function $F(t,e){var n=t.offsets,r=n.popper,s=n.reference,i=Math.round,o=Math.floor,l=function(_){return _},c=i(s.width),u=i(r.width),d=["left","right"].indexOf(t.placement)!==-1,h=t.placement.indexOf("-")!==-1,p=c%2===u%2,m=c%2===1&&u%2===1,x=e?d||h||p?i:o:l,w=e?i:l;return{left:x(m&&!h&&e?r.left-1:r.left),top:w(r.top),bottom:w(r.bottom),right:x(r.right)}}var UF=Vh&&/Firefox/i.test(navigator.userAgent);function BF(t,e){var n=e.x,r=e.y,s=t.offsets.popper,i=$h(t.instance.modifiers,function(T){return T.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=i!==void 0?i:e.gpuAcceleration,l=bc(t.instance.popper),c=bv(l),u={position:s.position},d=$F(t,window.devicePixelRatio<2||!UF),h=n==="bottom"?"top":"bottom",p=r==="right"?"left":"right",m=Kb("transform"),x=void 0,w=void 0;if(h==="bottom"?l.nodeName==="HTML"?w=-l.clientHeight+d.bottom:w=-c.height+d.bottom:w=d.top,p==="right"?l.nodeName==="HTML"?x=-l.clientWidth+d.right:x=-c.width+d.right:x=d.left,o&&m)u[m]="translate3d("+x+"px, "+w+"px, 0)",u[h]=0,u[p]=0,u.willChange="transform";else{var S=h==="bottom"?-1:1,_=p==="right"?-1:1;u[h]=w*S,u[p]=x*_,u.willChange=h+", "+p}var v={"x-placement":t.placement};return t.attributes=Nr({},v,t.attributes),t.styles=Nr({},u,t.styles),t.arrowStyles=Nr({},t.offsets.arrow,t.arrowStyles),t}function QA(t,e,n){var r=$h(t,function(l){var c=l.name;return c===e}),s=!!r&&t.some(function(l){return l.name===n&&l.enabled&&l.order<r.order});if(!s){var i="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return s}function zF(t,e){var n;if(!QA(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var s=t.placement.split("-")[0],i=t.offsets,o=i.popper,l=i.reference,c=["left","right"].indexOf(s)!==-1,u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),p=c?"left":"top",m=c?"bottom":"right",x=HA(r)[u];l[m]-x<o[h]&&(t.offsets.popper[h]-=o[h]-(l[m]-x)),l[h]+x>o[m]&&(t.offsets.popper[h]+=l[h]+x-o[m]),t.offsets.popper=ko(t.offsets.popper);var w=l[h]+l[u]/2-x/2,S=ol(t.instance.popper),_=parseFloat(S["margin"+d]),v=parseFloat(S["border"+d+"Width"]),T=w-t.offsets.popper[h]-_-v;return T=Math.max(Math.min(o[u]-x,T),0),t.arrowElement=r,t.offsets.arrow=(n={},Ec(n,h,Math.round(T)),Ec(n,p,""),n),t}function HF(t){return t==="end"?"start":t==="start"?"end":t}var ZA=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],j0=ZA.slice(3);function lS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=j0.indexOf(t),r=j0.slice(n+1).concat(j0.slice(0,n));return e?r.reverse():r}var k0={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function WF(t,e){if(KA(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=qb(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],s=Nm(r),i=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case k0.FLIP:o=[r,s];break;case k0.CLOCKWISE:o=lS(r);break;case k0.COUNTERCLOCKWISE:o=lS(r,!0);break;default:o=e.behavior}return o.forEach(function(l,c){if(r!==l||o.length===c+1)return t;r=t.placement.split("-")[0],s=Nm(r);var u=t.offsets.popper,d=t.offsets.reference,h=Math.floor,p=r==="left"&&h(u.right)>h(d.left)||r==="right"&&h(u.left)<h(d.right)||r==="top"&&h(u.bottom)>h(d.top)||r==="bottom"&&h(u.top)<h(d.bottom),m=h(u.left)<h(n.left),x=h(u.right)>h(n.right),w=h(u.top)<h(n.top),S=h(u.bottom)>h(n.bottom),_=r==="left"&&m||r==="right"&&x||r==="top"&&w||r==="bottom"&&S,v=["top","bottom"].indexOf(r)!==-1,T=!!e.flipVariations&&(v&&i==="start"&&m||v&&i==="end"&&x||!v&&i==="start"&&w||!v&&i==="end"&&S),k=!!e.flipVariationsByContent&&(v&&i==="start"&&x||v&&i==="end"&&m||!v&&i==="start"&&S||!v&&i==="end"&&w),P=T||k;(p||_||P)&&(t.flipped=!0,(p||_)&&(r=o[c+1]),P&&(i=HF(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=Nr({},t.offsets.popper,WA(t.instance.popper,t.offsets.reference,t.placement)),t=qA(t.instance.modifiers,t,"flip"))}),t}function qF(t){var e=t.offsets,n=e.popper,r=e.reference,s=t.placement.split("-")[0],i=Math.floor,o=["top","bottom"].indexOf(s)!==-1,l=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return n[l]<i(r[c])&&(t.offsets.popper[c]=i(r[c])-n[u]),n[c]>i(r[l])&&(t.offsets.popper[c]=i(r[l])),t}function KF(t,e,n,r){var s=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+s[1],o=s[2];if(!i)return t;if(o.indexOf("%")===0){var l=void 0;switch(o){case"%p":l=n;break;case"%":case"%r":default:l=r}var c=ko(l);return c[e]/100*i}else if(o==="vh"||o==="vw"){var u=void 0;return o==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*i}else return i}function GF(t,e,n,r){var s=[0,0],i=["right","left"].indexOf(r)!==-1,o=t.split(/(\+|\-)/).map(function(d){return d.trim()}),l=o.indexOf($h(o,function(d){return d.search(/,|\s/)!==-1}));o[l]&&o[l].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=l!==-1?[o.slice(0,l).concat([o[l].split(c)[0]]),[o[l].split(c)[1]].concat(o.slice(l+1))]:[o];return u=u.map(function(d,h){var p=(h===1?!i:i)?"height":"width",m=!1;return d.reduce(function(x,w){return x[x.length-1]===""&&["+","-"].indexOf(w)!==-1?(x[x.length-1]=w,m=!0,x):m?(x[x.length-1]+=w,m=!1,x):x.concat(w)},[]).map(function(x){return KF(x,p,e,n)})}),u.forEach(function(d,h){d.forEach(function(p,m){Gb(p)&&(s[h]+=p*(d[m-1]==="-"?-1:1))})}),s}function YF(t,e){var n=e.offset,r=t.placement,s=t.offsets,i=s.popper,o=s.reference,l=r.split("-")[0],c=void 0;return Gb(+n)?c=[+n,0]:c=GF(n,i,o,l),l==="left"?(i.top+=c[0],i.left-=c[1]):l==="right"?(i.top+=c[0],i.left+=c[1]):l==="top"?(i.left+=c[0],i.top-=c[1]):l==="bottom"&&(i.left+=c[0],i.top+=c[1]),t.popper=i,t}function QF(t,e){var n=e.boundariesElement||bc(t.instance.popper);t.instance.reference===n&&(n=bc(n));var r=Kb("transform"),s=t.instance.popper.style,i=s.top,o=s.left,l=s[r];s.top="",s.left="",s[r]="";var c=qb(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);s.top=i,s.left=o,s[r]=l,e.boundaries=c;var u=e.priority,d=t.offsets.popper,h={primary:function(m){var x=d[m];return d[m]<c[m]&&!e.escapeWithReference&&(x=Math.max(d[m],c[m])),Ec({},m,x)},secondary:function(m){var x=m==="right"?"left":"top",w=d[x];return d[m]>c[m]&&!e.escapeWithReference&&(w=Math.min(d[x],c[m]-(m==="right"?d.width:d.height))),Ec({},x,w)}};return u.forEach(function(p){var m=["left","top"].indexOf(p)!==-1?"primary":"secondary";d=Nr({},d,h[m](p))}),t.offsets.popper=d,t}function ZF(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var s=t.offsets,i=s.reference,o=s.popper,l=["bottom","top"].indexOf(n)!==-1,c=l?"left":"top",u=l?"width":"height",d={start:Ec({},c,i[c]),end:Ec({},c,i[c]+i[u]-o[u])};t.offsets.popper=Nr({},o,d[r])}return t}function XF(t){if(!QA(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=$h(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function JF(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,s=r.popper,i=r.reference,o=["left","right"].indexOf(n)!==-1,l=["top","left"].indexOf(n)===-1;return s[o?"left":"top"]=i[n]-(l?s[o?"width":"height"]:0),t.placement=Nm(e),t.offsets.popper=ko(s),t}var e9={shift:{order:100,enabled:!0,fn:ZF},offset:{order:200,enabled:!0,fn:YF,offset:0},preventOverflow:{order:300,enabled:!0,fn:QF,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:qF},arrow:{order:500,enabled:!0,fn:zF,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:WF,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:JF},hide:{order:800,enabled:!0,fn:XF},computeStyle:{order:850,enabled:!0,fn:BF,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:VF,onLoad:FF,gpuAcceleration:void 0}},t9={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:e9},ih=function(){function t(e,n){var r=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};TF(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=EF(this.update.bind(this)),this.options=Nr({},t.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Nr({},t.Defaults.modifiers,s.modifiers)).forEach(function(o){r.options.modifiers[o]=Nr({},t.Defaults.modifiers[o]||{},s.modifiers?s.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return Nr({name:o},r.options.modifiers[o])}).sort(function(o,l){return o.order-l.order}),this.modifiers.forEach(function(o){o.enabled&&MA(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return CF(t,[{key:"update",value:function(){return AF.call(this)}},{key:"destroy",value:function(){return PF.call(this)}},{key:"enableEventListeners",value:function(){return OF.call(this)}},{key:"disableEventListeners",value:function(){return LF.call(this)}}]),t}();ih.Utils=(typeof window<"u"?window:global).PopperUtils;ih.placements=ZA;ih.Defaults=t9;var n9=["innerHTML","ownerDocument","style","attributes","nodeValue"],r9=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],s9=["bigint","boolean","null","number","string","symbol","undefined"];function zg(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(i9(e))return e}function rs(t){return function(e){return zg(e)===t}}function i9(t){return r9.includes(t)}function Qc(t){return function(e){return typeof e===t}}function o9(t){return s9.includes(t)}function B(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(B.array(t))return"Array";if(B.plainFunction(t))return"Function";var e=zg(t);return e||"Object"}B.array=Array.isArray;B.arrayOf=function(t,e){return!B.array(t)&&!B.function(e)?!1:t.every(function(n){return e(n)})};B.asyncGeneratorFunction=function(t){return zg(t)==="AsyncGeneratorFunction"};B.asyncFunction=rs("AsyncFunction");B.bigint=Qc("bigint");B.boolean=function(t){return t===!0||t===!1};B.date=rs("Date");B.defined=function(t){return!B.undefined(t)};B.domElement=function(t){return B.object(t)&&!B.plainObject(t)&&t.nodeType===1&&B.string(t.nodeName)&&n9.every(function(e){return e in t})};B.empty=function(t){return B.string(t)&&t.length===0||B.array(t)&&t.length===0||B.object(t)&&!B.map(t)&&!B.set(t)&&Object.keys(t).length===0||B.set(t)&&t.size===0||B.map(t)&&t.size===0};B.error=rs("Error");B.function=Qc("function");B.generator=function(t){return B.iterable(t)&&B.function(t.next)&&B.function(t.throw)};B.generatorFunction=rs("GeneratorFunction");B.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};B.iterable=function(t){return!B.nullOrUndefined(t)&&B.function(t[Symbol.iterator])};B.map=rs("Map");B.nan=function(t){return Number.isNaN(t)};B.null=function(t){return t===null};B.nullOrUndefined=function(t){return B.null(t)||B.undefined(t)};B.number=function(t){return Qc("number")(t)&&!B.nan(t)};B.numericString=function(t){return B.string(t)&&t.length>0&&!Number.isNaN(Number(t))};B.object=function(t){return!B.nullOrUndefined(t)&&(B.function(t)||typeof t=="object")};B.oneOf=function(t,e){return B.array(t)?t.indexOf(e)>-1:!1};B.plainFunction=rs("Function");B.plainObject=function(t){if(zg(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};B.primitive=function(t){return B.null(t)||o9(typeof t)};B.promise=rs("Promise");B.propertyOf=function(t,e,n){if(!B.object(t)||!e)return!1;var r=t[e];return B.function(n)?n(r):B.defined(r)};B.regexp=rs("RegExp");B.set=rs("Set");B.string=Qc("string");B.symbol=Qc("symbol");B.undefined=Qc("undefined");B.weakMap=rs("WeakMap");B.weakSet=rs("WeakSet");function XA(t){return function(e){return typeof e===t}}var a9=XA("function"),l9=function(t){return t===null},cS=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},uS=function(t){return!c9(t)&&!l9(t)&&(a9(t)||typeof t=="object")},c9=XA("undefined"),Ev=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function u9(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!Hn(t[r],e[r]))return!1;return!0}function d9(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),s=t.byteLength;s--;)if(n.getUint8(s)!==r.getUint8(s))return!1;return!0}function h9(t,e){var n,r,s,i;if(t.size!==e.size)return!1;try{for(var o=Ev(t.entries()),l=o.next();!l.done;l=o.next()){var c=l.value;if(!e.has(c[0]))return!1}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var u=Ev(t.entries()),d=u.next();!d.done;d=u.next()){var c=d.value;if(!Hn(c[1],e.get(c[0])))return!1}}catch(h){s={error:h}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}return!0}function f9(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var s=Ev(t.entries()),i=s.next();!i.done;i=s.next()){var o=i.value;if(!e.has(o[0]))return!1}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return!0}function Hn(t,e){if(t===e)return!0;if(t&&uS(t)&&e&&uS(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return u9(t,e);if(t instanceof Map&&e instanceof Map)return h9(t,e);if(t instanceof Set&&e instanceof Set)return f9(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return d9(t,e);if(cS(t)&&cS(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var s=n.length;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;for(var s=n.length;s--!==0;){var i=n[s];if(!(i==="_owner"&&t.$$typeof)&&!Hn(t[i],e[i]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function p9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return B.string(n)||B.array(n)||B.plainObject(n)})}function m9(t,e,n){return JA(t,e)?[t,e].every(B.array)?!t.some(mS(n))&&e.some(mS(n)):[t,e].every(B.plainObject)?!Object.entries(t).some(pS(n))&&Object.entries(e).some(pS(n)):e===n:!1}function dS(t,e,n){var r=n.actual,s=n.key,i=n.previous,o=n.type,l=ys(t,s),c=ys(e,s),u=[l,c].every(B.number)&&(o==="increased"?l<c:l>c);return B.undefined(r)||(u=u&&c===r),B.undefined(i)||(u=u&&l===i),u}function hS(t,e,n){var r=n.key,s=n.type,i=n.value,o=ys(t,r),l=ys(e,r),c=s==="added"?o:l,u=s==="added"?l:o;if(!B.nullOrUndefined(i)){if(B.defined(c)){if(B.array(c)||B.plainObject(c))return m9(c,u,i)}else return Hn(u,i);return!1}return[o,l].every(B.array)?!u.every(Yb(c)):[o,l].every(B.plainObject)?g9(Object.keys(c),Object.keys(u)):![o,l].every(function(d){return B.primitive(d)&&B.defined(d)})&&(s==="added"?!B.defined(o)&&B.defined(l):B.defined(o)&&!B.defined(l))}function fS(t,e,n){var r=n===void 0?{}:n,s=r.key,i=ys(t,s),o=ys(e,s);if(!JA(i,o))throw new TypeError("Inputs have different types");if(!p9(i,o))throw new TypeError("Inputs don't have length");return[i,o].every(B.plainObject)&&(i=Object.keys(i),o=Object.keys(o)),[i,o]}function pS(t){return function(e){var n=e[0],r=e[1];return B.array(t)?Hn(t,r)||t.some(function(s){return Hn(s,r)||B.array(r)&&Yb(r)(s)}):B.plainObject(t)&&t[n]?!!t[n]&&Hn(t[n],r):Hn(t,r)}}function g9(t,e){return e.some(function(n){return!t.includes(n)})}function mS(t){return function(e){return B.array(t)?t.some(function(n){return Hn(n,e)||B.array(e)&&Yb(e)(n)}):Hn(t,e)}}function Ou(t,e){return B.array(t)?t.some(function(n){return Hn(n,e)}):Hn(t,e)}function Yb(t){return function(e){return t.some(function(n){return Hn(n,e)})}}function JA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(B.array)||t.every(B.number)||t.every(B.plainObject)||t.every(B.string)}function ys(t,e){if(B.plainObject(t)||B.array(t)){if(B.string(e)){var n=e.split(".");return n.reduce(function(r,s){return r&&r[s]},t)}return B.number(e)?t[e]:t}return t}function y9(t,e){if([t,e].some(B.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(h){return B.plainObject(h)||B.array(h)}))throw new Error("Expected plain objects or array");var n=function(h,p){try{return hS(t,e,{key:h,type:"added",value:p})}catch{return!1}},r=function(h,p,m){try{var x=ys(t,h),w=ys(e,h),S=B.defined(p),_=B.defined(m);if(S||_){var v=_?Ou(m,x):!Ou(p,x),T=Ou(p,w);return v&&T}return[x,w].every(B.array)||[x,w].every(B.plainObject)?!Hn(x,w):x!==w}catch{return!1}},s=function(h,p,m){if(!B.defined(h))return!1;try{var x=ys(t,h),w=ys(e,h),S=B.defined(m);return Ou(p,x)&&(S?Ou(m,w):!S)}catch{return!1}},i=function(h,p){return B.defined(h)?r(h,p):!1},o=function(h,p,m){if(!B.defined(h))return!1;try{return dS(t,e,{key:h,actual:p,previous:m,type:"decreased"})}catch{return!1}},l=function(h){try{var p=fS(t,e,{key:h}),m=p[0],x=p[1];return!!m.length&&!x.length}catch{return!1}},c=function(h){try{var p=fS(t,e,{key:h}),m=p[0],x=p[1];return!m.length&&!!x.length}catch{return!1}},u=function(h,p,m){if(!B.defined(h))return!1;try{return dS(t,e,{key:h,actual:p,previous:m,type:"increased"})}catch{return!1}},d=function(h,p){try{return hS(t,e,{key:h,type:"removed",value:p})}catch{return!1}};return{added:n,changed:r,changedFrom:s,changedTo:i,decreased:o,emptied:l,filled:c,increased:u,removed:d}}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tP(r.key),r)}}function Bh(t,e,n){return e&&x9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gn(t,e,n){return e=tP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nv(t,e)}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function Nv(t,e){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Nv(t,e)}function v9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eP(t,e){if(t==null)return{};var n=w9(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b9(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zs(t)}function Hh(t){var e=v9();return function(){var r=Sm(t),s;if(e){var i=Sm(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return b9(this,s)}}function _9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tP(t){var e=_9(t,"string");return typeof e=="symbol"?e:String(e)}var E9={flip:{padding:20},preventOverflow:{padding:10}},N9="The typeValidator argument must be a function with the signature function(props, propName, componentName).",S9="The error message is optional, but must be a string if provided.";function T9(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function C9(t,e){return Object.hasOwnProperty.call(t,e)}function j9(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function k9(t,e){if(typeof t!="function")throw new TypeError(N9);if(e&&typeof e!="string")throw new TypeError(S9)}function yS(t,e,n){return k9(t,n),function(r,s,i){for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return T9(e,r,s,i)?C9(r,s)?t.apply(void 0,[r,s,i].concat(l)):j9(r,s,i):t.apply(void 0,[r,s,i].concat(l))}}var Ge={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Du=Rp.createPortal!==void 0;function hs(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function I0(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function ep(t){var e=t.title,n=t.data,r=t.warn,s=r===void 0?!1:r,i=t.debug,o=i===void 0?!1:i,l=s?console.warn||console.error:console.log;o&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(c){B.plainObject(c)&&c.key?l.apply(console,[c.key,c.value]):l.apply(console,[c])}):l.apply(console,[n]),console.groupEnd())}function I9(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function A9(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function P9(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s;s=function(o){n(o),A9(t,e,s)},I9(t,e,s,r)}function xS(){}var nP=function(t){zh(n,t);var e=Hh(n);function n(){return Uh(this,n),e.apply(this,arguments)}return Bh(n,[{key:"componentDidMount",value:function(){hs()&&(this.node||this.appendNode(),Du||this.renderPortal())}},{key:"componentDidUpdate",value:function(){hs()&&(Du||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!hs()||!this.node||(Du||Rp.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var s=this.props,i=s.id,o=s.zIndex;this.node||(this.node=document.createElement("div"),i&&(this.node.id=i),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!hs())return null;var s=this.props,i=s.children,o=s.setRef;if(this.node||this.appendNode(),Du)return Rp.createPortal(i,this.node);var l=Rp.unstable_renderSubtreeIntoContainer(this,i.length>1?ee.createElement("div",null,i):i[0],this.node);return o(l),null}},{key:"renderReact16",value:function(){var s=this.props,i=s.hasChildren,o=s.placement,l=s.target;return i?this.renderPortal():l||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return Du?this.renderReact16():null}}]),n}(ee.Component);gn(nP,"propTypes",{children:H.oneOfType([H.element,H.array]),hasChildren:H.bool,id:H.oneOfType([H.string,H.number]),placement:H.string,setRef:H.func.isRequired,target:H.oneOfType([H.object,H.string]),zIndex:H.number});var rP=function(t){zh(n,t);var e=Hh(n);function n(){return Uh(this,n),e.apply(this,arguments)}return Bh(n,[{key:"parentStyle",get:function(){var s=this.props,i=s.placement,o=s.styles,l=o.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return i.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=l):i.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=l):i.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):i.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var s=this.props,i=s.placement,o=s.setArrowRef,l=s.styles,c=l.arrow,u=c.color,d=c.display,h=c.length,p=c.margin,m=c.position,x=c.spread,w={display:d,position:m},S,_=x,v=h;return i.startsWith("top")?(S="0,0 ".concat(_/2,",").concat(v," ").concat(_,",0"),w.bottom=0,w.marginLeft=p,w.marginRight=p):i.startsWith("bottom")?(S="".concat(_,",").concat(v," ").concat(_/2,",0 0,").concat(v),w.top=0,w.marginLeft=p,w.marginRight=p):i.startsWith("left")?(v=x,_=h,S="0,0 ".concat(_,",").concat(v/2," 0,").concat(v),w.right=0,w.marginTop=p,w.marginBottom=p):i.startsWith("right")&&(v=x,_=h,S="".concat(_,",").concat(v," ").concat(_,",0 0,").concat(v/2),w.left=0,w.marginTop=p,w.marginBottom=p),ee.createElement("div",{className:"__floater__arrow",style:this.parentStyle},ee.createElement("span",{ref:o,style:w},ee.createElement("svg",{width:_,height:v,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},ee.createElement("polygon",{points:S,fill:u}))))}}]),n}(ee.Component);gn(rP,"propTypes",{placement:H.string.isRequired,setArrowRef:H.func.isRequired,styles:H.object.isRequired});var R9=["color","height","width"];function sP(t){var e=t.handleClick,n=t.styles,r=n.color,s=n.height,i=n.width,o=eP(n,R9);return ee.createElement("button",{"aria-label":"close",onClick:e,style:o,type:"button"},ee.createElement("svg",{width:"".concat(i,"px"),height:"".concat(s,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},ee.createElement("g",null,ee.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}sP.propTypes={handleClick:H.func.isRequired,styles:H.object.isRequired};function iP(t){var e=t.content,n=t.footer,r=t.handleClick,s=t.open,i=t.positionWrapper,o=t.showCloseButton,l=t.title,c=t.styles,u={content:ee.isValidElement(e)?e:ee.createElement("div",{className:"__floater__content",style:c.content},e)};return l&&(u.title=ee.isValidElement(l)?l:ee.createElement("div",{className:"__floater__title",style:c.title},l)),n&&(u.footer=ee.isValidElement(n)?n:ee.createElement("div",{className:"__floater__footer",style:c.footer},n)),(o||i)&&!B.boolean(s)&&(u.close=ee.createElement(sP,{styles:c.close,handleClick:r})),ee.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}iP.propTypes={content:H.node.isRequired,footer:H.node,handleClick:H.func.isRequired,open:H.bool,positionWrapper:H.bool.isRequired,showCloseButton:H.bool.isRequired,styles:H.object.isRequired,title:H.node};var oP=function(t){zh(n,t);var e=Hh(n);function n(){return Uh(this,n),e.apply(this,arguments)}return Bh(n,[{key:"style",get:function(){var s=this.props,i=s.disableAnimation,o=s.component,l=s.placement,c=s.hideArrow,u=s.status,d=s.styles,h=d.arrow.length,p=d.floater,m=d.floaterCentered,x=d.floaterClosing,w=d.floaterOpening,S=d.floaterWithAnimation,_=d.floaterWithComponent,v={};return c||(l.startsWith("top")?v.padding="0 0 ".concat(h,"px"):l.startsWith("bottom")?v.padding="".concat(h,"px 0 0"):l.startsWith("left")?v.padding="0 ".concat(h,"px 0 0"):l.startsWith("right")&&(v.padding="0 0 0 ".concat(h,"px"))),[Ge.OPENING,Ge.OPEN].indexOf(u)!==-1&&(v=gt(gt({},v),w)),u===Ge.CLOSING&&(v=gt(gt({},v),x)),u===Ge.OPEN&&!i&&(v=gt(gt({},v),S)),l==="center"&&(v=gt(gt({},v),m)),o&&(v=gt(gt({},v),_)),gt(gt({},p),v)}},{key:"render",value:function(){var s=this.props,i=s.component,o=s.handleClick,l=s.hideArrow,c=s.setFloaterRef,u=s.status,d={},h=["__floater"];return i?ee.isValidElement(i)?d.content=ee.cloneElement(i,{closeFn:o}):d.content=i({closeFn:o}):d.content=ee.createElement(iP,this.props),u===Ge.OPEN&&h.push("__floater__open"),l||(d.arrow=ee.createElement(rP,this.props)),ee.createElement("div",{ref:c,className:h.join(" "),style:this.style},ee.createElement("div",{className:"__floater__body"},d.content,d.arrow))}}]),n}(ee.Component);gn(oP,"propTypes",{component:H.oneOfType([H.func,H.element]),content:H.node,disableAnimation:H.bool.isRequired,footer:H.node,handleClick:H.func.isRequired,hideArrow:H.bool.isRequired,open:H.bool,placement:H.string.isRequired,positionWrapper:H.bool.isRequired,setArrowRef:H.func.isRequired,setFloaterRef:H.func.isRequired,showCloseButton:H.bool,status:H.string.isRequired,styles:H.object.isRequired,title:H.node});var aP=function(t){zh(n,t);var e=Hh(n);function n(){return Uh(this,n),e.apply(this,arguments)}return Bh(n,[{key:"render",value:function(){var s=this.props,i=s.children,o=s.handleClick,l=s.handleMouseEnter,c=s.handleMouseLeave,u=s.setChildRef,d=s.setWrapperRef,h=s.style,p=s.styles,m;if(i)if(ee.Children.count(i)===1)if(!ee.isValidElement(i))m=ee.createElement("span",null,i);else{var x=B.function(i.type)?"innerRef":"ref";m=ee.cloneElement(ee.Children.only(i),gn({},x,u))}else m=i;return m?ee.createElement("span",{ref:d,style:gt(gt({},p),h),onClick:o,onMouseEnter:l,onMouseLeave:c},m):null}}]),n}(ee.Component);gn(aP,"propTypes",{children:H.node,handleClick:H.func.isRequired,handleMouseEnter:H.func.isRequired,handleMouseLeave:H.func.isRequired,setChildRef:H.func.isRequired,setWrapperRef:H.func.isRequired,style:H.object,styles:H.object.isRequired});var O9={zIndex:100};function D9(t){var e=Kr(O9,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var L9=["arrow","flip","offset"],M9=["position","top","right","bottom","left"],Qb=function(t){zh(n,t);var e=Hh(n);function n(r){var s;return Uh(this,n),s=e.call(this,r),gn(Zs(s),"setArrowRef",function(i){s.arrowRef=i}),gn(Zs(s),"setChildRef",function(i){s.childRef=i}),gn(Zs(s),"setFloaterRef",function(i){s.floaterRef=i}),gn(Zs(s),"setWrapperRef",function(i){s.wrapperRef=i}),gn(Zs(s),"handleTransitionEnd",function(){var i=s.state.status,o=s.props.callback;s.wrapperPopper&&s.wrapperPopper.instance.update(),s.setState({status:i===Ge.OPENING?Ge.OPEN:Ge.IDLE},function(){var l=s.state.status;o(l===Ge.OPEN?"open":"close",s.props)})}),gn(Zs(s),"handleClick",function(){var i=s.props,o=i.event,l=i.open;if(!B.boolean(l)){var c=s.state,u=c.positionWrapper,d=c.status;(s.event==="click"||s.event==="hover"&&u)&&(ep({title:"click",data:[{event:o,status:d===Ge.OPEN?"closing":"opening"}],debug:s.debug}),s.toggle())}}),gn(Zs(s),"handleMouseEnter",function(){var i=s.props,o=i.event,l=i.open;if(!(B.boolean(l)||I0())){var c=s.state.status;s.event==="hover"&&c===Ge.IDLE&&(ep({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:s.debug}),clearTimeout(s.eventDelayTimeout),s.toggle())}}),gn(Zs(s),"handleMouseLeave",function(){var i=s.props,o=i.event,l=i.eventDelay,c=i.open;if(!(B.boolean(c)||I0())){var u=s.state,d=u.status,h=u.positionWrapper;s.event==="hover"&&(ep({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:s.debug}),l?[Ge.OPENING,Ge.OPEN].indexOf(d)!==-1&&!h&&!s.eventDelayTimeout&&(s.eventDelayTimeout=setTimeout(function(){delete s.eventDelayTimeout,s.toggle()},l*1e3)):s.toggle(Ge.IDLE))}}),s.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:Ge.INIT,statusWrapper:Ge.INIT},s._isMounted=!1,s.hasMounted=!1,hs()&&window.addEventListener("load",function(){s.popper&&s.popper.instance.update(),s.wrapperPopper&&s.wrapperPopper.instance.update()}),s}return Bh(n,[{key:"componentDidMount",value:function(){if(hs()){var s=this.state.positionWrapper,i=this.props,o=i.children,l=i.open,c=i.target;this._isMounted=!0,ep({title:"init",data:{hasChildren:!!o,hasTarget:!!c,isControlled:B.boolean(l),positionWrapper:s,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&c&&B.boolean(l)}}},{key:"componentDidUpdate",value:function(s,i){if(hs()){var o=this.props,l=o.autoOpen,c=o.open,u=o.target,d=o.wrapperOptions,h=y9(i,this.state),p=h.changedFrom,m=h.changed;if(s.open!==c){var x;B.boolean(c)&&(x=c?Ge.OPENING:Ge.CLOSING),this.toggle(x)}(s.wrapperOptions.position!==d.position||s.target!==u)&&this.changeWrapperPosition(this.props),m("status",Ge.IDLE)&&c?this.toggle(Ge.OPEN):p("status",Ge.INIT,Ge.IDLE)&&l&&this.toggle(Ge.OPEN),this.popper&&m("status",Ge.OPENING)&&this.popper.instance.update(),this.floaterRef&&(m("status",Ge.OPENING)||m("status",Ge.CLOSING))&&P9(this.floaterRef,"transitionend",this.handleTransitionEnd),m("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){hs()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var s=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,l=this.props,c=l.disableFlip,u=l.getPopper,d=l.hideArrow,h=l.offset,p=l.placement,m=l.wrapperOptions,x=p==="top"||p==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(p==="center")this.setState({status:Ge.IDLE});else if(i&&this.floaterRef){var w=this.options,S=w.arrow,_=w.flip,v=w.offset,T=eP(w,L9);new ih(i,this.floaterRef,{placement:p,modifiers:gt({arrow:gt({enabled:!d,element:this.arrowRef},S),flip:gt({enabled:!c,behavior:x},_),offset:gt({offset:"0, ".concat(h,"px")},v)},T),onCreate:function(O){var N;if(s.popper=O,!((N=s.floaterRef)!==null&&N!==void 0&&N.isConnected)){s.setState({needsUpdate:!0});return}u(O,"floater"),s._isMounted&&s.setState({currentPlacement:O.placement,status:Ge.IDLE}),p!==O.placement&&setTimeout(function(){O.instance.update()},1)},onUpdate:function(O){s.popper=O;var N=s.state.currentPlacement;s._isMounted&&O.placement!==N&&s.setState({currentPlacement:O.placement})}})}if(o){var k=B.undefined(m.offset)?0:m.offset;new ih(this.target,this.wrapperRef,{placement:m.placement||p,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(k,"px")},flip:{enabled:!1}},onCreate:function(O){s.wrapperPopper=O,s._isMounted&&s.setState({statusWrapper:Ge.IDLE}),u(O,"wrapper"),p!==O.placement&&setTimeout(function(){O.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var s=this;this.floaterRefInterval=setInterval(function(){var i;(i=s.floaterRef)!==null&&i!==void 0&&i.isConnected&&(clearInterval(s.floaterRefInterval),s.setState({needsUpdate:!1}),s.initPopper())},50)}},{key:"changeWrapperPosition",value:function(s){var i=s.target,o=s.wrapperOptions;this.setState({positionWrapper:o.position&&!!i})}},{key:"toggle",value:function(s){var i=this.state.status,o=i===Ge.OPEN?Ge.CLOSING:Ge.OPENING;B.undefined(s)||(o=s),this.setState({status:o})}},{key:"debug",get:function(){var s=this.props.debug;return s||hs()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var s=this.props,i=s.disableHoverToClick,o=s.event;return o==="hover"&&I0()&&!i?"click":o}},{key:"options",get:function(){var s=this.props.options;return Kr(E9,s||{})}},{key:"styles",get:function(){var s=this,i=this.state,o=i.status,l=i.positionWrapper,c=i.statusWrapper,u=this.props.styles,d=Kr(D9(u),u);if(l){var h;[Ge.IDLE].indexOf(o)===-1||[Ge.IDLE].indexOf(c)===-1?h=d.wrapperPosition:h=this.wrapperPopper.styles,d.wrapper=gt(gt({},d.wrapper),h)}if(this.target){var p=window.getComputedStyle(this.target);this.wrapperStyles?d.wrapper=gt(gt({},d.wrapper),this.wrapperStyles):["relative","static"].indexOf(p.position)===-1&&(this.wrapperStyles={},l||(M9.forEach(function(m){s.wrapperStyles[m]=p[m]}),d.wrapper=gt(gt({},d.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return d}},{key:"target",get:function(){if(!hs())return null;var s=this.props.target;return s?B.domElement(s)?s:document.querySelector(s):this.childRef||this.wrapperRef}},{key:"render",value:function(){var s=this.state,i=s.currentPlacement,o=s.positionWrapper,l=s.status,c=this.props,u=c.children,d=c.component,h=c.content,p=c.disableAnimation,m=c.footer,x=c.hideArrow,w=c.id,S=c.open,_=c.showCloseButton,v=c.style,T=c.target,k=c.title,P=ee.createElement(aP,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:v,styles:this.styles.wrapper},u),O={};return o?O.wrapperInPortal=P:O.wrapperAsChildren=P,ee.createElement("span",null,ee.createElement(nP,{hasChildren:!!u,id:w,placement:i,setRef:this.setFloaterRef,target:T,zIndex:this.styles.options.zIndex},ee.createElement(oP,{component:d,content:h,disableAnimation:p,footer:m,handleClick:this.handleClick,hideArrow:x||i==="center",open:S,placement:i,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:_,status:l,styles:this.styles,title:k}),O.wrapperInPortal),O.wrapperAsChildren)}}]),n}(ee.Component);gn(Qb,"propTypes",{autoOpen:H.bool,callback:H.func,children:H.node,component:yS(H.oneOfType([H.func,H.element]),function(t){return!t.content}),content:yS(H.node,function(t){return!t.component}),debug:H.bool,disableAnimation:H.bool,disableFlip:H.bool,disableHoverToClick:H.bool,event:H.oneOf(["hover","click"]),eventDelay:H.number,footer:H.node,getPopper:H.func,hideArrow:H.bool,id:H.oneOfType([H.string,H.number]),offset:H.number,open:H.bool,options:H.object,placement:H.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:H.bool,style:H.object,styles:H.object,target:H.oneOfType([H.object,H.string]),title:H.node,wrapperOptions:H.shape({offset:H.number,placement:H.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:H.bool})});gn(Qb,"defaultProps",{autoOpen:!1,callback:xS,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:xS,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var V9=Object.defineProperty,F9=(t,e,n)=>e in t?V9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ye=(t,e,n)=>F9(t,typeof e!="symbol"?e+"":e,n),et={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Br={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Oe={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Fe={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Zi(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function lP(t){return t?t.getBoundingClientRect():null}function $9(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((i,o)=>i-o),s=Math.floor(r.length/2);return r.length%2===0?(r[s-1]+r[s])/2:r[s]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function ri(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function U9(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function oh(t,e,n){if(!t)return Ta();const r=PA(t);if(r){if(r.isSameNode(Ta()))return n?document:Ta();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",Ta()}return r}function Hg(t,e){if(!t)return!1;const n=oh(t,e);return n?!n.isSameNode(Ta()):!1}function B9(t){return t.offsetParent!==document.body}function Nc(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=U9(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?Nc(t.parentNode,e):!1}function z9(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:s}=getComputedStyle(n);if(r==="none"||s==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function H9(t,e,n){var r,s,i;const o=lP(t),l=oh(t,n),c=Hg(t,n),u=Nc(t);let d=0,h=(r=o==null?void 0:o.top)!=null?r:0;if(c&&u){const p=(s=t==null?void 0:t.offsetTop)!=null?s:0,m=(i=l==null?void 0:l.scrollTop)!=null?i:0;h=p-m}else l instanceof HTMLElement&&(d=l.scrollTop,!c&&!Nc(t)&&(h+=d),l.isSameNode(Ta())||(h+=Ta().scrollTop));return Math.floor(h-e)}function W9(t,e,n){var r;if(!t)return 0;const{offsetTop:s=0,scrollTop:i=0}=(r=PA(t))!=null?r:{};let o=t.getBoundingClientRect().top+i;s&&(Hg(t,n)||B9(t))&&(o-=s);const l=Math.floor(o-e);return l<0?0:l}function Ta(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function q9(t,e){const{duration:n,element:r}=e;return new Promise((s,i)=>{const{scrollTop:o}=r,l=t>o?t-o:o-t;YV.top(r,t,{duration:l<100?50:n},c=>c&&c.message!=="Element already at target scroll position"?i(c):s())})}var Lu=Da.createPortal!==void 0;function cP(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function Op(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function fs(t,e={}){const{defaultValue:n,step:r,steps:s}=e;let i=nS(t);if(i)(i.includes("{step}")||i.includes("{steps}"))&&r&&s&&(i=i.replace("{step}",r.toString()).replace("{steps}",s.toString()));else if(y.isValidElement(t)&&!Object.values(t.props).length&&Op(t.type)==="function"){const o=t.type({});i=fs(o,e)}else i=nS(n);return i}function K9(t,e){return!ge.plainObject(t)||!ge.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function G9(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(s,i,o,l)=>i+i+o+o+l+l),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function vS(t){return t.disableBeacon||t.placement==="center"}function wS(){return!["chrome","safari","firefox","opera"].includes(cP())}function qa({data:t,debug:e=!1,title:n,warn:r=!1}){const s=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(i=>{ge.plainObject(i)&&i.key?s.apply(console,[i.key,i.value]):s.apply(console,[i])}):s.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function Y9(t){return Object.keys(t)}function uP(t,...e){if(!ge.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function Q9(t,...e){if(!ge.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function Sv(t,e,n){const r=i=>i.replace("{step}",String(e)).replace("{steps}",String(n));if(Op(t)==="string")return r(t);if(!y.isValidElement(t))return t;const{children:s}=t.props;if(Op(s)==="string"&&s.includes("{step}"))return y.cloneElement(t,{children:r(s)});if(Array.isArray(s))return y.cloneElement(t,{children:s.map(i=>typeof i=="string"?r(i):Sv(i,e,n))});if(Op(t.type)==="function"&&!Object.values(t.props).length){const i=t.type({});return Sv(i,e,n)}return t}function Z9(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:s,step:i,target:o}=t;return!i.disableScrolling&&(!e||s||n===Oe.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!Nc(o))&&r!==n&&[Oe.BEACON,Oe.TOOLTIP].includes(n)}var X9={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},dP={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},J9={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:dP,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},e$={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},t$={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Mu={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},bS={borderRadius:4,position:"absolute"};function n$(t,e){var n,r,s,i,o;const{floaterProps:l,styles:c}=t,u=Kr((n=e.floaterProps)!=null?n:{},l??{}),d=Kr(c??{},(r=e.styles)!=null?r:{}),h=Kr(t$,d.options||{}),p=e.placement==="center"||e.disableBeacon;let{width:m}=h;window.innerWidth>480&&(m=380),"width"in h&&(m=typeof h.width=="number"&&window.innerWidth<h.width?window.innerWidth-30:h.width);const x={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:h.zIndex},w={beacon:{...Mu,display:p?"none":"inline-block",height:h.beaconSize,position:"relative",width:h.beaconSize,zIndex:h.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:h.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${G9(h.primaryColor).join(",")}, 0.2)`,border:`2px solid ${h.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:h.backgroundColor,borderRadius:5,boxSizing:"border-box",color:h.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:m},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Mu,backgroundColor:h.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Mu,color:h.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Mu,color:h.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Mu,color:h.textColor,fontSize:14},overlay:{...x,backgroundColor:h.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...x},overlayLegacyCenter:{...x,backgroundColor:h.overlayColor},spotlight:{...bS,backgroundColor:"gray"},spotlightLegacy:{...bS,boxShadow:`0 0 0 9999px ${h.overlayColor}, ${h.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(i=(s=u==null?void 0:u.styles)==null?void 0:s.arrow)==null?void 0:i.color)!=null?o:h.arrowColor},options:{zIndex:h.zIndex+100}},options:h};return Kr(w,d)}function r$(t){return Q9(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function kl(t,e){var n,r,s,i,o,l;const c=e??{},u=Kr.all([J9,r$(t),c],{isMergeableObject:ge.plainObject}),d=n$(t,u),h=Hg(ri(u.target),u.disableScrollParentFix),p=Kr.all([X9,(n=t.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return p.offset=u.offset,p.styles=Kr((s=p.styles)!=null?s:{},d.floaterStyles),p.offset+=(o=(i=t.spotlightPadding)!=null?i:u.spotlightPadding)!=null?o:0,u.placementBeacon&&p.wrapperOptions&&(p.wrapperOptions.placement=u.placementBeacon),h&&p.options.preventOverflow&&(p.options.preventOverflow.boundariesElement="window"),{...u,locale:Kr.all([dP,(l=t.locale)!=null?l:{},u.locale||{}]),floaterProps:p,styles:uP(d,"floaterStyles")}}function hP(t,e=!1){return ge.plainObject(t)?t.target?!0:(qa({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(qa({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function _S(t,e=!1){return ge.array(t)?t.every(n=>hP(n,e)):(qa({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var fP={action:"init",controlled:!1,index:0,lifecycle:Oe.INIT,origin:null,size:0,status:Fe.IDLE},ES=Y9(uP(fP,"controlled","size")),s$=class{constructor(t){ye(this,"beaconPopper"),ye(this,"tooltipPopper"),ye(this,"data",new Map),ye(this,"listener"),ye(this,"store",new Map),ye(this,"addListener",s=>{this.listener=s}),ye(this,"setSteps",s=>{const{size:i,status:o}=this.getState(),l={size:s.length,status:o};this.data.set("steps",s),o===Fe.WAITING&&!i&&s.length&&(l.status=Fe.RUNNING),this.setState(l)}),ye(this,"getPopper",s=>s==="beacon"?this.beaconPopper:this.tooltipPopper),ye(this,"setPopper",(s,i)=>{s==="beacon"?this.beaconPopper=i:this.tooltipPopper=i}),ye(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),ye(this,"close",(s=null)=>{const{index:i,status:o}=this.getState();o===Fe.RUNNING&&this.setState({...this.getNextState({action:et.CLOSE,index:i+1,origin:s})})}),ye(this,"go",s=>{const{controlled:i,status:o}=this.getState();if(i||o!==Fe.RUNNING)return;const l=this.getSteps()[s];this.setState({...this.getNextState({action:et.GO,index:s}),status:l?o:Fe.FINISHED})}),ye(this,"info",()=>this.getState()),ye(this,"next",()=>{const{index:s,status:i}=this.getState();i===Fe.RUNNING&&this.setState(this.getNextState({action:et.NEXT,index:s+1}))}),ye(this,"open",()=>{const{status:s}=this.getState();s===Fe.RUNNING&&this.setState({...this.getNextState({action:et.UPDATE,lifecycle:Oe.TOOLTIP})})}),ye(this,"prev",()=>{const{index:s,status:i}=this.getState();i===Fe.RUNNING&&this.setState({...this.getNextState({action:et.PREV,index:s-1})})}),ye(this,"reset",(s=!1)=>{const{controlled:i}=this.getState();i||this.setState({...this.getNextState({action:et.RESET,index:0}),status:s?Fe.RUNNING:Fe.READY})}),ye(this,"skip",()=>{const{status:s}=this.getState();s===Fe.RUNNING&&this.setState({action:et.SKIP,lifecycle:Oe.INIT,status:Fe.SKIPPED})}),ye(this,"start",s=>{const{index:i,size:o}=this.getState();this.setState({...this.getNextState({action:et.START,index:ge.number(s)?s:i},!0),status:o?Fe.RUNNING:Fe.WAITING})}),ye(this,"stop",(s=!1)=>{const{index:i,status:o}=this.getState();[Fe.FINISHED,Fe.SKIPPED].includes(o)||this.setState({...this.getNextState({action:et.STOP,index:i+(s?1:0)}),status:Fe.PAUSED})}),ye(this,"update",s=>{var i,o;if(!K9(s,ES))throw new Error(`State is not valid. Valid keys: ${ES.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...s,action:(i=s.action)!=null?i:et.UPDATE,origin:(o=s.origin)!=null?o:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:et.INIT,controlled:ge.number(n),continuous:e,index:ge.number(n)?n:0,lifecycle:Oe.INIT,origin:null,status:r.length?Fe.READY:Fe.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...fP}}getNextState(t,e=!1){var n,r,s,i,o;const{action:l,controlled:c,index:u,size:d,status:h}=this.getState(),p=ge.number(t.index)?t.index:u,m=c&&!e?u:Math.min(Math.max(p,0),d);return{action:(n=t.action)!=null?n:l,controlled:c,index:m,lifecycle:(r=t.lifecycle)!=null?r:Oe.INIT,origin:(s=t.origin)!=null?s:null,size:(i=t.size)!=null?i:d,status:m===d?Fe.FINISHED:(o=t.status)!=null?o:h}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:s,lifecycle:i,origin:o=null,size:l,status:c}={...n,...t};this.store.set("action",r),this.store.set("index",s),this.store.set("lifecycle",i),this.store.set("origin",o),this.store.set("size",l),this.store.set("status",c),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function i$(t){return new s$(t)}function o$({styles:t}){return y.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var a$=o$,l$=class extends y.Component{constructor(){super(...arguments),ye(this,"isActive",!1),ye(this,"resizeTimeout"),ye(this,"scrollTimeout"),ye(this,"scrollParent"),ye(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),ye(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Oe.INIT,Oe.BEACON,Oe.COMPLETE,Oe.ERROR];return e||(t?r.includes(n):n!==Oe.TOOLTIP)}),ye(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:s,top:i,width:o}=this.spotlightStyles,l=s==="fixed"?t.clientY:t.pageY,c=s==="fixed"?t.clientX:t.pageX,u=l>=i&&l<=i+n,h=c>=r&&c<=r+o&&u;h!==e&&this.updateState({mouseOverSpotlight:h})}),ye(this,"handleScroll",()=>{const{target:t}=this.props,e=ri(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Nc(e,"sticky")&&this.updateState({})}),ye(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,s=ri(r);this.scrollParent=oh(s??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:s,target:i}=this.props,{changed:o}=_m(t,this.props);if(o("target")||o("disableScrollParentFix")){const l=ri(i);this.scrollParent=oh(l??document.body,n,!0)}o("lifecycle",Oe.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:l}=this.state;l||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(s&&r===Oe.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Oe.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let s=r.overlay;return wS()&&(s=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:$9(),pointerEvents:t?"none":"auto",...s}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:s=!1,spotlightClicks:i,spotlightPadding:o=0,styles:l,target:c}=this.props,u=ri(c),d=lP(u),h=Nc(u),p=H9(u,o,s);return{...wS()?l.spotlightLegacy:l.spotlight,height:Math.round(((t=d==null?void 0:d.height)!=null?t:0)+o*2),left:Math.round(((e=d==null?void 0:d.left)!=null?e:0)-o),opacity:r?1:0,pointerEvents:i?"none":"auto",position:h?"fixed":"absolute",top:p,transition:"opacity 0.2s",width:Math.round(((n=d==null?void 0:d.width)!=null?n:0)+o*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:s,spotlightStyles:i}=this;if(r())return null;let o=n!=="center"&&t&&y.createElement(a$,{styles:i});if(cP()==="safari"){const{mixBlendMode:l,zIndex:c,...u}=s;o=y.createElement("div",{style:{...u}},o),delete s.backgroundColor}return y.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:s},o)}},c$=class extends y.Component{constructor(){super(...arguments),ye(this,"node",null)}componentDidMount(){const{id:t}=this.props;Zi()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),Lu||this.renderReact15())}componentDidUpdate(){Zi()&&(Lu||this.renderReact15())}componentWillUnmount(){!Zi()||!this.node||(Lu||Da.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Zi())return;const{children:t}=this.props;this.node&&Da.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!Zi()||!Lu)return null;const{children:t}=this.props;return this.node?Da.createPortal(t,this.node):null}render(){return Lu?this.renderReact16():null}},u$=class{constructor(t,e){if(ye(this,"element"),ye(this,"options"),ye(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),ye(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,s=n.nodeName.toLowerCase();return(r.test(s)&&!n.getAttribute("disabled")||s==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),ye(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),ye(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),ye(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:s}=n;if(!r.length)return;let i=document.activeElement?r.indexOf(document.activeElement):0;i===-1||!s&&i+1===r.length?i=0:s&&i===0?i=r.length-1:i+=s?-1:1,r[i].focus()}),ye(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,s=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&s.getPropertyValue("overflow")!=="visible"||s.getPropertyValue("display")==="none"}),ye(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),ye(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),ye(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),ye(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},d$=class extends y.Component{constructor(t){if(super(t),ye(this,"beacon",null),ye(this,"setBeaconRef",s=>{this.beacon=s}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{ge.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:s,onClickOrHover:i,size:o,step:l,styles:c}=this.props,u=fs(s.open),d={"aria-label":u,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:u};let h;if(t){const p=t;h=y.createElement(p,{continuous:e,index:n,isLastStep:r,size:o,step:l,...d})}else h=y.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...d},y.createElement("span",{style:c.beaconInner}),y.createElement("span",{style:c.beaconOuter}));return h}};function h$({styles:t,...e}){const{color:n,height:r,width:s,...i}=t;return ee.createElement("button",{style:i,type:"button",...e},ee.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof s=="number"?`${s}px`:s,xmlns:"http://www.w3.org/2000/svg"},ee.createElement("g",null,ee.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var f$=h$;function p$(t){const{backProps:e,closeProps:n,index:r,isLastStep:s,primaryProps:i,skipProps:o,step:l,tooltipProps:c}=t,{content:u,hideBackButton:d,hideCloseButton:h,hideFooter:p,showSkipButton:m,styles:x,title:w}=l,S={};return S.primary=y.createElement("button",{"data-test-id":"button-primary",style:x.buttonNext,type:"button",...i}),m&&!s&&(S.skip=y.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:x.buttonSkip,type:"button",...o})),!d&&r>0&&(S.back=y.createElement("button",{"data-test-id":"button-back",style:x.buttonBack,type:"button",...e})),S.close=!h&&y.createElement(f$,{"data-test-id":"button-close",styles:x.buttonClose,...n}),y.createElement("div",{key:"JoyrideTooltip","aria-label":fs(w??u),className:"react-joyride__tooltip",style:x.tooltip,...c},y.createElement("div",{style:x.tooltipContainer},w&&y.createElement("h1",{"aria-label":fs(w),style:x.tooltipTitle},w),y.createElement("div",{style:x.tooltipContent},u)),!p&&y.createElement("div",{style:x.tooltipFooter},y.createElement("div",{style:x.tooltipFooterSpacer},S.skip),S.back,S.primary),S.close)}var m$=p$,g$=class extends y.Component{constructor(){super(...arguments),ye(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),ye(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),ye(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),ye(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),ye(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:s,step:i}=this.props,{back:o,close:l,last:c,next:u,nextLabelWithProgress:d,skip:h}=i.locale,p=fs(o),m=fs(l),x=fs(c),w=fs(u),S=fs(h);let _=l,v=m;if(t){if(_=u,v=w,i.showProgress&&!n){const T=fs(d,{step:e+1,steps:s});_=Sv(d,e+1,s),v=T}n&&(_=c,v=x)}return{backProps:{"aria-label":p,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:p},closeProps:{"aria-label":m,children:l,"data-action":"close",onClick:this.handleClickClose,role:"button",title:m},primaryProps:{"aria-label":v,children:_,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:v},skipProps:{"aria-label":S,children:h,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:S},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:s,step:i}=this.props,{beaconComponent:o,tooltipComponent:l,...c}=i;let u;if(l){const d={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:s,step:c,setTooltipRef:r},h=l;u=y.createElement(h,{...d})}else u=y.createElement(m$,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:s,step:i});return u}},y$=class extends y.Component{constructor(){super(...arguments),ye(this,"scope",null),ye(this,"tooltip",null),ye(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Oe.TOOLTIP})}),ye(this,"setTooltipRef",t=>{this.tooltip=t}),ye(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:s,step:i,store:o}=this.props;e==="wrapper"?o.setPopper("beacon",t):o.setPopper("tooltip",t),o.getPopper("beacon")&&(o.getPopper("tooltip")||i.placement==="center")&&s===Oe.INIT&&o.update({action:r,lifecycle:Oe.READY}),(n=i.floaterProps)!=null&&n.getPopper&&i.floaterProps.getPopper(t,e)}),ye(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:s,step:i}=this.props;return y.createElement(g$,{continuous:e,helpers:n,index:r,isLastStep:r+1===s,setTooltipRef:this.setTooltipRef,size:s,step:i,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;qa({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:s,controlled:i,debug:o,helpers:l,index:c,lifecycle:u,shouldScroll:d,status:h,step:p,store:m}=this.props,{changed:x,changedFrom:w}=_m(t,this.props),S=l.info(),_=s&&n!==et.CLOSE&&(c>0||n===et.PREV),v=x("action")||x("index")||x("lifecycle")||x("status"),T=w("lifecycle",[Oe.TOOLTIP,Oe.INIT],Oe.INIT),k=x("action",[et.NEXT,et.PREV,et.SKIP,et.CLOSE]),P=i&&c===t.index;if(k&&(T||P)&&r({...S,index:t.index,lifecycle:Oe.COMPLETE,step:t.step,type:Br.STEP_AFTER}),p.placement==="center"&&h===Fe.RUNNING&&x("index")&&n!==et.START&&u===Oe.INIT&&m.update({lifecycle:Oe.READY}),v){const O=ri(p.target),N=!!O;N&&z9(O)?(w("status",Fe.READY,Fe.RUNNING)||w("lifecycle",Oe.INIT,Oe.READY))&&r({...S,step:p,type:Br.STEP_BEFORE}):(console.warn(N?"Target not visible":"Target not mounted",p),r({...S,type:Br.TARGET_NOT_FOUND,step:p}),i||m.update({index:c+(n===et.PREV?-1:1)}))}w("lifecycle",Oe.INIT,Oe.READY)&&m.update({lifecycle:vS(p)||_?Oe.TOOLTIP:Oe.BEACON}),x("index")&&qa({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:o}),x("lifecycle",Oe.BEACON)&&r({...S,step:p,type:Br.BEACON}),x("lifecycle",Oe.TOOLTIP)&&(r({...S,step:p,type:Br.TOOLTIP}),d&&this.tooltip&&(this.scope=new u$(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),w("lifecycle",[Oe.TOOLTIP,Oe.INIT],Oe.INIT)&&((e=this.scope)==null||e.removeScope(),m.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return vS(e)||t===Oe.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:s,size:i,step:o}=this.props,l=ri(o.target);return!hP(o)||!ge.domElement(l)?null:y.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},y.createElement(Qb,{...o.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:o.placement,target:o.target},y.createElement(d$,{beaconComponent:o.beaconComponent,continuous:t,index:n,isLastStep:n+1===i,locale:o.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:s,size:i,step:o,styles:o.styles})))}},pP=class extends y.Component{constructor(t){super(t),ye(this,"helpers"),ye(this,"store"),ye(this,"callback",o=>{const{callback:l}=this.props;ge.function(l)&&l(o)}),ye(this,"handleKeyboard",o=>{const{index:l,lifecycle:c}=this.state,{steps:u}=this.props,d=u[l];c===Oe.TOOLTIP&&o.code==="Escape"&&d&&!d.disableCloseOnEsc&&this.store.close("keyboard")}),ye(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:l}=this.props;kl(this.props,l[o]).disableOverlayClose||this.helpers.close("overlay")}),ye(this,"syncState",o=>{this.setState(o)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:s}=t;this.store=i$({...t,controlled:r&&ge.number(s)}),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;qa({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),i(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Zi())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:s}=this.store;_S(r,t)&&n&&s(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!Zi())return;const{action:n,controlled:r,index:s,status:i}=this.state,{debug:o,run:l,stepIndex:c,steps:u}=this.props,{stepIndex:d,steps:h}=t,{reset:p,setSteps:m,start:x,stop:w,update:S}=this.store,{changed:_}=_m(t,this.props),{changed:v,changedFrom:T}=_m(e,this.state),k=kl(this.props,u[s]),P=!Pn(h,u),O=ge.number(c)&&_("stepIndex"),N=ri(k.target);if(P&&(_S(u,o)?m(u):console.warn("Steps are not valid",u)),_("run")&&(l?x(c):w()),O){let R=ge.number(d)&&d<c?et.NEXT:et.PREV;n===et.STOP&&(R=et.START),[Fe.FINISHED,Fe.SKIPPED].includes(i)||S({action:n===et.CLOSE?et.CLOSE:R,index:c,lifecycle:Oe.INIT})}!r&&i===Fe.RUNNING&&s===0&&!N&&(this.store.update({index:s+1}),this.callback({...this.state,type:Br.TARGET_NOT_FOUND,step:k}));const E={...this.state,index:s,step:k};if(v("action",[et.NEXT,et.PREV,et.SKIP,et.CLOSE])&&v("status",Fe.PAUSED)){const R=kl(this.props,u[e.index]);this.callback({...E,index:e.index,lifecycle:Oe.COMPLETE,step:R,type:Br.STEP_AFTER})}if(v("status",[Fe.FINISHED,Fe.SKIPPED])){const R=kl(this.props,u[e.index]);r||this.callback({...E,index:e.index,lifecycle:Oe.COMPLETE,step:R,type:Br.STEP_AFTER}),this.callback({...E,type:Br.TOUR_END,step:R,index:e.index}),p()}else T("status",[Fe.IDLE,Fe.READY],Fe.RUNNING)?this.callback({...E,type:Br.TOUR_START}):(v("status")||v("action",et.RESET))&&this.callback({...E,type:Br.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:s,disableScrollParentFix:i=!1,scrollDuration:o,scrollOffset:l=20,scrollToFirstStep:c=!1,steps:u}=this.props,d=kl(this.props,u[e]),h=ri(d.target),p=Z9({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:c,step:d,target:h});if(r===Fe.RUNNING&&p){const m=Hg(h,i),x=oh(h,i);let w=Math.floor(W9(h,l,i))||0;qa({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:s});const S=this.store.getPopper("beacon"),_=this.store.getPopper("tooltip");if(n===Oe.BEACON&&S){const{offsets:v,placement:T}=S;!["bottom"].includes(T)&&!m&&(w=Math.floor(v.popper.top-l))}else if(n===Oe.TOOLTIP&&_){const{flipped:v,offsets:T,placement:k}=_;["top","right","left"].includes(k)&&!v&&!m?w=Math.floor(T.popper.top-l):w-=d.spotlightPadding}w=w>=0?w:0,r===Fe.RUNNING&&q9(w,{element:x,duration:o}).then(()=>{setTimeout(()=>{var v;(v=this.store.getPopper("tooltip"))==null||v.instance.update()},10)})}}render(){if(!Zi())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:s=!1,nonce:i,scrollToFirstStep:o=!1,steps:l}=this.props,c=n===Fe.RUNNING,u={};if(c&&l[t]){const d=kl(this.props,l[t]);u.step=y.createElement(y$,{...this.state,callback:this.callback,continuous:r,debug:s,helpers:this.helpers,nonce:i,shouldScroll:!d.disableScrolling&&(t!==0||o),step:d,store:this.store}),u.overlay=y.createElement(c$,{id:"react-joyride-portal"},y.createElement(l$,{...d,continuous:r,debug:s,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return y.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};ye(pP,"defaultProps",e$);var x$=pP;function NS(t,e){const n=()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.warn(`Error reading localStorage key "${t}":`,o),e}},[r,s]=y.useState(n),i=o=>{try{const l=o instanceof Function?o(r):o;s(l),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(l))}catch(l){console.warn(`Error setting localStorage key "${t}":`,l)}};return y.useEffect(()=>{s(n())},[]),[r,i]}const v$=y.createContext(void 0),w$=[{target:"body",content:"Welcome to CredExis! Let's take a quick tour of our main features.",placement:"center",disableBeacon:!0},{target:".dashboard-widget",content:"This is your dashboard where you can see all your important metrics at a glance.",placement:"bottom"},{target:".clients-section",content:"Manage your clients and their information here.",placement:"right"},{target:".tasks-section",content:"Keep track of your tasks and deadlines in this section.",placement:"left"},{target:".reports-section",content:"Generate and view detailed reports about your business.",placement:"top"}],b$=({children:t})=>{const[e,n]=y.useState(!1),[r,s]=NS("isFirstVisit",!0),[i,o]=NS("hasCompletedOnboarding",!1);y.useEffect(()=>{r&&!i&&n(!0)},[r,i]);const l=d=>{const{status:h}=d;(h===Fe.FINISHED||h===Fe.SKIPPED)&&(n(!1),s(!1),o(!0))},c=()=>{n(!0)},u=()=>{s(!1),o(!0)};return a.jsxs(v$.Provider,{value:{startTour:c,isFirstVisit:r,completeOnboarding:u},children:[t,a.jsx(x$,{steps:w$,run:e,continuous:!0,showProgress:!0,showSkipButton:!0,callback:l,styles:{options:{primaryColor:"#4F46E5",zIndex:1e3}}})]})};var _$=Object.defineProperty,E$=(t,e,n)=>e in t?_$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A0=(t,e,n)=>(E$(t,typeof e!="symbol"?e+"":e,n),n);let N$=class{constructor(){A0(this,"current",this.detect()),A0(this,"handoffState","pending"),A0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ai=new N$,xi=(t,e)=>{ai.isServer?y.useEffect(t,e):y.useLayoutEffect(t,e)};function Wg(t){let e=y.useRef(t);return xi(()=>{e.current=t},[t]),e}let _n=function(t){let e=Wg(t);return ee.useCallback((...n)=>e.current(...n),[e])};function qg(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Kg(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return qg(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Kg();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function S$(){let[t]=y.useState(Kg);return y.useEffect(()=>()=>t.dispose(),[t]),t}function T$(){let t=typeof document>"u";return"useSyncExternalStore"in hc?(e=>e.useSyncExternalStore)(hc)(()=>()=>{},()=>!1,()=>!t):!1}function Gg(){let t=T$(),[e,n]=y.useState(ai.isHandoffComplete);return e&&ai.isHandoffComplete===!1&&n(!1),y.useEffect(()=>{e!==!0&&n(!0)},[e]),y.useEffect(()=>ai.handoff(),[]),t?!1:e}var SS;let Zc=(SS=ee.useId)!=null?SS:function(){let t=Gg(),[e,n]=ee.useState(t?()=>ai.nextId():null);return xi(()=>{e===null&&n(ai.nextId())},[e]),e!=null?""+e:void 0};function Io(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Io),r}function mP(t){return ai.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Tv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ya=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ya||{}),gP=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(gP||{}),C$=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(C$||{});function j$(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Tv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var yP=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(yP||{});function k$(t,e=0){var n;return t===((n=mP(t))==null?void 0:n.body)?!1:Io(e,{0(){return t.matches(Tv)},1(){let r=t;for(;r!==null;){if(r.matches(Tv))return!0;r=r.parentElement}return!1}})}var I$=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(I$||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function La(t){t==null||t.focus({preventScroll:!0})}let A$=["textarea","input"].join(",");function P$(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,A$))!=null?n:!1}function R$(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Dp(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?R$(t):t:j$(t);s.length>0&&o.length>1&&(o=o.filter(m=>!s.includes(m))),r=r??i.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,p;do{if(d>=h||d+h<=0)return 0;let m=c+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}p=o[m],p==null||p.focus(u),d+=l}while(p!==i.activeElement);return e&6&&P$(p)&&p.select(),2}function xP(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function O$(){return/Android/gi.test(window.navigator.userAgent)}function D$(){return xP()||O$()}function tp(t,e,n){let r=Wg(e);y.useEffect(()=>{function s(i){r.current(i)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[t,n])}function vP(t,e,n){let r=Wg(e);y.useEffect(()=>{function s(i){r.current(i)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[t,n])}function L$(t,e,n=!0){let r=y.useRef(!1);y.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(o,l){if(!r.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of u){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(c)||o.composed&&o.composedPath().includes(h))return}return!k$(c,yP.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let i=y.useRef(null);tp("pointerdown",o=>{var l,c;r.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),tp("mousedown",o=>{var l,c;r.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),tp("click",o=>{D$()||i.current&&(s(o,()=>i.current),i.current=null)},!0),tp("touchend",o=>s(o,()=>o.target instanceof HTMLElement?o.target:null),!0),vP("blur",o=>s(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Wh(...t){return y.useMemo(()=>mP(...t),[...t])}let wP=Symbol();function M$(t,e=!0){return Object.assign(t,{[wP]:e})}function Ai(...t){let e=y.useRef(t);y.useEffect(()=>{e.current=t},[t]);let n=_n(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[wP]))?void 0:n}function Zb(t,e){let n=y.useRef([]),r=_n(t);y.useEffect(()=>{let s=[...n.current];for(let[i,o]of e.entries())if(n.current[i]!==o){let l=r(e,s);return n.current=e,l}},[r,...e])}function TS(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Cv=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Cv||{}),V$=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(V$||{});function Ds({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??F$;let c=bP(e,t);if(i)return np(c,n,r,o,l);let u=s??0;if(u&2){let{static:d=!1,...h}=c;if(d)return np(h,n,r,o,l)}if(u&1){let{unmount:d=!0,...h}=c;return Io(d?0:1,{0(){return null},1(){return np({...h,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return np(c,n,r,o,l)}function np(t,e={},n,r,s){let{as:i=n,children:o,refName:l="ref",...c}=P0(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let h={};if(e){let p=!1,m=[];for(let[x,w]of Object.entries(e))typeof w=="boolean"&&(p=!0),w===!0&&m.push(x);p&&(h["data-headlessui-state"]=m.join(" "))}if(i===y.Fragment&&Object.keys(CS(c)).length>0){if(!y.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let p=d.props,m=typeof(p==null?void 0:p.className)=="function"?(...w)=>TS(p==null?void 0:p.className(...w),c.className):TS(p==null?void 0:p.className,c.className),x=m?{className:m}:{};return y.cloneElement(d,Object.assign({},bP(d.props,CS(P0(c,["ref"]))),h,u,{ref:s(d.ref,u.ref)},x))}return y.createElement(i,Object.assign({},P0(c,["ref"]),i!==y.Fragment&&u,i!==y.Fragment&&h),d)}function F$(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function bP(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...i){let o=n[r];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return e}function Ls(t){var e;return Object.assign(y.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function CS(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function P0(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let $$="div";var Tm=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Tm||{});function U$(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ds({ourProps:i,theirProps:s,slot:{},defaultTag:$$,name:"Hidden"})}let jv=Ls(U$),_P=y.createContext(null);_P.displayName="OpenClosedContext";var Ju=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ju||{});function B$(){return y.useContext(_P)}function z$(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Xi=[];z$(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Xi[0]!==e.target&&(Xi.unshift(e.target),Xi=Xi.filter(n=>n!=null&&n.isConnected),Xi.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function H$(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&W$(n)?!1:r}function W$(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var EP=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(EP||{});function NP(t,e,n,r){let s=Wg(n);y.useEffect(()=>{t=t??window;function i(o){s.current(o)}return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)},[t,e,r])}function SP(){let t=y.useRef(!1);return xi(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function TP(t){let e=_n(t),n=y.useRef(!1);y.useEffect(()=>(n.current=!1,()=>{n.current=!0,qg(()=>{n.current&&e()})}),[e])}var ed=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ed||{});function q$(){let t=y.useRef(0);return vP("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function CP(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let K$="div";var jP=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(jP||{});function G$(t,e){let n=y.useRef(null),r=Ai(n,e),{initialFocus:s,containers:i,features:o=30,...l}=t;Gg()||(o=1);let c=Wh(n);Z$({ownerDocument:c},!!(o&16));let u=X$({ownerDocument:c,container:n,initialFocus:s},!!(o&2));J$({ownerDocument:c,container:n,containers:i,previousActiveElement:u},!!(o&8));let d=q$(),h=_n(w=>{let S=n.current;S&&(_=>_())(()=>{Io(d.current,{[ed.Forwards]:()=>{Dp(S,ya.First,{skipElements:[w.relatedTarget]})},[ed.Backwards]:()=>{Dp(S,ya.Last,{skipElements:[w.relatedTarget]})}})})}),p=S$(),m=y.useRef(!1),x={ref:r,onKeyDown(w){w.key=="Tab"&&(m.current=!0,p.requestAnimationFrame(()=>{m.current=!1}))},onBlur(w){let S=CP(i);n.current instanceof HTMLElement&&S.add(n.current);let _=w.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(kP(S,_)||(m.current?Dp(n.current,Io(d.current,{[ed.Forwards]:()=>ya.Next,[ed.Backwards]:()=>ya.Previous})|ya.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&La(w.target)))}};return ee.createElement(ee.Fragment,null,!!(o&4)&&ee.createElement(jv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Tm.Focusable}),Ds({ourProps:x,theirProps:l,defaultTag:K$,name:"FocusTrap"}),!!(o&4)&&ee.createElement(jv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Tm.Focusable}))}let Y$=Ls(G$),Vu=Object.assign(Y$,{features:jP});function Q$(t=!0){let e=y.useRef(Xi.slice());return Zb(([n],[r])=>{r===!0&&n===!1&&qg(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Xi.slice())},[t,Xi,e]),_n(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Z$({ownerDocument:t},e){let n=Q$(e);Zb(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&La(n())},[e]),TP(()=>{e&&La(n())})}function X$({ownerDocument:t,container:e,initialFocus:n},r){let s=y.useRef(null),i=SP();return Zb(()=>{if(!r)return;let o=e.current;o&&qg(()=>{if(!i.current)return;let l=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){s.current=l;return}}else if(o.contains(l)){s.current=l;return}n!=null&&n.current?La(n.current):Dp(o,ya.First)===gP.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=t==null?void 0:t.activeElement})},[r]),s}function J$({ownerDocument:t,container:e,containers:n,previousActiveElement:r},s){let i=SP();NP(t==null?void 0:t.defaultView,"focus",o=>{if(!s||!i.current)return;let l=CP(n);e.current instanceof HTMLElement&&l.add(e.current);let c=r.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?kP(l,u)?(r.current=u,La(u)):(o.preventDefault(),o.stopPropagation(),La(c)):La(r.current)},!0)}function kP(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let IP=y.createContext(!1);function eU(){return y.useContext(IP)}function kv(t){return ee.createElement(IP.Provider,{value:t.force},t.children)}function tU(t){let e=eU(),n=y.useContext(AP),r=Wh(t),[s,i]=y.useState(()=>{if(!e&&n!==null||ai.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return y.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),y.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),s}let nU=y.Fragment;function rU(t,e){let n=t,r=y.useRef(null),s=Ai(M$(d=>{r.current=d}),e),i=Wh(r),o=tU(r),[l]=y.useState(()=>{var d;return ai.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),c=y.useContext(Iv),u=Gg();return xi(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),xi(()=>{if(l&&c)return c.register(l)},[c,l]),TP(()=>{var d;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!l?null:Da.createPortal(Ds({ourProps:{ref:s},theirProps:n,defaultTag:nU,name:"Portal"}),l):null}let sU=y.Fragment,AP=y.createContext(null);function iU(t,e){let{target:n,...r}=t,s={ref:Ai(e)};return ee.createElement(AP.Provider,{value:n},Ds({ourProps:s,theirProps:r,defaultTag:sU,name:"Popover.Group"}))}let Iv=y.createContext(null);function oU(){let t=y.useContext(Iv),e=y.useRef([]),n=_n(i=>(e.current.push(i),t&&t.register(i),()=>r(i))),r=_n(i=>{let o=e.current.indexOf(i);o!==-1&&e.current.splice(o,1),t&&t.unregister(i)}),s=y.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,y.useMemo(()=>function({children:i}){return ee.createElement(Iv.Provider,{value:s},i)},[s])]}let aU=Ls(rU),lU=Ls(iU),Av=Object.assign(aU,{Group:lU});function cU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const uU=typeof Object.is=="function"?Object.is:cU,{useState:dU,useEffect:hU,useLayoutEffect:fU,useDebugValue:pU}=hc;function mU(t,e,n){const r=e(),[{inst:s},i]=dU({inst:{value:r,getSnapshot:e}});return fU(()=>{s.value=r,s.getSnapshot=e,R0(s)&&i({inst:s})},[t,r,e]),hU(()=>(R0(s)&&i({inst:s}),t(()=>{R0(s)&&i({inst:s})})),[t]),pU(r),r}function R0(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!uU(n,r)}catch{return!0}}function gU(t,e,n){return e()}const yU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xU=!yU,vU=xU?gU:mU,wU="useSyncExternalStore"in hc?(t=>t.useSyncExternalStore)(hc):vU;function bU(t){return wU(t.subscribe,t.getSnapshot,t.getSnapshot)}function _U(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=e[s].call(n,...i);o&&(n=o,r.forEach(l=>l()))}}}function EU(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,s=r.clientWidth-r.offsetWidth,i=t-s;n.style(r,"paddingRight",`${i}px`)}}}function NU(){return xP()?{before({doc:t,d:e,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Kg();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function SU(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function TU(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ca=_U(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Kg(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:TU(n)},s=[NU(),EU(),SU()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ca.subscribe(()=>{let t=Ca.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Ca.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ca.dispatch("TEARDOWN",n)}});function CU(t,e,n){let r=bU(Ca),s=t?r.get(t):void 0,i=s?s.count>0:!1;return xi(()=>{if(!(!t||!e))return Ca.dispatch("PUSH",t,n),()=>Ca.dispatch("POP",t,n)},[e,t]),i}let O0=new Map,Fu=new Map;function jS(t,e=!0){xi(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function s(){var o;if(!r)return;let l=(o=Fu.get(r))!=null?o:1;if(l===1?Fu.delete(r):Fu.set(r,l-1),l!==1)return;let c=O0.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,O0.delete(r))}let i=(n=Fu.get(r))!=null?n:0;return Fu.set(r,i+1),i!==0||(O0.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[t,e])}function jU({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let s=y.useRef((r=n==null?void 0:n.current)!=null?r:null),i=Wh(s),o=_n(()=>{var l,c,u;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"current"in h&&h.current instanceof HTMLElement&&d.push(h.current));if(e!=null&&e.current)for(let h of e.current)d.push(h);for(let h of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(s.current)||h.contains((u=(c=s.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(p=>h.contains(p))||d.push(h));return d});return{resolveContainers:o,contains:_n(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:s,MainTreeNode:y.useMemo(()=>function(){return n!=null?null:ee.createElement(jv,{features:Tm.Hidden,ref:s})},[s,n])}}let Xb=y.createContext(()=>{});Xb.displayName="StackContext";var Pv=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Pv||{});function kU(){return y.useContext(Xb)}function IU({children:t,onUpdate:e,type:n,element:r,enabled:s}){let i=kU(),o=_n((...l)=>{e==null||e(...l),i(...l)});return xi(()=>{let l=s===void 0||s===!0;return l&&o(0,n,r),()=>{l&&o(1,n,r)}},[o,n,r,s]),ee.createElement(Xb.Provider,{value:o},t)}let PP=y.createContext(null);function RP(){let t=y.useContext(PP);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,RP),e}return t}function AU(){let[t,e]=y.useState([]);return[t.length>0?t.join(" "):void 0,y.useMemo(()=>function(n){let r=_n(i=>(e(o=>[...o,i]),()=>e(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return ee.createElement(PP.Provider,{value:s},n.children)},[e])]}let PU="p";function RU(t,e){let n=Zc(),{id:r=`headlessui-description-${n}`,...s}=t,i=RP(),o=Ai(e);xi(()=>i.register(r),[r,i.register]);let l={ref:o,...i.props,id:r};return Ds({ourProps:l,theirProps:s,slot:i.slot||{},defaultTag:PU,name:i.name||"Description"})}let OU=Ls(RU),DU=Object.assign(OU,{});var LU=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(LU||{}),MU=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(MU||{});let VU={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Cm=y.createContext(null);Cm.displayName="DialogContext";function qh(t){let e=y.useContext(Cm);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,qh),n}return e}function FU(t,e,n=()=>[document.body]){CU(t,e,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function $U(t,e){return Io(e.type,VU,t,e)}let UU="div",BU=Cv.RenderStrategy|Cv.Static;function zU(t,e){let n=Zc(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=t,[d,h]=y.useState(0),p=y.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(p.current||(p.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=B$();s===void 0&&m!==null&&(s=(m&Ju.Open)===Ju.Open);let x=y.useRef(null),w=Ai(x,e),S=Wh(x),_=t.hasOwnProperty("open")||m!==null,v=t.hasOwnProperty("onClose");if(!_&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!_)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let T=s?0:1,[k,P]=y.useReducer($U,{titleId:null,descriptionId:null,panelRef:y.createRef()}),O=_n(()=>i(!1)),N=_n(Je=>P({type:0,id:Je})),E=Gg()?c?!1:T===0:!1,j=d>1,R=y.useContext(Cm)!==null,[D,L]=oU(),I={get current(){var Je;return(Je=k.panelRef.current)!=null?Je:x.current}},{resolveContainers:te,mainTreeNodeRef:_e,MainTreeNode:Ie}=jU({portals:D,defaultContainers:[I]}),Ce=j?"parent":"leaf",K=m!==null?(m&Ju.Closing)===Ju.Closing:!1,oe=R||K?!1:E,pe=y.useCallback(()=>{var Je,Ct;return(Ct=Array.from((Je=S==null?void 0:S.querySelectorAll("body > *"))!=null?Je:[]).find(jt=>jt.id==="headlessui-portal-root"?!1:jt.contains(_e.current)&&jt instanceof HTMLElement))!=null?Ct:null},[_e]);jS(pe,oe);let Me=j?!0:E,Ve=y.useCallback(()=>{var Je,Ct;return(Ct=Array.from((Je=S==null?void 0:S.querySelectorAll("[data-headlessui-portal]"))!=null?Je:[]).find(jt=>jt.contains(_e.current)&&jt instanceof HTMLElement))!=null?Ct:null},[_e]);jS(Ve,Me),L$(te,Je=>{Je.preventDefault(),O()},!(!E||j));let $=!(j||T!==0);NP(S==null?void 0:S.defaultView,"keydown",Je=>{$&&(Je.defaultPrevented||Je.key===EP.Escape&&(Je.preventDefault(),Je.stopPropagation(),O()))}),FU(S,!(K||T!==0||R),te),y.useEffect(()=>{if(T!==0||!x.current)return;let Je=new ResizeObserver(Ct=>{for(let jt of Ct){let ln=jt.target.getBoundingClientRect();ln.x===0&&ln.y===0&&ln.width===0&&ln.height===0&&O()}});return Je.observe(x.current),()=>Je.disconnect()},[T,x,O]);let[We,ut]=AU(),Ln=y.useMemo(()=>[{dialogState:T,close:O,setTitleId:N},k],[T,k,O,N]),Zn=y.useMemo(()=>({open:T===0}),[T]),Mn={ref:w,id:r,role:l,"aria-modal":T===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":We};return ee.createElement(IU,{type:"Dialog",enabled:T===0,element:x,onUpdate:_n((Je,Ct)=>{Ct==="Dialog"&&Io(Je,{[Pv.Add]:()=>h(jt=>jt+1),[Pv.Remove]:()=>h(jt=>jt-1)})})},ee.createElement(kv,{force:!0},ee.createElement(Av,null,ee.createElement(Cm.Provider,{value:Ln},ee.createElement(Av.Group,{target:x},ee.createElement(kv,{force:!1},ee.createElement(ut,{slot:Zn,name:"Dialog.Description"},ee.createElement(Vu,{initialFocus:o,containers:te,features:E?Io(Ce,{parent:Vu.features.RestoreFocus,leaf:Vu.features.All&~Vu.features.FocusLock}):Vu.features.None},ee.createElement(L,null,Ds({ourProps:Mn,theirProps:u,slot:Zn,defaultTag:UU,features:BU,visible:T===0,name:"Dialog"}))))))))),ee.createElement(Ie,null))}let HU="div";function WU(t,e){let n=Zc(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=t,[{dialogState:i,close:o}]=qh("Dialog.Overlay"),l=Ai(e),c=_n(d=>{if(d.target===d.currentTarget){if(H$(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=y.useMemo(()=>({open:i===0}),[i]);return Ds({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:s,slot:u,defaultTag:HU,name:"Dialog.Overlay"})}let qU="div";function KU(t,e){let n=Zc(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=t,[{dialogState:i},o]=qh("Dialog.Backdrop"),l=Ai(e);y.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=y.useMemo(()=>({open:i===0}),[i]);return ee.createElement(kv,{force:!0},ee.createElement(Av,null,Ds({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:s,slot:c,defaultTag:qU,name:"Dialog.Backdrop"})))}let GU="div";function YU(t,e){let n=Zc(),{id:r=`headlessui-dialog-panel-${n}`,...s}=t,[{dialogState:i},o]=qh("Dialog.Panel"),l=Ai(e,o.panelRef),c=y.useMemo(()=>({open:i===0}),[i]),u=_n(d=>{d.stopPropagation()});return Ds({ourProps:{ref:l,id:r,onClick:u},theirProps:s,slot:c,defaultTag:GU,name:"Dialog.Panel"})}let QU="h2";function ZU(t,e){let n=Zc(),{id:r=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:i,setTitleId:o}]=qh("Dialog.Title"),l=Ai(e);y.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=y.useMemo(()=>({open:i===0}),[i]);return Ds({ourProps:{ref:l,id:r},theirProps:s,slot:c,defaultTag:QU,name:"Dialog.Title"})}let XU=Ls(zU),JU=Ls(KU),e7=Ls(YU),t7=Ls(WU),n7=Ls(ZU),li=Object.assign(XU,{Backdrop:JU,Panel:e7,Overlay:t7,Title:n7,Description:DU});function r7({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const s7=y.forwardRef(r7);function i7({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const o7=y.forwardRef(i7);function a7({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Jb=y.forwardRef(a7),l7=({isOpen:t,onClose:e})=>{const n=[{title:"Getting Started",items:["Complete your profile setup in Settings","Configure your notification preferences","Customize your dashboard layout","Set up your payment processing"]},{title:"Client Management",items:["Add your first client (⌘N)","Upload client documents (⌘U)","Create a new dispute case (⌘D)","Record initial payment (⌘P)"]},{title:"Core Features",items:["Use automated dispute workflows","Generate and send dispute letters","Track case progress and updates","Manage client communications"]},{title:"Task Management",items:["Create and assign tasks","Set up recurring tasks","Use task templates","Monitor task completion"]},{title:"Reports & Analytics",items:["View business performance metrics","Track client success rates","Monitor payment history","Generate custom reports"]},{title:"Tips & Tricks",items:["Use keyboard shortcuts for quick actions","Enable desktop notifications","Customize your dashboard widgets","Set up automated workflows"]}];return a.jsxs(li,{open:t,onClose:e,className:"relative z-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs(li.Panel,{className:"mx-auto w-full max-w-2xl max-h-[90vh] rounded-xl bg-white shadow-lg flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx(li.Title,{className:"text-2xl font-semibold text-gray-900",children:"Quick Start Guide"}),a.jsx("button",{onClick:e,className:"rounded-full p-1 hover:bg-gray-100",children:a.jsx(Jb,{className:"h-6 w-6 text-gray-500"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"space-y-6",children:n.map((r,s)=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:r.title}),a.jsx("ul",{className:"space-y-2",children:r.items.map((i,o)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-indigo-100 flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 text-sm font-medium",children:o+1})}),a.jsx("span",{className:"ml-3 text-gray-600",children:i})]},o))})]},s))})}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsx("button",{onClick:e,className:"w-full rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Got it, thanks!"})})]})})]})},c7=({isOpen:t,onClose:e})=>{const[n,r]=y.useState(new Set),s=l=>{const c=new Set(n);c.has(l)?c.delete(l):c.add(l),r(c)},i=[{title:"Getting Started",content:"Learn the basics of using CredExis for credit dispute management",subsections:[{title:"Account Setup",content:"Set up your account, configure preferences, and customize your dashboard. Access settings through the profile menu in the top right corner."},{title:"Navigation",content:"Use the sidebar for main navigation and the top bar for quick actions. The dashboard provides an overview of your business metrics."}]},{title:"Client Management",content:"Everything about managing your clients and their cases",subsections:[{title:"Adding Clients",content:"Add new clients through the Clients section. You can import client data, add individual clients, or use the quick action button (⌘N) for faster access."},{title:"Client Profiles",content:"Manage client information, track case progress, and maintain communication history. Access client documents and payment records in one place."}]},{title:"Dispute Management",content:"Handle credit disputes efficiently with our tools",subsections:[{title:"Creating Disputes",content:"Start new disputes using the quick action button (⌘D) or through the Disputes section. Use templates for faster processing."},{title:"Document Management",content:"Upload and manage client documents (⌘U). Generate and send dispute letters automatically. Track document status and responses."}]},{title:"Tasks & Workflow",content:"Manage your daily tasks and workflow efficiently",subsections:[{title:"Task Management",content:"Create, assign, and track tasks. Set priorities, due dates, and reminders. Use filters to organize tasks by status, priority, or assignee."},{title:"Automation",content:"Set up automated workflows for recurring tasks. Use templates for common processes. Configure notifications for important updates."}]},{title:"Payments & Billing",content:"Handle payments and manage billing",subsections:[{title:"Recording Payments",content:"Record client payments (⌘P) and track payment history. Generate invoices and payment receipts automatically."},{title:"Billing Management",content:"Manage subscription plans, view billing history, and handle payment disputes. Access detailed financial reports."}]},{title:"Reports & Analytics",content:"Track your business performance",subsections:[{title:"Business Analytics",content:"View key metrics, track success rates, and monitor business growth. Access customizable reports and dashboards."},{title:"Client Analytics",content:"Track client progress, success rates, and case statistics. Generate detailed reports for individual clients."}]},{title:"Settings & Customization",content:"Customize your CredExis experience",subsections:[{title:"Profile Settings",content:"Update your profile, manage notifications, and customize your dashboard layout."},{title:"System Settings",content:"Configure system preferences, manage user roles, and set up integrations with other tools."}]}],o=(l,c=0)=>{var h;const u=n.has(l.title),d=u?s7:o7;return a.jsxs("div",{className:"mb-2",children:[a.jsxs("button",{onClick:()=>s(l.title),className:"flex items-center w-full text-left py-2 hover:bg-gray-50 rounded-lg px-2",children:[a.jsx(d,{className:"h-5 w-5 text-gray-500 mr-2"}),a.jsx("span",{className:"font-medium text-gray-900",children:l.title})]}),u&&a.jsxs("div",{className:"pl-7 mt-1",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:l.content}),(h=l.subsections)==null?void 0:h.map(p=>o(p,c+1))]})]},l.title)};return a.jsxs(li,{open:t,onClose:e,className:"relative z-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs(li.Panel,{className:"mx-auto w-full max-w-4xl max-h-[90vh] rounded-xl bg-white shadow-lg flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx(li.Title,{className:"text-2xl font-semibold text-gray-900",children:"Help Documentation"}),a.jsx("button",{onClick:e,className:"rounded-full p-1 hover:bg-gray-100",children:a.jsx(Jb,{className:"h-6 w-6 text-gray-500"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"space-y-4",children:i.map(l=>o(l))})}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("p",{className:"font-medium mb-2",children:"Need more help?"}),a.jsxs("p",{children:["Contact our support team at ",a.jsx("a",{href:"mailto:support@credexis.com",className:"text-indigo-600 hover:text-indigo-500",children:"support@credexis.com"})]})]})})]})})]})},u7=({isOpen:t,onClose:e,onComplete:n})=>{const[r,s]=y.useState(0),i=[{title:"Welcome to CredExis!",description:"We're excited to have you on board. Let's take a quick tour of what CredExis can do for you."},{title:"Streamline Your Workflow",description:"Manage clients, track tasks, and handle payments all in one place. Our intuitive interface makes it easy to stay organized."},{title:"Powerful Features",description:"From client management to automated reporting, CredExis provides all the tools you need to grow your business."},{title:"Ready to Get Started?",description:"You're all set! Start exploring CredExis and discover how it can help you manage your business more effectively."}],o=()=>{r<i.length-1?s(r+1):n()},l=()=>{r>0&&s(r-1)},c=(r+1)/i.length*100;return a.jsxs(li,{open:t,onClose:e,className:"relative z-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:a.jsxs(li.Panel,{className:"mx-auto max-w-2xl w-full rounded-xl bg-white p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx(li.Title,{className:"text-2xl font-semibold text-gray-900",children:i[r].title}),a.jsx("button",{onClick:e,className:"rounded-full p-1 hover:bg-gray-100",children:a.jsx(Jb,{className:"h-6 w-6 text-gray-500"})})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"h-2 bg-gray-200 rounded-full",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all duration-300",style:{width:`${c}%`}})})}),a.jsx("div",{className:"mb-8",children:a.jsx("p",{className:"text-gray-600 text-lg",children:i[r].description})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:l,disabled:r===0,className:`px-4 py-2 rounded-md ${r===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Previous"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",r+1," of ",i.length]}),a.jsx("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:r===i.length-1?"Get Started":"Next"})]})]})})]})},e1=y.createContext({});function t1(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yg=y.createContext(null),n1=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class d7 extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h7({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(n1);return y.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(e||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),a.jsx(d7,{isPresent:e,childRef:r,sizeRef:s,children:y.cloneElement(t,{ref:r})})}const f7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=t1(p7),c=y.useId(),u=y.useCallback(h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},[l,r]),d=y.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return y.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),y.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(h7,{isPresent:n,children:t})),a.jsx(Yg.Provider,{value:d,children:t})};function p7(){return new Map}function OP(t=!0){const e=y.useContext(Yg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{t&&s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const rp=t=>t.key||"";function kS(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const r1=typeof window<"u",DP=r1?y.useLayoutEffect:y.useEffect,wn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=OP(o),u=y.useMemo(()=>kS(t),[t]),d=o&&!l?[]:u.map(rp),h=y.useRef(!0),p=y.useRef(u),m=t1(()=>new Map),[x,w]=y.useState(u),[S,_]=y.useState(u);DP(()=>{h.current=!1,p.current=u;for(let k=0;k<S.length;k++){const P=rp(S[k]);d.includes(P)?m.delete(P):m.get(P)!==!0&&m.set(P,!1)}},[S,d.length,d.join("-")]);const v=[];if(u!==x){let k=[...u];for(let P=0;P<S.length;P++){const O=S[P],N=rp(O);d.includes(N)||(k.splice(P,0,O),v.push(O))}i==="wait"&&v.length&&(k=v),_(kS(k)),w(u);return}const{forceRender:T}=y.useContext(e1);return a.jsx(a.Fragment,{children:S.map(k=>{const P=rp(k),O=o&&!l?!1:u===S||d.includes(P),N=()=>{if(m.has(P))m.set(P,!0);else return;let E=!0;m.forEach(j=>{j||(E=!1)}),E&&(T==null||T(),_(p.current),o&&(c==null||c()),r&&r())};return a.jsx(f7,{isPresent:O,initial:!h.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:O?void 0:N,children:k},P)})})},ar=t=>t;let LP=ar;function s1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ci=t=>t*1e3,ui=t=>t/1e3,m7={useManualTiming:!1};function g7(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&r?e:n;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const sp=["read","resolveKeyframes","update","preRender","render","postRender"],y7=40;function MP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=sp.reduce((_,v)=>(_[v]=g7(i),_),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:p}=o,m=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,y7),1),s.timestamp=_,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},x=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:sp.reduce((_,v)=>{const T=o[v];return _[v]=(k,P=!1,O=!1)=>(n||x(),T.schedule(k,P,O)),_},{}),cancel:_=>{for(let v=0;v<sp.length;v++)o[sp[v]].cancel(_)},state:s,steps:o}}const{schedule:mt,cancel:Ao,state:en,steps:D0}=MP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0),VP=y.createContext({strict:!1}),IS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tc={};for(const t in IS)Tc[t]={isEnabled:e=>IS[t].some(n=>!!e[n])};function x7(t){for(const e in t)Tc[e]={...Tc[e],...t[e]}}const v7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||v7.has(t)}let FP=t=>!jm(t);function w7(t){t&&(FP=e=>e.startsWith("on")?!jm(e):t(e))}try{w7(require("@emotion/is-prop-valid").default)}catch{}function b7(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(FP(s)||n===!0&&jm(s)||!e&&!jm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function _7(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Qg=y.createContext({});function ah(t){return typeof t=="string"||Array.isArray(t)}function Zg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const i1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o1=["initial",...i1];function Xg(t){return Zg(t.animate)||o1.some(e=>ah(t[e]))}function $P(t){return!!(Xg(t)||t.variants)}function E7(t,e){if(Xg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ah(n)?n:void 0,animate:ah(r)?r:void 0}}return t.inherit!==!1?e:{}}function N7(t){const{initial:e,animate:n}=E7(t,y.useContext(Qg));return y.useMemo(()=>({initial:e,animate:n}),[AS(e),AS(n)])}function AS(t){return Array.isArray(t)?t.join(" "):t}const S7=Symbol.for("motionComponentSymbol");function Ql(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function T7(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ql(n)&&(n.current=r))},[e])}const a1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C7="framerAppearId",UP="data-"+a1(C7),{schedule:l1}=MP(queueMicrotask,!1),BP=y.createContext({});function j7(t,e,n,r,s){var i,o;const{visualElement:l}=y.useContext(Qg),c=y.useContext(VP),u=y.useContext(Yg),d=y.useContext(n1).reducedMotion,h=y.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=y.useContext(BP);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&k7(h.current,n,s,m);const x=y.useRef(!1);y.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const w=n[UP],S=y.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return DP(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),l1.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),y.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,w)}),S.current=!1))}),p}function k7(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zP(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Ql(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function zP(t){if(t)return t.options.allowProjection!==!1?t.projection:zP(t.parent)}function I7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&x7(t);function l(u,d){let h;const p={...y.useContext(n1),...u,layoutId:A7(u)},{isStatic:m}=p,x=N7(u),w=r(u,m);if(!m&&r1){P7();const S=R7(p);h=S.MeasureLayout,x.visualElement=j7(s,w,p,e,S.ProjectionNode)}return a.jsxs(Qg.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...p}):null,n(s,u,T7(w,x.visualElement,d),w,m,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=y.forwardRef(l);return c[S7]=s,c}function A7({layoutId:t}){const e=y.useContext(e1).id;return e&&t!==void 0?e+"-"+t:t}function P7(t,e){y.useContext(VP).strict}function R7(t){const{drag:e,layout:n}=Tc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const O7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c1(t){return typeof t!="string"||t.includes("-")?!1:!!(O7.indexOf(t)>-1||/[A-Z]/u.test(t))}function PS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function u1(t,e,n,r){if(typeof e=="function"){const[s,i]=PS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=PS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Rv=t=>Array.isArray(t),D7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),L7=t=>Rv(t)?t[t.length-1]||0:t,bn=t=>!!(t&&t.getVelocity);function Lp(t){const e=bn(t)?t.get():t;return D7(e)?e.toValue():e}function M7({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:V7(r,s,i,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const HP=t=>(e,n)=>{const r=y.useContext(Qg),s=y.useContext(Yg),i=()=>M7(t,e,r,s);return n?i():t1(i)};function V7(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Lp(i[p]);let{initial:o,animate:l}=t;const c=Xg(t),u=$P(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Zg(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const x=u1(t,p[m]);if(x){const{transitionEnd:w,transition:S,..._}=x;for(const v in _){let T=_[v];if(Array.isArray(T)){const k=d?T.length-1:0;T=T[k]}T!==null&&(s[v]=T)}for(const v in w)s[v]=w[v]}}}return s}const Xc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(Xc),WP=t=>e=>typeof e=="string"&&e.startsWith(t),qP=WP("--"),F7=WP("var(--"),d1=t=>F7(t)?$7.test(t.split("/*")[0].trim()):!1,$7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vi=(t,e,n)=>n>e?e:n<t?t:n,Jc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lh={...Jc,transform:t=>vi(0,1,t)},ip={...Jc,default:1},Kh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wi=Kh("deg"),Ns=Kh("%"),Ee=Kh("px"),U7=Kh("vh"),B7=Kh("vw"),RS={...Ns,parse:t=>Ns.parse(t)/100,transform:t=>Ns.transform(t*100)},z7={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},H7={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:ip,scaleX:ip,scaleY:ip,scaleZ:ip,skew:Wi,skewX:Wi,skewY:Wi,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:lh,originX:RS,originY:RS,originZ:Ee},OS={...Jc,transform:Math.round},h1={...z7,...H7,zIndex:OS,size:Ee,fillOpacity:lh,strokeOpacity:lh,numOctaves:OS},W7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q7=Xc.length;function K7(t,e,n){let r="",s=!0;for(let i=0;i<q7;i++){const o=Xc[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=KP(l,h1[o]);if(!c){s=!1;const d=W7[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function f1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(al.has(c)){o=!0;continue}else if(qP(c)){s[c]=u;continue}else{const d=KP(u,h1[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=K7(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const G7={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y7={offset:"strokeDashoffset",array:"strokeDasharray"};function Q7(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?G7:Y7;t[i.offset]=Ee.transform(-r);const o=Ee.transform(e),l=Ee.transform(n);t[i.array]=`${o} ${l}`}function DS(t,e,n){return typeof t=="string"?t:Ee.transform(e+n*t)}function Z7(t,e,n){const r=DS(e,t.x,t.width),s=DS(n,t.y,t.height);return`${r} ${s}`}function p1(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(f1(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:x}=t;p.transform&&(x&&(m.transform=p.transform),delete p.transform),x&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=Z7(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Q7(p,o,l,c,!1)}const m1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GP=()=>({...m1(),attrs:{}}),g1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const QP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZP(t,e,n,r){YP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(QP.has(s)?s:a1(s),e.attrs[s])}const km={};function X7(t){Object.assign(km,t)}function XP(t,{layout:e,layoutId:n}){return al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!km[t]||t==="opacity")}function y1(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(bn(s[o])||e.style&&bn(e.style[o])||XP(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function JP(t,e,n){const r=y1(t,e,n);for(const s in t)if(bn(t[s])||bn(e[s])){const i=Xc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function J7(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const LS=["x","y","width","height","cx","cy","r"],e8={useVisualState:HP({scrapeMotionValuesFromProps:JP,createRenderState:GP,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(al.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<LS.length;l++){const c=LS[l];t[c]!==e[c]&&(o=!0)}o&&mt.read(()=>{J7(n,r),mt.render(()=>{p1(r,s,g1(n.tagName),t.transformTemplate),ZP(n,r)})})}})},t8={useVisualState:HP({scrapeMotionValuesFromProps:y1,createRenderState:m1})};function eR(t,e,n){for(const r in e)!bn(e[r])&&!XP(r,n)&&(t[r]=e[r])}function n8({transformTemplate:t},e){return y.useMemo(()=>{const n=m1();return f1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function r8(t,e){const n=t.style||{},r={};return eR(r,n,t),Object.assign(r,n8(t,e)),r}function s8(t,e){const n={},r=r8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function i8(t,e,n,r){const s=y.useMemo(()=>{const i=GP();return p1(i,e,g1(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};eR(i,t.style,t),s.style={...i,...s.style}}return s}function o8(t=!1){return(n,r,s,{latestValues:i},o)=>{const c=(c1(n)?i8:s8)(r,i,o,n),u=b7(r,typeof n=="string",t),d=n!==y.Fragment?{...u,...c,ref:s}:{},{children:h}=r,p=y.useMemo(()=>bn(h)?h.get():h,[h]);return y.createElement(n,{...d,children:p})}}function a8(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...c1(r)?e8:t8,preloadedFeatures:t,useRender:o8(s),createVisualElement:e,Component:r};return I7(o)}}function tR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jg(t,e,n){const r=t.getProps();return u1(r,e,n!==void 0?n:r.custom,t)}const l8=s1(()=>window.ScrollTimeline!==void 0);class c8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(l8()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class u8 extends c8{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function x1(t,e){return t?t[e]||t.default||t:void 0}const Ov=2e4;function nR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ov;)e+=n,r=t.next(e);return e>=Ov?1/0:e}function v1(t){return typeof t=="function"}function MS(t,e){t.timeline=e,t.onfinish=null}const w1=t=>Array.isArray(t)&&typeof t[0]=="number",d8={linearEasing:void 0};function h8(t,e){const n=s1(t);return()=>{var r;return(r=d8[e])!==null&&r!==void 0?r:n()}}const Im=h8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Sc(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function sR(t){return!!(typeof t=="function"&&Im()||!t||typeof t=="string"&&(t in Dv||Im())||w1(t)||Array.isArray(t)&&t.every(sR))}const td=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Dv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:td([0,.65,.55,1]),circOut:td([.55,0,1,.45]),backIn:td([.31,.01,.66,-.59]),backOut:td([.33,1.53,.69,.99])};function iR(t,e){if(t)return typeof t=="function"&&Im()?rR(t,e):w1(t)?td(t):Array.isArray(t)?t.map(n=>iR(n,e)||Dv.easeOut):Dv[t]}const Mr={x:!1,y:!1};function oR(){return Mr.x||Mr.y}function f8(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function aR(t,e){const n=f8(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function VS(t){return e=>{e.pointerType==="touch"||oR()||t(e)}}function p8(t,e,n={}){const[r,s,i]=aR(t,n),o=VS(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=VS(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const lR=(t,e)=>e?t===e?!0:lR(t,e.parentElement):!1,b1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g8(t){return m8.has(t.tagName)||t.tabIndex!==-1}const nd=new WeakSet;function FS(t){return e=>{e.key==="Enter"&&t(e)}}function L0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=FS(()=>{if(nd.has(n))return;L0(n,"down");const s=FS(()=>{L0(n,"up")}),i=()=>L0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $S(t){return b1(t)&&!oR()}function x8(t,e,n={}){const[r,s,i]=aR(t,n),o=l=>{const c=l.currentTarget;if(!$S(l)||nd.has(c))return;nd.add(c);const u=e(l),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!$S(m)||!nd.has(c))&&(nd.delete(c),typeof u=="function"&&u(m,{success:x}))},h=m=>{d(m,n.useGlobalTarget||lR(c,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{!g8(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>y8(u,s),s)}),i}function v8(t){return t==="x"||t==="y"?Mr[t]?null:(Mr[t]=!0,()=>{Mr[t]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}const cR=new Set(["width","height","top","left","right","bottom",...Xc]);let Mp;function w8(){Mp=void 0}const Ss={now:()=>(Mp===void 0&&Ss.set(en.isProcessing||m7.useManualTiming?en.timestamp:performance.now()),Mp),set:t=>{Mp=t,queueMicrotask(w8)}};function _1(t,e){t.indexOf(e)===-1&&t.push(e)}function E1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class N1{constructor(){this.subscriptions=[]}add(e){return _1(this.subscriptions,e),()=>E1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function uR(t,e){return e?t*(1e3/e):0}const US=30,b8=t=>!isNaN(parseFloat(t));class _8{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ss.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ss.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=b8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new N1);const r=this.events[e].add(n);return e==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ss.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>US)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,US);return uR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ch(t,e){return new _8(t,e)}function E8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ch(n))}function N8(t,e){const n=Jg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=L7(i[o]);E8(t,o,l)}}function S8(t){return!!(bn(t)&&t.add)}function Lv(t,e){const n=t.getValue("willChange");if(S8(n))return n.add(e)}function dR(t){return t.props[UP]}const hR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,T8=1e-7,C8=12;function j8(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=hR(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>T8&&++l<C8);return o}function Gh(t,e,n,r){if(t===e&&n===r)return ar;const s=i=>j8(i,0,1,t,n);return i=>i===0||i===1?i:hR(s(i),e,r)}const fR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pR=t=>e=>1-t(1-e),mR=Gh(.33,1.53,.69,.99),S1=pR(mR),gR=fR(S1),yR=t=>(t*=2)<1?.5*S1(t):.5*(2-Math.pow(2,-10*(t-1))),T1=t=>1-Math.sin(Math.acos(t)),xR=pR(T1),vR=fR(T1),wR=t=>/^0[^.\s]+$/u.test(t);function k8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wR(t):!0}const bd=t=>Math.round(t*1e5)/1e5,C1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function I8(t){return t==null}const A8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j1=(t,e)=>n=>!!(typeof n=="string"&&A8.test(n)&&n.startsWith(t)||e&&!I8(n)&&Object.prototype.hasOwnProperty.call(n,e)),bR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(C1);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},P8=t=>vi(0,255,t),M0={...Jc,transform:t=>Math.round(P8(t))},ja={test:j1("rgb","red"),parse:bR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+M0.transform(t)+", "+M0.transform(e)+", "+M0.transform(n)+", "+bd(lh.transform(r))+")"};function R8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Mv={test:j1("#"),parse:R8,transform:ja.transform},Zl={test:j1("hsl","hue"),parse:bR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ns.transform(bd(e))+", "+Ns.transform(bd(n))+", "+bd(lh.transform(r))+")"},mn={test:t=>ja.test(t)||Mv.test(t)||Zl.test(t),parse:t=>ja.test(t)?ja.parse(t):Zl.test(t)?Zl.parse(t):Mv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ja.transform(t):Zl.transform(t)},O8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(C1))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(O8))===null||n===void 0?void 0:n.length)||0)>0}const _R="number",ER="color",L8="var",M8="var(",BS="${}",V8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(V8,c=>(mn.test(c)?(r.color.push(i),s.push(ER),n.push(mn.parse(c))):c.startsWith(M8)?(r.var.push(i),s.push(L8),n.push(c)):(r.number.push(i),s.push(_R),n.push(parseFloat(c))),++i,BS)).split(BS);return{values:n,split:l,indexes:r,types:s}}function NR(t){return uh(t).values}function SR(t){const{split:e,types:n}=uh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===_R?i+=bd(s[o]):l===ER?i+=mn.transform(s[o]):i+=s[o]}return i}}const F8=t=>typeof t=="number"?0:t;function $8(t){const e=NR(t);return SR(t)(e.map(F8))}const Po={test:D8,parse:NR,createTransformer:SR,getAnimatableNone:$8},U8=new Set(["brightness","contrast","saturate","opacity"]);function B8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(C1)||[];if(!r)return t;const s=n.replace(r,"");let i=U8.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const z8=/\b([a-z-]*)\(.*?\)/gu,Vv={...Po,getAnimatableNone:t=>{const e=t.match(z8);return e?e.map(B8).join(" "):t}},H8={...h1,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:Vv,WebkitFilter:Vv},k1=t=>H8[t];function TR(t,e){let n=k1(t);return n!==Vv&&(n=Po),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const W8=new Set(["auto","none","0"]);function q8(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!W8.has(i)&&uh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=TR(n,s)}const zS=t=>t===Jc||t===Ee,HS=(t,e)=>parseFloat(t.split(", ")[e]),WS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return HS(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?HS(i[1],t):0}},K8=new Set(["x","y","z"]),G8=Xc.filter(t=>!K8.has(t));function Y8(t){const e=[];return G8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Cc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WS(4,13),y:WS(5,14)};Cc.translateX=Cc.x;Cc.translateY=Cc.y;const Ma=new Set;let Fv=!1,$v=!1;function CR(){if($v){const t=Array.from(Ma).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Y8(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$v=!1,Fv=!1,Ma.forEach(t=>t.complete()),Ma.clear()}function jR(){Ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($v=!0)})}function Q8(){jR(),CR()}class I1{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ma.add(this),Fv||(Fv=!0,mt.read(jR),mt.resolveKeyframes(CR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Z8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X8(t){const e=Z8.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function IR(t,e,n=1){const[r,s]=X8(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return kR(o)?parseFloat(o):o}return d1(s)?IR(s,e,n+1):s}const AR=t=>e=>e.test(t),J8={test:t=>t==="auto",parse:t=>t},PR=[Jc,Ee,Ns,Wi,B7,U7,J8],qS=t=>PR.find(AR(t));class RR extends I1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),d1(u))){const d=IR(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!cR.has(r)||e.length!==2)return;const[s,i]=e,o=qS(s),l=qS(i);if(o!==l)if(zS(o)&&zS(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)k8(e[s])&&r.push(s);r.length&&q8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Cc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const KS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Po.test(t)||t==="0")&&!t.startsWith("url("));function eB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tB(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=KS(s,e),l=KS(i,e);return!o||!l?!1:eB(t)||(n==="spring"||v1(n))&&r}const nB=t=>t!==null;function ey(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(nB),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const rB=40;class OR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ss.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>rB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Q8(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ss.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!tB(e,r,s,i))if(o)this.options.duration=0;else{c&&c(ey(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const wt=(t,e,n)=>t+(e-t)*n;function V0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=V0(c,l,t+1/3),i=V0(c,l,t),o=V0(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Am(t,e){return n=>n>0?e:t}const F0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},iB=[Mv,ja,Zl],oB=t=>iB.find(e=>e.test(t));function GS(t){const e=oB(t);if(!e)return!1;let n=e.parse(t);return e===Zl&&(n=sB(n)),n}const YS=(t,e)=>{const n=GS(t),r=GS(e);if(!n||!r)return Am(t,e);const s={...n};return i=>(s.red=F0(n.red,r.red,i),s.green=F0(n.green,r.green,i),s.blue=F0(n.blue,r.blue,i),s.alpha=wt(n.alpha,r.alpha,i),ja.transform(s))},aB=(t,e)=>n=>e(t(n)),Yh=(...t)=>t.reduce(aB),Uv=new Set(["none","hidden"]);function lB(t,e){return Uv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function cB(t,e){return n=>wt(t,e,n)}function A1(t){return typeof t=="number"?cB:typeof t=="string"?d1(t)?Am:mn.test(t)?YS:hB:Array.isArray(t)?DR:typeof t=="object"?mn.test(t)?YS:uB:Am}function DR(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>A1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function uB(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=A1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function dB(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const hB=(t,e)=>{const n=Po.createTransformer(e),r=uh(t),s=uh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Uv.has(t)&&!s.values.length||Uv.has(e)&&!r.values.length?lB(t,e):Yh(DR(dB(r,s),s.values),n):Am(t,e)};function LR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):A1(t)(t,e)}const fB=5;function MR(t,e,n){const r=Math.max(e-fB,0);return uR(n-t(r),e-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$0=.001;function pB({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let s,i,o=1-e;o=vi(St.minDamping,St.maxDamping,o),t=vi(St.minDuration,St.maxDuration,ui(t)),o<1?(s=u=>{const d=u*o,h=d*t,p=d-n,m=Bv(u,o),x=Math.exp(-h);return $0-p/m*x},i=u=>{const h=u*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-h),w=Bv(Math.pow(u,2),o);return(-s(u)+$0>0?-1:1)*((p-m)*x)/w}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-$0+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=gB(s,i,l);if(t=ci(t),isNaN(c))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const mB=12;function gB(t,e,n){let r=n;for(let s=1;s<mB;s++)r=r-t(r)/e(r);return r}function Bv(t,e){return t*Math.sqrt(1-e*e)}const yB=["duration","bounce"],xB=["stiffness","damping","mass"];function QS(t,e){return e.some(n=>t[n]!==void 0)}function vB(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!QS(t,xB)&&QS(t,yB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*vi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:St.mass,stiffness:s,damping:i}}else{const n=pB(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function VR(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=vB({...n,velocity:-ui(n.velocity||0)}),x=p||0,w=u/(2*Math.sqrt(c*d)),S=o-i,_=ui(Math.sqrt(c/d)),v=Math.abs(S)<5;r||(r=v?St.restSpeed.granular:St.restSpeed.default),s||(s=v?St.restDelta.granular:St.restDelta.default);let T;if(w<1){const P=Bv(_,w);T=O=>{const N=Math.exp(-w*_*O);return o-N*((x+w*_*S)/P*Math.sin(P*O)+S*Math.cos(P*O))}}else if(w===1)T=P=>o-Math.exp(-_*P)*(S+(x+_*S)*P);else{const P=_*Math.sqrt(w*w-1);T=O=>{const N=Math.exp(-w*_*O),E=Math.min(P*O,300);return o-N*((x+w*_*S)*Math.sinh(E)+P*S*Math.cosh(E))/P}}const k={calculatedDuration:m&&h||null,next:P=>{const O=T(P);if(m)l.done=P>=h;else{let N=0;w<1&&(N=P===0?ci(x):MR(T,P,O));const E=Math.abs(N)<=r,j=Math.abs(o-O)<=s;l.done=E&&j}return l.value=l.done?o:O,l},toString:()=>{const P=Math.min(nR(k),Ov),O=rR(N=>k.next(P*N).value,P,30);return P+"ms "+O}};return k}function ZS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let w=n*e;const S=h+w,_=o===void 0?S:o(S);_!==S&&(w=_-h);const v=E=>-w*Math.exp(-E/r),T=E=>_+v(E),k=E=>{const j=v(E),R=T(E);p.done=Math.abs(j)<=u,p.value=p.done?_:R};let P,O;const N=E=>{m(p.value)&&(P=E,O=VR({keyframes:[p.value,x(p.value)],velocity:MR(T,E,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:E=>{let j=!1;return!O&&P===void 0&&(j=!0,k(E),N(E)),P!==void 0&&E>=P?O.next(E-P):(!j&&k(E),p)}}}const wB=Gh(.42,0,1,1),bB=Gh(0,0,.58,1),FR=Gh(.42,0,.58,1),_B=t=>Array.isArray(t)&&typeof t[0]!="number",EB={linear:ar,easeIn:wB,easeInOut:FR,easeOut:bB,circIn:T1,circInOut:vR,circOut:xR,backIn:S1,backInOut:gR,backOut:mR,anticipate:yR},XS=t=>{if(w1(t)){LP(t.length===4);const[e,n,r,s]=t;return Gh(e,n,r,s)}else if(typeof t=="string")return EB[t];return t};function NB(t,e,n){const r=[],s=n||LR,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ar:e;l=Yh(c,l)}r.push(l)}return r}function SB(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(LP(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=NB(e,r,s),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Sc(t[h],t[h+1],d);return l[h](p)};return n?d=>u(vi(t[0],t[i-1],d)):u}function TB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sc(0,e,r);t.push(wt(n,1,s))}}function CB(t){const e=[0];return TB(e,t.length-1),e}function jB(t,e){return t.map(n=>n*e)}function kB(t,e){return t.map(()=>e||FR).splice(0,t.length-1)}function Pm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=_B(r)?r.map(XS):XS(r),i={done:!1,value:e[0]},o=jB(n&&n.length===e.length?n:CB(e),t),l=SB(o,e,{ease:Array.isArray(s)?s:kB(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const IB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>mt.update(e,!0),stop:()=>Ao(e),now:()=>en.isProcessing?en.timestamp:Ss.now()}},AB={decay:ZS,inertia:ZS,tween:Pm,keyframes:Pm,spring:VR},PB=t=>t/100;class P1 extends OR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||I1,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=v1(n)?n:AB[n]||Pm;let c,u;l!==Pm&&typeof e[0]!="number"&&(c=Yh(PB,LR(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=nR(d));const{calculatedDuration:h}=d,p=h+s,m=p*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:m,repeatType:x,repeatDelay:w,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),v=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,k=i;if(m){const E=Math.min(this.currentTime,d)/h;let j=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&j--,j=Math.min(j,m+1),!!(j%2)&&(x==="reverse"?(R=1-R,w&&(R-=w/h)):x==="mirror"&&(k=o)),T=vi(0,1,R)*h}const P=v?{done:!1,value:c[0]}:k.next(T);l&&(P.value=l(P.value));let{done:O}=P;!v&&u!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return N&&s!==void 0&&(P.value=ey(c,this.options,s)),S&&S(P.value),N&&this.finish(),P}get duration(){const{resolved:e}=this;return e?ui(e.calculatedDuration):0}get time(){return ui(this.currentTime)}set time(e){e=ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=IB,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const RB=new Set(["opacity","clipPath","filter","transform"]);function OB(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=iR(l,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const DB=s1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Rm=10,LB=2e4;function MB(t){return v1(t.type)||t.type==="spring"||!sR(t.ease)}function VB(t,e){const n=new P1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<LB;)r=n.sample(i),s.push(r.value),i+=Rm;return{times:void 0,keyframes:s,duration:i-Rm,ease:"linear"}}const $R={anticipate:yR,backInOut:gR,circInOut:vR};function FB(t){return t in $R}class JS extends OR{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new RR(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Im()&&FB(i)&&(i=$R[i]),MB(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:x,...w}=this.options,S=VB(e,w);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,s=S.times,i=S.ease,o="keyframes"}const d=OB(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(MS(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(ey(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ui(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ui(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ar;const{animation:r}=n;MS(r,e)}return ar}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:p,...m}=this.options,x=new P1({...m,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),w=ci(this.time);u.setWithVelocity(x.sample(w-Rm).value,x.sample(w).value,Rm)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return DB()&&r&&RB.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const $B={type:"spring",stiffness:500,damping:25,restSpeed:10},UB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BB={type:"keyframes",duration:.8},zB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HB=(t,{keyframes:e})=>e.length>2?BB:al.has(t)?t.startsWith("scale")?UB(e[1]):$B:zB;function WB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const R1=(t,e,n,r={},s,i)=>o=>{const l=x1(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ci(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};WB(l)||(d={...d,...HB(t,d)}),d.duration&&(d.duration=ci(d.duration)),d.repeatDelay&&(d.repeatDelay=ci(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const p=ey(d.keyframes,l);if(p!==void 0)return mt.update(()=>{d.onUpdate(p),d.onComplete()}),new u8([])}return!i&&JS.supports(d)?new JS(d):new P1(d)};function qB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function UR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&qB(d,h))continue;const x={delay:n,...x1(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const _=dR(t);if(_){const v=window.MotionHandoffAnimation(_,h,mt);v!==null&&(x.startTime=v,w=!0)}}Lv(t,h),p.start(R1(h,p,m,t.shouldReduceMotion&&cR.has(h)?{type:!1}:x,t,w));const S=p.animation;S&&u.push(S)}return l&&Promise.all(u).then(()=>{mt.update(()=>{l&&N8(t,l)})}),u}function zv(t,e,n={}){var r;const s=Jg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(UR(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return KB(t,e,d+u,h,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function KB(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(GB).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(zv(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function GB(t,e){return t.sortNodePosition(e)}function YB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>zv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=zv(t,e,n);else{const s=typeof e=="function"?Jg(t,e,n.custom):e;r=Promise.all(UR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const QB=o1.length;function BR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<QB;n++){const r=o1[n],s=t.props[r];(ah(s)||s===!1)&&(e[r]=s)}return e}const ZB=[...i1].reverse(),XB=i1.length;function JB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>YB(t,n,r)))}function ez(t){let e=JB(t),n=eT(),r=!0;const s=c=>(u,d)=>{var h;const p=Jg(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:x,...w}=p;u={...u,...w,...x}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=BR(t.parent)||{},h=[],p=new Set;let m={},x=1/0;for(let S=0;S<XB;S++){const _=ZB[S],v=n[_],T=u[_]!==void 0?u[_]:d[_],k=ah(T),P=_===c?v.isActive:null;P===!1&&(x=S);let O=T===d[_]&&T!==u[_]&&k;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),v.protectedKeys={...m},!v.isActive&&P===null||!T&&!v.prevProp||Zg(T)||typeof T=="boolean")continue;const N=tz(v.prevProp,T);let E=N||_===c&&v.isActive&&!O&&k||S>x&&k,j=!1;const R=Array.isArray(T)?T:[T];let D=R.reduce(s(_),{});P===!1&&(D={});const{prevResolvedValues:L={}}=v,I={...L,...D},te=Ce=>{E=!0,p.has(Ce)&&(j=!0,p.delete(Ce)),v.needsAnimating[Ce]=!0;const K=t.getValue(Ce);K&&(K.liveStyle=!1)};for(const Ce in I){const K=D[Ce],oe=L[Ce];if(m.hasOwnProperty(Ce))continue;let pe=!1;Rv(K)&&Rv(oe)?pe=!tR(K,oe):pe=K!==oe,pe?K!=null?te(Ce):p.add(Ce):K!==void 0&&p.has(Ce)?te(Ce):v.protectedKeys[Ce]=!0}v.prevProp=T,v.prevResolvedValues=D,v.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&N)||j)&&h.push(...R.map(Ce=>({animation:Ce,options:{type:_}})))}if(p.size){const S={};p.forEach(_=>{const v=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),S[_]=v??null}),h.push({animation:S})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=eT(),r=!0}}}function tz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tR(e,t):!1}function ua(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eT(){return{animate:ua(!0),whileInView:ua(),whileHover:ua(),whileTap:ua(),whileDrag:ua(),whileFocus:ua(),exit:ua()}}class Yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nz extends Yo{constructor(e){super(e),e.animationState||(e.animationState=ez(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let rz=0;class sz extends Yo{constructor(){super(...arguments),this.id=rz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const iz={animation:{Feature:nz},exit:{Feature:sz}};function dh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qh(t){return{point:{x:t.pageX,y:t.pageY}}}const oz=t=>e=>b1(e)&&t(e,Qh(e));function _d(t,e,n,r){return dh(t,e,oz(n),r)}const tT=(t,e)=>Math.abs(t-e);function az(t,e){const n=tT(t.x,e.x),r=tT(t.y,e.y);return Math.sqrt(n**2+r**2)}class zR{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=B0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=az(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:x}=h,{timestamp:w}=en;this.history.push({...x,timestamp:w});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=U0(p,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=B0(h.type==="pointercancel"?this.lastMoveEventInfo:U0(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,S),x&&x(h,S)},!b1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Qh(e),l=U0(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=en;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,B0(l,this.history)),this.removeListeners=Yh(_d(this.contextWindow,"pointermove",this.handlePointerMove),_d(this.contextWindow,"pointerup",this.handlePointerUp),_d(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ao(this.updatePoint)}}function U0(t,e){return e?{point:e(t.point)}:t}function nT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function B0({point:t},e){return{point:t,delta:nT(t,HR(e)),offset:nT(t,lz(e)),velocity:cz(e,.1)}}function lz(t){return t[0]}function HR(t){return t[t.length-1]}function cz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HR(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ci(e)));)n--;if(!r)return{x:0,y:0};const i=ui(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const WR=1e-4,uz=1-WR,dz=1+WR,qR=.01,hz=0-qR,fz=0+qR;function ur(t){return t.max-t.min}function pz(t,e,n){return Math.abs(t-e)<=n}function rT(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=ur(n)/ur(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uz&&t.scale<=dz||isNaN(t.scale))&&(t.scale=1),(t.translate>=hz&&t.translate<=fz||isNaN(t.translate))&&(t.translate=0)}function Ed(t,e,n,r){rT(t.x,e.x,n.x,r?r.originX:void 0),rT(t.y,e.y,n.y,r?r.originY:void 0)}function sT(t,e,n){t.min=n.min+e.min,t.max=t.min+ur(e)}function mz(t,e,n){sT(t.x,e.x,n.x),sT(t.y,e.y,n.y)}function iT(t,e,n){t.min=e.min-n.min,t.max=t.min+ur(e)}function Nd(t,e,n){iT(t.x,e.x,n.x),iT(t.y,e.y,n.y)}function gz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function oT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yz(t,{top:e,left:n,bottom:r,right:s}){return{x:oT(t.x,n,s),y:oT(t.y,e,r)}}function aT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xz(t,e){return{x:aT(t.x,e.x),y:aT(t.y,e.y)}}function vz(t,e){let n=.5;const r=ur(t),s=ur(e);return s>r?n=Sc(e.min,e.max-r,t.min):r>s&&(n=Sc(t.min,t.max-s,e.min)),vi(0,1,n)}function wz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hv=.35;function bz(t=Hv){return t===!1?t=0:t===!0&&(t=Hv),{x:lT(t,"left","right"),y:lT(t,"top","bottom")}}function lT(t,e,n){return{min:cT(t,e),max:cT(t,n)}}function cT(t,e){return typeof t=="number"?t:t[e]||0}const uT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xl=()=>({x:uT(),y:uT()}),dT=()=>({min:0,max:0}),kt=()=>({x:dT(),y:dT()});function vr(t){return[t("x"),t("y")]}function KR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _z({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ez(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function z0(t){return t===void 0||t===1}function Wv({scale:t,scaleX:e,scaleY:n}){return!z0(t)||!z0(e)||!z0(n)}function fa(t){return Wv(t)||GR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GR(t){return hT(t.x)||hT(t.y)}function hT(t){return t&&t!=="0%"}function Om(t,e,n){const r=t-n,s=e*r;return n+s}function fT(t,e,n,r,s){return s!==void 0&&(t=Om(t,s,r)),Om(t,n,r)+e}function qv(t,e=0,n=1,r,s){t.min=fT(t.min,e,n,r,s),t.max=fT(t.max,e,n,r,s)}function YR(t,{x:e,y:n}){qv(t.x,e.translate,e.scale,e.originPoint),qv(t.y,n.translate,n.scale,n.originPoint)}const pT=.999999999999,mT=1.0000000000001;function Nz(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ec(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,YR(t,o)),r&&fa(i.latestValues)&&ec(t,i.latestValues))}e.x<mT&&e.x>pT&&(e.x=1),e.y<mT&&e.y>pT&&(e.y=1)}function Jl(t,e){t.min=t.min+e,t.max=t.max+e}function gT(t,e,n,r,s=.5){const i=wt(t.min,t.max,s);qv(t,e,n,i,r)}function ec(t,e){gT(t.x,e.x,e.scaleX,e.scale,e.originX),gT(t.y,e.y,e.scaleY,e.scale,e.originY)}function QR(t,e){return KR(Ez(t.getBoundingClientRect(),e))}function Sz(t,e,n){const r=QR(t,n),{scroll:s}=e;return s&&(Jl(r.x,s.offset.x),Jl(r.y,s.offset.y)),r}const ZR=({current:t})=>t?t.ownerDocument.defaultView:null,Tz=new WeakMap;class Cz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qh(d).point)},i=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:x}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v8(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Ns.test(_)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[S];T&&(_=ur(T)*(parseFloat(_)/100))}}this.originPoint[S]=_}),x&&mt.postRender(()=>x(d,h)),Lv(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:x,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=h;if(m&&this.currentDirection===null){this.currentDirection=jz(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>this.stop(d,h),c=()=>vr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zR(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&mt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!op(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=gz(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ql(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=yz(s.layoutBox,n):this.constraints=!1,this.elastic=bz(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&vr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=wz(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ql(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Sz(r,s.root,this.visualElement.getTransformPagePoint());let o=xz(s.layout.layoutBox,i);if(n){const l=n(_z(o));this.hasMutatedConstraints=!!l,l&&(o=KR(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=vr(d=>{if(!op(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lv(this.visualElement,e),r.start(R1(e,r,0,n,this.visualElement,!1))}stopAnimation(){vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vr(n=>{const{drag:r}=this.getProps();if(!op(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-wt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ql(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=vz({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(o=>{if(!op(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(wt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Tz.set(this.visualElement,this);const e=this.visualElement.current,n=_d(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ql(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mt.read(r);const o=dh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(vr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Hv,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function op(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kz extends Yo{constructor(e){super(e),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new Cz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const yT=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class Iz extends Yo{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(e){this.session=new zR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:yT(e),onStart:yT(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&mt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=_d(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=xT(t,e.target.x),r=xT(t,e.target.y);return`${n}% ${r}%`}},Az={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Po.parse(t);if(s.length>5)return r;const i=Po.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=wt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class Pz extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;X7(Rz),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||mt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XR(t){const[e,n]=OP(),r=y.useContext(e1);return a.jsx(Pz,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(BP),isPresent:e,safeToRemove:n})}const Rz={borderRadius:{...$u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$u,borderTopRightRadius:$u,borderBottomLeftRadius:$u,borderBottomRightRadius:$u,boxShadow:Az};function Oz(t,e,n){const r=bn(t)?t:ch(t);return r.start(R1("",r,e,n)),r.animation}function Dz(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Lz=(t,e)=>t.depth-e.depth;class Mz{constructor(){this.children=[],this.isDirty=!1}add(e){_1(this.children,e),this.isDirty=!0}remove(e){E1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lz),this.isDirty=!1,this.children.forEach(e)}}function Vz(t,e){const n=Ss.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ao(r),t(i-e))};return mt.read(r,!0),()=>Ao(r)}const JR=["TopLeft","TopRight","BottomLeft","BottomRight"],Fz=JR.length,vT=t=>typeof t=="string"?parseFloat(t):t,wT=t=>typeof t=="number"||Ee.test(t);function $z(t,e,n,r,s,i){s?(t.opacity=wt(0,n.opacity!==void 0?n.opacity:1,Uz(r)),t.opacityExit=wt(e.opacity!==void 0?e.opacity:1,0,Bz(r))):i&&(t.opacity=wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Fz;o++){const l=`border${JR[o]}Radius`;let c=bT(e,l),u=bT(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||wT(c)===wT(u)?(t[l]=Math.max(wt(vT(c),vT(u),r),0),(Ns.test(u)||Ns.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function bT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Uz=eO(0,.5,xR),Bz=eO(.5,.95,ar);function eO(t,e,n){return r=>r<t?0:r>e?1:n(Sc(t,e,r))}function _T(t,e){t.min=e.min,t.max=e.max}function xr(t,e){_T(t.x,e.x),_T(t.y,e.y)}function ET(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function NT(t,e,n,r,s){return t-=e,t=Om(t,1/n,r),s!==void 0&&(t=Om(t,1/s,r)),t}function zz(t,e=0,n=1,r=.5,s,i=t,o=t){if(Ns.test(e)&&(e=parseFloat(e),e=wt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=wt(i.min,i.max,r);t===i&&(l-=e),t.min=NT(t.min,e,n,l,s),t.max=NT(t.max,e,n,l,s)}function ST(t,e,[n,r,s],i,o){zz(t,e[n],e[r],e[s],e.scale,i,o)}const Hz=["x","scaleX","originX"],Wz=["y","scaleY","originY"];function TT(t,e,n,r){ST(t.x,e,Hz,n?n.x:void 0,r?r.x:void 0),ST(t.y,e,Wz,n?n.y:void 0,r?r.y:void 0)}function CT(t){return t.translate===0&&t.scale===1}function tO(t){return CT(t.x)&&CT(t.y)}function jT(t,e){return t.min===e.min&&t.max===e.max}function qz(t,e){return jT(t.x,e.x)&&jT(t.y,e.y)}function kT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nO(t,e){return kT(t.x,e.x)&&kT(t.y,e.y)}function IT(t){return ur(t.x)/ur(t.y)}function AT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Kz{constructor(){this.members=[]}add(e){_1(this.members,e),e.scheduleRender()}remove(e){if(E1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gz(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const pa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},rd=typeof window<"u"&&window.MotionDebug!==void 0,H0=["","X","Y","Z"],Yz={visibility:"hidden"},PT=1e3;let Qz=0;function W0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rO(r)}function sO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Qz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rd&&(pa.totalNodes=pa.resolvedTargetDeltas=pa.recalculatedProjection=0),this.nodes.forEach(Jz),this.nodes.forEach(sH),this.nodes.forEach(iH),this.nodes.forEach(eH),rd&&window.MotionDebug.record(pa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mz)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Dz(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Vz(p,250),Vp.hasAnimatedSinceResize&&(Vp.hasAnimatedSinceResize=!1,this.nodes.forEach(OT))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||uH,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),v=!this.targetLayout||!nO(this.targetLayout,x)||m,T=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const k={...x1(w,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||OT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RT);return}this.isUpdating||this.nodes.forEach(nH),this.isUpdating=!1,this.nodes.forEach(rH),this.nodes.forEach(Zz),this.nodes.forEach(Xz),this.clearAllSnapshots();const l=Ss.now();en.delta=vi(0,1e3/60,l-en.timestamp),en.timestamp=l,en.isProcessing=!0,D0.update.process(en),D0.preRender.process(en),D0.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tH),this.sharedNodes.forEach(aH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!tO(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||fa(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dH(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return kt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(hH))){const{scroll:d}=this.root;d&&(Jl(c.x,d.offset.x),Jl(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=kt();if(xr(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&xr(c,o),Jl(c.x,h.offset.x),Jl(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=kt();xr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ec(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fa(d.latestValues)&&ec(c,d.latestValues)}return fa(this.latestValues)&&ec(c,this.latestValues),c}removeTransform(o){const l=kt();xr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!fa(u.latestValues))continue;Wv(u.latestValues)&&u.updateSnapshot();const d=kt(),h=u.measurePageBox();xr(d,h),TT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return fa(this.latestValues)&&TT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Nd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),YR(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Nd(this.relativeTargetOrigin,this.target,m.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rd&&pa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wv(this.parent.latestValues)||GR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===en.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;xr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Nz(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=kt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ET(this.prevProjectionDelta.x,this.projectionDelta.x),ET(this.prevProjectionDelta.y,this.projectionDelta.y)),Ed(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!AT(this.projectionDelta.x,this.prevProjectionDelta.x)||!AT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),rd&&pa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xl(),this.projectionDelta=Xl(),this.projectionDeltaWithTransform=Xl()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=kt(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=m!==x,S=this.getStack(),_=!S||S.members.length<=1,v=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(cH));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const P=k/1e3;DT(h.x,o.x,P),DT(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lH(this.relativeTarget,this.relativeTargetOrigin,p,P),T&&qz(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=kt()),xr(T,this.relativeTarget)),w&&(this.animationValues=d,$z(d,u,this.latestValues,P,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Vp.hasAnimatedSinceResize=!0,this.currentAnimation=Oz(0,PT,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&iO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||kt();const h=ur(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=ur(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}xr(l,c),ec(l,d),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Kz),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&W0("z",o,u,this.animationValues);for(let d=0;d<H0.length;d++)W0(`rotate${H0[d]}`,o,u,this.animationValues),W0(`skew${H0[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yz;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Lp(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Lp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Gz(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in km){if(p[w]===void 0)continue;const{correct:S,applyTo:_}=km[w],v=u.transform==="none"?p[w]:S(p[w],h);if(_){const T=_.length;for(let k=0;k<T;k++)u[_[k]]=v}else u[w]=v}return this.options.layoutId&&(u.pointerEvents=h===this?Lp(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(RT),this.root.sharedNodes.clear()}}}function Zz(t){t.updateLayout()}function Xz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?vr(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=ur(p);p.min=r[h].min,p.max=p.min+m}):iO(i,n.layoutBox,r)&&vr(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=ur(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Xl();Ed(l,r,n.layoutBox);const c=Xl();o?Ed(c,t.applyTransform(s,!0),n.measuredBox):Ed(c,r,n.layoutBox);const u=!tO(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const x=kt();Nd(x,n.layoutBox,p.layoutBox);const w=kt();Nd(w,r,m.layoutBox),nO(x,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Jz(t){rd&&pa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tH(t){t.clearSnapshot()}function RT(t){t.clearMeasurements()}function nH(t){t.isLayoutDirty=!1}function rH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sH(t){t.resolveTargetDelta()}function iH(t){t.calcProjection()}function oH(t){t.resetSkewAndRotation()}function aH(t){t.removeLeadSnapshot()}function DT(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LT(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function lH(t,e,n,r){LT(t.x,e.x,n.x,r),LT(t.y,e.y,n.y,r)}function cH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uH={duration:.45,ease:[.4,0,.1,1]},MT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VT=MT("applewebkit/")&&!MT("chrome/")?Math.round:ar;function FT(t){t.min=VT(t.min),t.max=VT(t.max)}function dH(t){FT(t.x),FT(t.y)}function iO(t,e,n){return t==="position"||t==="preserve-aspect"&&!pz(IT(e),IT(n),.2)}function hH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const fH=sO({attachResizeListener:(t,e)=>dh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),q0={current:void 0},oO=sO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!q0.current){const t=new fH({});t.mount(window),t.setOptions({layoutScroll:!0}),q0.current=t}return q0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pH={pan:{Feature:Iz},drag:{Feature:kz,ProjectionNode:oO,MeasureLayout:XR}};function $T(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&mt.postRender(()=>i(e,Qh(e)))}class mH extends Yo{mount(){const{current:e}=this.node;e&&(this.unmount=p8(e,n=>($T(this.node,n,"Start"),r=>$T(this.node,r,"End"))))}unmount(){}}class gH extends Yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yh(dh(this.node.current,"focus",()=>this.onFocus()),dh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&mt.postRender(()=>i(e,Qh(e)))}class yH extends Yo{mount(){const{current:e}=this.node;e&&(this.unmount=x8(e,n=>(UT(this.node,n,"Start"),(r,{success:s})=>UT(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kv=new WeakMap,K0=new WeakMap,xH=t=>{const e=Kv.get(t.target);e&&e(t)},vH=t=>{t.forEach(xH)};function wH({root:t,...e}){const n=t||document;K0.has(n)||K0.set(n,{});const r=K0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(vH,{root:t,...e})),r[s]}function bH(t,e,n){const r=wH(e);return Kv.set(t,n),r.observe(t),()=>{Kv.delete(t),r.unobserve(t)}}const _H={some:0,all:1};class EH extends Yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_H[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return bH(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NH(e,n))&&this.startObserver()}unmount(){}}function NH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SH={inView:{Feature:EH},tap:{Feature:yH},focus:{Feature:gH},hover:{Feature:mH}},TH={layout:{ProjectionNode:oO,MeasureLayout:XR}},Gv={current:null},aO={current:!1};function CH(){if(aO.current=!0,!!r1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gv.current=t.matches;t.addListener(e),e()}else Gv.current=!1}const jH=[...PR,mn,Po],kH=t=>jH.find(AR(t)),BT=new WeakMap;function IH(t,e,n){for(const r in e){const s=e[r],i=n[r];if(bn(s))t.addValue(r,s);else if(bn(i))t.addValue(r,ch(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ch(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=I1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ss.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,mt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Xg(n),this.isVariantNode=$P(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const x=p[m];c[m]!==void 0&&bn(x)&&x.set(c[m],!1)}}mount(e){this.current=e,BT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aO.current||CH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){BT.delete(this.current),this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=al.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tc){const n=Tc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zT.length;r++){const s=zT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=IH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ch(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(kR(s)||wR(s))?s=parseFloat(s):!kH(s)&&Po.test(n)&&(s=TR(e,n)),this.setBaseTarget(e,bn(s)?s.get():s)),bn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=u1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!bn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new N1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lO extends AH{constructor(){super(...arguments),this.KeyframeResolver=RR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PH(t){return window.getComputedStyle(t)}class RH extends lO{constructor(){super(...arguments),this.type="html",this.renderInstance=YP}readValueFromInstance(e,n){if(al.has(n)){const r=k1(n);return r&&r.default||0}else{const r=PH(e),s=(qP(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QR(e,n)}build(e,n,r){f1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return y1(e,n,r)}}class OH extends lO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(al.has(n)){const r=k1(n);return r&&r.default||0}return n=QP.has(n)?n:a1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return JP(e,n,r)}build(e,n,r){p1(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){ZP(e,n,r,s)}mount(e){this.isSVGTag=g1(e.tagName),super.mount(e)}}const DH=(t,e)=>c1(t)?new OH(e):new RH(e,{allowProjection:t!==y.Fragment}),LH=a8({...iz,...SH,...pH,...TH},DH),ce=_7(LH);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(t,e)=>{const n=y.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...MH,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${VH(t)}`,l].join(" "),...u},[...e.map(([h,p])=>y.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=ae("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=ae("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ae("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=ae("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=ae("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=ae("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=ae("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=ae("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=ae("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=ae("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=ae("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=ae("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ae("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=ae("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=ae("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),xW=[{icon:a.jsx(ll,{className:"w-8 h-8"}),title:"Secure Dispute Management",description:"Handle disputes efficiently with our secure and compliant platform. Bank-level encryption ensures your data is always protected."},{icon:a.jsx($1,{className:"w-8 h-8"}),title:"Automated Workflows",description:"Streamline your processes with intelligent automation and templates. Save hours with automated dispute letters and follow-ups."},{icon:a.jsx(Ka,{className:"w-8 h-8"}),title:"Client Portal",description:"Provide your clients with a professional, easy-to-use portal. Real-time updates and transparent communication.",comingSoon:!0},{icon:a.jsx(BH,{className:"w-8 h-8"}),title:"Advanced Analytics",description:"Make data-driven decisions with comprehensive analytics and reporting. Track success rates and optimize strategies."},{icon:a.jsx(Dm,{className:"w-8 h-8"}),title:"Client Management CRM",description:"Efficiently manage all your clients in one place. Track cases, organize documents, and maintain detailed client histories."},{icon:a.jsx(uO,{className:"w-8 h-8"}),title:"Compliance Ready",description:"Stay compliant with FCRA, FDCPA, and other regulations. Built-in compliance checks and documentation."}],vW=[{name:"Basic",price:29,description:"Perfect for individuals and small businesses",features:["Up to 50 clients","Basic dispute management","Email support","Standard templates","Basic analytics"],popular:!1},{name:"Pro",price:49,description:"Ideal for growing businesses",features:["Up to 200 clients","Advanced dispute management","Priority email support","Custom templates","Advanced analytics","API access","Custom branding"],popular:!0},{name:"Enterprise",price:99,description:"For large organizations with advanced needs",features:["Unlimited clients","Enterprise dispute management","24/7 priority support","Custom templates & workflows","Advanced analytics & reporting","Full API access","Custom branding & white-labeling","Dedicated account manager"],popular:!1}],wW=[{quote:"This platform has transformed how we handle disputes. It's intuitive and efficient.",author:"Sarah Johnson",role:"Legal Director, TechCorp",rating:5},{quote:"The automation features have saved us countless hours. Highly recommended!",author:"Michael Chen",role:"Operations Manager, Global Solutions",rating:5},{quote:"The client portal is a game-changer. Our clients love the transparency.",author:"Emma Rodriguez",role:"CEO, LegalTech Partners",rating:5}],bW=[{number:"10,000+",label:"Disputes Resolved"},{number:"500+",label:"Happy Clients"},{number:"95%",label:"Success Rate"},{number:"24/7",label:"Support Available"}];function _W(){const[t,e]=y.useState(!1),n=[{name:"Features",href:"#features"},{name:"Pricing",href:"#pricing"},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}];return a.jsxs("main",{className:"min-h-screen bg-white",children:[a.jsx("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(rt,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-500 bg-clip-text text-transparent",children:"Credexis"})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[n.map(r=>a.jsx("a",{href:r.href,className:"text-gray-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors",children:r.name},r.name)),a.jsx(rt,{to:"/login",className:"text-gray-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors",children:"Sign In"}),a.jsx(rt,{to:"/signup",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors",children:"Get Started"})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{type:"button",className:"text-gray-600 hover:text-indigo-600 focus:outline-none focus:text-indigo-600",onClick:()=>e(!t),children:t?a.jsx(En,{className:"h-6 w-6","aria-hidden":"true"}):a.jsx(F1,{className:"h-6 w-6","aria-hidden":"true"})})})]}),t&&a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t border-gray-200",children:[n.map(r=>a.jsx("a",{href:r.href,className:"text-gray-600 hover:text-indigo-600 block px-3 py-2 text-base font-medium transition-colors",onClick:()=>e(!1),children:r.name},r.name)),a.jsx(rt,{to:"/login",className:"text-gray-600 hover:text-indigo-600 block px-3 py-2 text-base font-medium transition-colors",onClick:()=>e(!1),children:"Sign In"}),a.jsx(rt,{to:"/signup",className:"bg-indigo-600 text-white block px-3 py-2 rounded-lg text-base font-medium hover:bg-indigo-700 transition-colors mt-2",onClick:()=>e(!1),children:"Get Started"})]})})]})}),a.jsx("header",{className:"relative overflow-hidden pt-16 pb-24",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:a.jsx("span",{className:"inline-block px-4 py-2 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"Welcome to Credexis"})}),a.jsxs(ce.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[a.jsx("span",{className:"block",children:"Streamline Your"}),a.jsx("span",{className:"block text-indigo-600",children:"Credit Dispute Management"}),a.jsx("span",{className:"block text-lg sm:text-xl md:text-2xl font-normal text-gray-500 mt-4",children:"with Credexis"})]}),a.jsx(ce.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"Credexis is the professional credit repair software for modern businesses. Automate dispute management, maintain FCRA compliance, and provide exceptional client service with our comprehensive platform."}),a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8",role:"group","aria-label":"Get started with Credexis",children:[a.jsx("div",{className:"rounded-md shadow",children:a.jsxs(rt,{to:"/signup",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10 transition-colors","aria-label":"Start free trial of Credexis credit dispute management software",children:["Start Free Trial",a.jsx(HT,{className:"ml-2 w-5 h-5","aria-hidden":"true"})]})}),a.jsx("div",{className:"mt-3 rounded-md shadow sm:mt-0 sm:ml-3",children:a.jsx(rt,{to:"/login",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10 transition-colors","aria-label":"Sign in to existing Credexis account",children:"Sign In"})})]})]})})}),a.jsx("section",{className:"py-16 bg-indigo-600","aria-labelledby":"stats-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{id:"stats-heading",className:"sr-only",children:"Credexis Platform Statistics"}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:"Trusted by Credit Repair Professionals"}),a.jsx("p",{className:"text-indigo-200 mt-2",children:"See why businesses choose Credexis for their credit dispute management"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:bW.map((r,s)=>a.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:r.number}),a.jsx("div",{className:"text-indigo-200",children:r.label})]},s))})]})}),a.jsx("section",{className:"py-24 bg-gray-50",id:"features","aria-labelledby":"features-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("header",{className:"text-center",children:[a.jsx("h2",{id:"features-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Complete Credit Dispute Management Features"}),a.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Powerful Credexis tools to streamline your workflow and enhance client satisfaction"})]}),a.jsx("div",{className:"mt-20 grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:xW.map((r,s)=>a.jsxs(ce.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"relative p-8 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[r.comingSoon&&a.jsx("div",{className:"absolute -top-3 -right-3 bg-gradient-to-r from-orange-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg",children:"Coming Soon"}),a.jsx("div",{className:"text-indigo-600 mb-6","aria-hidden":"true",children:r.icon}),a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:[r.title,r.comingSoon&&a.jsx("span",{className:"ml-2 text-sm text-orange-500 font-medium",children:"(Coming Soon)"})]}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]},s))})]})}),a.jsx("section",{className:"py-24 bg-white",id:"pricing","aria-labelledby":"pricing-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("header",{className:"text-center",children:[a.jsx("h2",{id:"pricing-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Credexis Pricing Plans"}),a.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Transparent pricing for credit dispute management software that scales with your business"})]}),a.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:vW.map((r,s)=>a.jsxs(ce.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:`relative rounded-2xl border ${r.popular?"border-indigo-500 shadow-lg scale-105":"border-gray-200"} p-8 flex flex-col bg-white`,children:[r.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-indigo-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",r.price]}),a.jsx("span",{className:"text-gray-500",children:"/month"})]}),a.jsx("p",{className:"text-gray-500 mt-4",children:r.description}),a.jsx("ul",{className:"mt-8 space-y-4",role:"list",children:r.features.map((i,o)=>a.jsxs("li",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(hh,{className:"w-5 h-5 text-green-500","aria-hidden":"true"}),a.jsx("span",{children:i})]},o))})]}),a.jsx("button",{className:`mt-8 w-full py-3 px-6 rounded-lg font-medium transition-colors ${r.popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,"aria-label":`Get started with ${r.name} plan for $${r.price} per month`,children:"Get Started"})]},s))})]})}),a.jsx("section",{className:"py-24 bg-gray-50",id:"about","aria-labelledby":"about-heading",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 lg:items-center",children:[a.jsxs("article",{children:[a.jsx("h2",{id:"about-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"About Credexis"}),a.jsx("p",{className:"mt-6 text-lg text-gray-600 leading-relaxed",children:"Founded by industry experts with over 20 years of combined experience in credit repair and dispute management, Credexis was built to solve the real challenges faced by credit repair professionals and businesses."}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 leading-relaxed",children:"Our platform combines cutting-edge technology with deep industry knowledge to provide the most comprehensive credit dispute management solution available. Credexis is committed to helping businesses scale efficiently while maintaining the highest standards of FCRA compliance and client service."}),a.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ny,{className:"w-6 h-6 text-indigo-600","aria-hidden":"true"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Mission-Driven"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"w-6 h-6 text-indigo-600","aria-hidden":"true"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Security First"})]})]})]}),a.jsx("div",{className:"mt-12 lg:mt-0",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"20+"}),a.jsx("div",{className:"text-gray-600",children:"Years Experience"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"99.9%"}),a.jsx("div",{className:"text-gray-600",children:"Uptime"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"SOC 2"}),a.jsx("div",{className:"text-gray-600",children:"Compliant"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:"24/7"}),a.jsx("div",{className:"text-gray-600",children:"Support"})]})]})})]})})}),a.jsx("section",{className:"py-24 bg-white","aria-labelledby":"testimonials-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("header",{className:"text-center",children:a.jsx("h2",{id:"testimonials-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"What Our Customers Say About Credexis"})}),a.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:wW.map((r,s)=>a.jsxs(ce.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"bg-gray-50 p-8 rounded-xl",children:[a.jsx("div",{className:"flex items-center mb-4",role:"img","aria-label":`${r.rating} out of 5 stars`,children:[...Array(r.rating)].map((i,o)=>a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o))}),a.jsxs("blockquote",{className:"text-gray-600 italic mb-6",children:['"',r.quote,'"']}),a.jsxs("footer",{children:[a.jsx("cite",{className:"font-semibold text-gray-900 not-italic",children:r.author}),a.jsx("p",{className:"text-gray-500",children:r.role})]})]},s))})]})}),a.jsx("section",{className:"py-24 bg-gray-50",id:"contact","aria-labelledby":"contact-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("header",{className:"text-center mb-16",children:[a.jsx("h2",{id:"contact-heading",className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Contact the Credexis Team"}),a.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Have questions about Credexis credit dispute management software? We'd love to hear from you."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("address",{className:"flex items-start gap-4 not-italic",children:[a.jsx(fh,{className:"w-6 h-6 text-indigo-600 mt-1","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Us"}),a.jsx("p",{className:"text-gray-600",children:a.jsx("a",{href:"mailto:support@credexis.com",className:"hover:text-indigo-600 transition-colors",children:"support@credexis.com"})}),a.jsx("p",{className:"text-gray-600",children:a.jsx("a",{href:"mailto:sales@credexis.com",className:"hover:text-indigo-600 transition-colors",children:"sales@credexis.com"})})]})]}),a.jsxs("address",{className:"flex items-start gap-4 not-italic",children:[a.jsx(xO,{className:"w-6 h-6 text-indigo-600 mt-1","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Call Us"}),a.jsx("p",{className:"text-gray-600",children:a.jsx("a",{href:"tel:+15551234567",className:"hover:text-indigo-600 transition-colors",children:"+1 (555) 123-4567"})}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Monday-Friday, 9am-6pm EST"})]})]}),a.jsxs("address",{className:"flex items-start gap-4 not-italic",children:[a.jsx(yO,{className:"w-6 h-6 text-indigo-600 mt-1","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Office"}),a.jsx("p",{className:"text-gray-600",children:"123 Business Ave"}),a.jsx("p",{className:"text-gray-600",children:"Miami, FL 33101"})]})]})]})}),a.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:a.jsxs("form",{className:"space-y-6","aria-label":"Contact form",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{type:"text",id:"lastName",name:"lastName",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",rows:4,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-md font-medium hover:bg-indigo-700 transition-colors","aria-label":"Send contact message",children:"Send Message"})]})})]})]})}),a.jsx("section",{className:"bg-indigo-600","aria-labelledby":"cta-heading",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between",children:[a.jsxs("h2",{id:"cta-heading",className:"text-3xl font-extrabold tracking-tight text-white sm:text-4xl",children:[a.jsx("span",{className:"block",children:"Ready to get started with Credexis?"}),a.jsx("span",{className:"block text-indigo-200",children:"Start your free trial today."})]}),a.jsx("div",{className:"mt-8 flex lg:mt-0 lg:flex-shrink-0",children:a.jsx("div",{className:"inline-flex rounded-md shadow",children:a.jsxs(rt,{to:"/signup",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-indigo-50 transition-colors","aria-label":"Start free trial of Credexis credit repair software",children:["Get started",a.jsx(HT,{className:"ml-2 w-5 h-5","aria-hidden":"true"})]})})})]})})]})}var Jh=t=>t.type==="checkbox",ka=t=>t instanceof Date,In=t=>t==null;const wO=t=>typeof t=="object";var Ot=t=>!In(t)&&!Array.isArray(t)&&wO(t)&&!ka(t),EW=t=>Ot(t)&&t.target?Jh(t.target)?t.target.checked:t.target.value:t,NW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,SW=(t,e)=>t.has(NW(e)),TW=t=>{const e=t.constructor&&t.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},U1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(U1&&(t instanceof Blob||r))&&(n||Ot(t)))if(e=n?[]:{},!n&&!TW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=pn(t[s]));else return t;return e}var ry=t=>Array.isArray(t)?t.filter(Boolean):[],Vt=t=>t===void 0,me=(t,e,n)=>{if(!e||!Ot(t))return n;const r=ry(e.split(/[,[\].]+?/)).reduce((s,i)=>In(s)?s:s[i],t);return Vt(r)||r===t?Vt(t[e])?n:t[e]:r},us=t=>typeof t=="boolean",B1=t=>/^\w*$/.test(t),bO=t=>ry(t.replace(/["|']|\]/g,"").split(/\.|\[/)),it=(t,e,n)=>{let r=-1;const s=B1(e)?[e]:bO(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=Ot(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const WT={BLUR:"blur",FOCUS_OUT:"focusout"},Hr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ys={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ee.createContext(null);var CW=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Hr.all&&(e._proxyFormState[o]=!r||Hr.all),t[o]}});return s};const jW=typeof window<"u"?y.useLayoutEffect:y.useEffect;var xs=t=>typeof t=="string",kW=(t,e,n,r,s)=>xs(t)?(r&&e.watch.add(t),me(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),me(n,i))):(r&&(e.watchAll=!0),n),z1=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Sd=t=>Array.isArray(t)?t:[t],qT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Yv=t=>In(t)||!wO(t);function Ji(t,e){if(Yv(t)||Yv(e))return t===e;if(ka(t)&&ka(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ka(i)&&ka(o)||Ot(i)&&Ot(o)||Array.isArray(i)&&Array.isArray(o)?!Ji(i,o):i!==o)return!1}}return!0}var Fn=t=>Ot(t)&&!Object.keys(t).length,H1=t=>t.type==="file",Wr=t=>typeof t=="function",Mm=t=>{if(!U1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_O=t=>t.type==="select-multiple",W1=t=>t.type==="radio",IW=t=>W1(t)||Jh(t),G0=t=>Mm(t)&&t.isConnected;function AW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Vt(t)?r++:t[e[r++]];return t}function PW(t){for(const e in t)if(t.hasOwnProperty(e)&&!Vt(t[e]))return!1;return!0}function Ut(t,e){const n=Array.isArray(e)?e:B1(e)?[e]:bO(e),r=n.length===1?t:AW(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ot(r)&&Fn(r)||Array.isArray(r)&&PW(r))&&Ut(t,n.slice(0,-1)),t}var EO=t=>{for(const e in t)if(Wr(t[e]))return!0;return!1};function Vm(t,e={}){const n=Array.isArray(t);if(Ot(t)||n)for(const r in t)Array.isArray(t[r])||Ot(t[r])&&!EO(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Vm(t[r],e[r])):In(t[r])||(e[r]=!0);return e}function NO(t,e,n){const r=Array.isArray(t);if(Ot(t)||r)for(const s in t)Array.isArray(t[s])||Ot(t[s])&&!EO(t[s])?Vt(e)||Yv(n[s])?n[s]=Array.isArray(t[s])?Vm(t[s],[]):{...Vm(t[s])}:NO(t[s],In(e)?{}:e[s],n[s]):n[s]=!Ji(t[s],e[s]);return n}var Uu=(t,e)=>NO(t,e,Vm(e));const KT={value:!1,isValid:!1},GT={value:!0,isValid:!0};var SO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Vt(t[0].attributes.value)?Vt(t[0].value)||t[0].value===""?GT:{value:t[0].value,isValid:!0}:GT:KT}return KT},TO=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Vt(t)?t:e?t===""?NaN:t&&+t:n&&xs(t)?new Date(t):r?r(t):t;const YT={isValid:!1,value:null};var CO=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,YT):YT;function QT(t){const e=t.ref;return H1(e)?e.files:W1(e)?CO(t.refs).value:_O(e)?[...e.selectedOptions].map(({value:n})=>n):Jh(e)?SO(t.refs).value:TO(Vt(e.value)?t.ref.value:e.value,t)}var RW=(t,e,n,r)=>{const s={};for(const i of t){const o=me(e,i);o&&it(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Fm=t=>t instanceof RegExp,Bu=t=>Vt(t)?t:Fm(t)?t.source:Ot(t)?Fm(t.value)?t.value.source:t.value:t,ZT=t=>({isOnSubmit:!t||t===Hr.onSubmit,isOnBlur:t===Hr.onBlur,isOnChange:t===Hr.onChange,isOnAll:t===Hr.all,isOnTouch:t===Hr.onTouched});const XT="AsyncFunction";var OW=t=>!!t&&!!t.validate&&!!(Wr(t.validate)&&t.validate.constructor.name===XT||Ot(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===XT)),DW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),JT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Td=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=me(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Td(l,e))break}else if(Ot(l)&&Td(l,e))break}}};function e2(t,e,n){const r=me(t,n);if(r||B1(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=me(e,i),l=me(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var LW=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Fn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Hr.all))},MW=(t,e,n)=>!t||!e||t===e||Sd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),VW=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,FW=(t,e)=>!ry(me(t,e)).length&&Ut(t,e),$W=(t,e,n)=>{const r=Sd(me(t,n));return it(r,"root",e[n]),it(t,n,r),t},Fp=t=>xs(t);function t2(t,e,n="validate"){if(Fp(t)||Array.isArray(t)&&t.every(Fp)||us(t)&&!t)return{type:n,message:Fp(t)?t:"",ref:e}}var Il=t=>Ot(t)&&!Fm(t)?t:{value:t,message:""},n2=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:m,validate:x,name:w,valueAsNumber:S,mount:_}=t._f,v=me(n,w);if(!_||e.has(w))return{};const T=l?l[0]:o,k=L=>{s&&T.reportValidity&&(T.setCustomValidity(us(L)?"":L||""),T.reportValidity())},P={},O=W1(o),N=Jh(o),E=O||N,j=(S||H1(o))&&Vt(o.value)&&Vt(v)||Mm(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,R=z1.bind(null,w,r,P),D=(L,I,te,_e=Ys.maxLength,Ie=Ys.minLength)=>{const Ce=L?I:te;P[w]={type:L?_e:Ie,message:Ce,ref:o,...R(L?_e:Ie,Ce)}};if(i?!Array.isArray(v)||!v.length:c&&(!E&&(j||In(v))||us(v)&&!v||N&&!SO(l).isValid||O&&!CO(l).isValid)){const{value:L,message:I}=Fp(c)?{value:!!c,message:c}:Il(c);if(L&&(P[w]={type:Ys.required,message:I,ref:T,...R(Ys.required,I)},!r))return k(I),P}if(!j&&(!In(h)||!In(p))){let L,I;const te=Il(p),_e=Il(h);if(!In(v)&&!isNaN(v)){const Ie=o.valueAsNumber||v&&+v;In(te.value)||(L=Ie>te.value),In(_e.value)||(I=Ie<_e.value)}else{const Ie=o.valueAsDate||new Date(v),Ce=pe=>new Date(new Date().toDateString()+" "+pe),K=o.type=="time",oe=o.type=="week";xs(te.value)&&v&&(L=K?Ce(v)>Ce(te.value):oe?v>te.value:Ie>new Date(te.value)),xs(_e.value)&&v&&(I=K?Ce(v)<Ce(_e.value):oe?v<_e.value:Ie<new Date(_e.value))}if((L||I)&&(D(!!L,te.message,_e.message,Ys.max,Ys.min),!r))return k(P[w].message),P}if((u||d)&&!j&&(xs(v)||i&&Array.isArray(v))){const L=Il(u),I=Il(d),te=!In(L.value)&&v.length>+L.value,_e=!In(I.value)&&v.length<+I.value;if((te||_e)&&(D(te,L.message,I.message),!r))return k(P[w].message),P}if(m&&!j&&xs(v)){const{value:L,message:I}=Il(m);if(Fm(L)&&!v.match(L)&&(P[w]={type:Ys.pattern,message:I,ref:o,...R(Ys.pattern,I)},!r))return k(I),P}if(x){if(Wr(x)){const L=await x(v,n),I=t2(L,T);if(I&&(P[w]={...I,...R(Ys.validate,I.message)},!r))return k(I.message),P}else if(Ot(x)){let L={};for(const I in x){if(!Fn(L)&&!r)break;const te=t2(await x[I](v,n),T,I);te&&(L={...te,...R(I,te.message)},k(te.message),r&&(P[w]=L))}if(!Fn(L)&&(P[w]={ref:T,...L},!r))return P}}return k(!0),P};const UW={mode:Hr.onSubmit,reValidateMode:Hr.onChange,shouldFocusError:!0};function BW(t={}){let e={...UW,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Ot(e.defaultValues)||Ot(e.values)?pn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:pn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:qT(),state:qT()},m=e.criteriaMode===Hr.all,x=M=>F=>{clearTimeout(u),u=setTimeout(M,F)},w=async M=>{if(!e.disabled&&(d.isValid||h.isValid||M)){const F=e.resolver?Fn((await N()).errors):await j(r,!0);F!==n.isValid&&p.state.next({isValid:F})}},S=(M,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((M||Array.from(l.mount)).forEach(z=>{z&&(F?it(n.validatingFields,z,F):Ut(n.validatingFields,z))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Fn(n.validatingFields)}))},_=(M,F=[],z,se,J=!0,Q=!0)=>{if(se&&z&&!e.disabled){if(o.action=!0,Q&&Array.isArray(me(r,M))){const ie=z(me(r,M),se.argA,se.argB);J&&it(r,M,ie)}if(Q&&Array.isArray(me(n.errors,M))){const ie=z(me(n.errors,M),se.argA,se.argB);J&&it(n.errors,M,ie),FW(n.errors,M)}if((d.touchedFields||h.touchedFields)&&Q&&Array.isArray(me(n.touchedFields,M))){const ie=z(me(n.touchedFields,M),se.argA,se.argB);J&&it(n.touchedFields,M,ie)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Uu(s,i)),p.state.next({name:M,isDirty:D(M,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else it(i,M,F)},v=(M,F)=>{it(n.errors,M,F),p.state.next({errors:n.errors})},T=M=>{n.errors=M,p.state.next({errors:n.errors,isValid:!1})},k=(M,F,z,se)=>{const J=me(r,M);if(J){const Q=me(i,M,Vt(z)?me(s,M):z);Vt(Q)||se&&se.defaultChecked||F?it(i,M,F?Q:QT(J._f)):te(M,Q),o.mount&&w()}},P=(M,F,z,se,J)=>{let Q=!1,ie=!1;const Te={name:M};if(!e.disabled){if(!z||se){(d.isDirty||h.isDirty)&&(ie=n.isDirty,n.isDirty=Te.isDirty=D(),Q=ie!==Te.isDirty);const qe=Ji(me(s,M),F);ie=!!me(n.dirtyFields,M),qe?Ut(n.dirtyFields,M):it(n.dirtyFields,M,!0),Te.dirtyFields=n.dirtyFields,Q=Q||(d.dirtyFields||h.dirtyFields)&&ie!==!qe}if(z){const qe=me(n.touchedFields,M);qe||(it(n.touchedFields,M,z),Te.touchedFields=n.touchedFields,Q=Q||(d.touchedFields||h.touchedFields)&&qe!==z)}Q&&J&&p.state.next(Te)}return Q?Te:{}},O=(M,F,z,se)=>{const J=me(n.errors,M),Q=(d.isValid||h.isValid)&&us(F)&&n.isValid!==F;if(e.delayError&&z?(c=x(()=>v(M,z)),c(e.delayError)):(clearTimeout(u),c=null,z?it(n.errors,M,z):Ut(n.errors,M)),(z?!Ji(J,z):J)||!Fn(se)||Q){const ie={...se,...Q&&us(F)?{isValid:F}:{},errors:n.errors,name:M};n={...n,...ie},p.state.next(ie)}},N=async M=>{S(M,!0);const F=await e.resolver(i,e.context,RW(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(M),F},E=async M=>{const{errors:F}=await N(M);if(M)for(const z of M){const se=me(F,z);se?it(n.errors,z,se):Ut(n.errors,z)}else n.errors=F;return F},j=async(M,F,z={valid:!0})=>{for(const se in M){const J=M[se];if(J){const{_f:Q,...ie}=J;if(Q){const Te=l.array.has(Q.name),qe=J._f&&OW(J._f);qe&&d.validatingFields&&S([se],!0);const qt=await n2(J,l.disabled,i,m,e.shouldUseNativeValidation&&!F,Te);if(qe&&d.validatingFields&&S([se]),qt[Q.name]&&(z.valid=!1,F))break;!F&&(me(qt,Q.name)?Te?$W(n.errors,qt,Q.name):it(n.errors,Q.name,qt[Q.name]):Ut(n.errors,Q.name))}!Fn(ie)&&await j(ie,F,z)}}return z.valid},R=()=>{for(const M of l.unMount){const F=me(r,M);F&&(F._f.refs?F._f.refs.every(z=>!G0(z)):!G0(F._f.ref))&&ut(M)}l.unMount=new Set},D=(M,F)=>!e.disabled&&(M&&F&&it(i,M,F),!Ji(pe(),s)),L=(M,F,z)=>kW(M,l,{...o.mount?i:Vt(F)?s:xs(M)?{[M]:F}:F},z,F),I=M=>ry(me(o.mount?i:s,M,e.shouldUnregister?me(s,M,[]):[])),te=(M,F,z={})=>{const se=me(r,M);let J=F;if(se){const Q=se._f;Q&&(!Q.disabled&&it(i,M,TO(F,Q)),J=Mm(Q.ref)&&In(F)?"":F,_O(Q.ref)?[...Q.ref.options].forEach(ie=>ie.selected=J.includes(ie.value)):Q.refs?Jh(Q.ref)?Q.refs.forEach(ie=>{(!ie.defaultChecked||!ie.disabled)&&(Array.isArray(J)?ie.checked=!!J.find(Te=>Te===ie.value):ie.checked=J===ie.value||!!J)}):Q.refs.forEach(ie=>ie.checked=ie.value===J):H1(Q.ref)?Q.ref.value="":(Q.ref.value=J,Q.ref.type||p.state.next({name:M,values:pn(i)})))}(z.shouldDirty||z.shouldTouch)&&P(M,J,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&oe(M)},_e=(M,F,z)=>{for(const se in F){if(!F.hasOwnProperty(se))return;const J=F[se],Q=M+"."+se,ie=me(r,Q);(l.array.has(M)||Ot(J)||ie&&!ie._f)&&!ka(J)?_e(Q,J,z):te(Q,J,z)}},Ie=(M,F,z={})=>{const se=me(r,M),J=l.array.has(M),Q=pn(F);it(i,M,Q),J?(p.array.next({name:M,values:pn(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&z.shouldDirty&&p.state.next({name:M,dirtyFields:Uu(s,i),isDirty:D(M,Q)})):se&&!se._f&&!In(Q)?_e(M,Q,z):te(M,Q,z),JT(M,l)&&p.state.next({...n}),p.state.next({name:o.mount?M:void 0,values:pn(i)})},Ce=async M=>{o.mount=!0;const F=M.target;let z=F.name,se=!0;const J=me(r,z),Q=qe=>{se=Number.isNaN(qe)||ka(qe)&&isNaN(qe.getTime())||Ji(qe,me(i,z,qe))},ie=ZT(e.mode),Te=ZT(e.reValidateMode);if(J){let qe,qt;const $s=F.type?QT(J._f):EW(M),yr=M.type===WT.BLUR||M.type===WT.FOCUS_OUT,ss=!DW(J._f)&&!e.resolver&&!me(n.errors,z)&&!J._f.deps||VW(yr,me(n.touchedFields,z),n.isSubmitted,Te,ie),Us=JT(z,l,yr);it(i,z,$s),yr?(J._f.onBlur&&J._f.onBlur(M),c&&c(0)):J._f.onChange&&J._f.onChange(M);const Bs=P(z,$s,yr),Di=!Fn(Bs)||Us;if(!yr&&p.state.next({name:z,type:M.type,values:pn(i)}),ss)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?yr&&w():yr||w()),Di&&p.state.next({name:z,...Us?{}:Bs});if(!yr&&Us&&p.state.next({...n}),e.resolver){const{errors:ra}=await N([z]);if(Q($s),se){const yl=e2(n.errors,r,z),Li=e2(ra,r,yl.name||z);qe=Li.error,z=Li.name,qt=Fn(ra)}}else S([z],!0),qe=(await n2(J,l.disabled,i,m,e.shouldUseNativeValidation))[z],S([z]),Q($s),se&&(qe?qt=!1:(d.isValid||h.isValid)&&(qt=await j(r,!0)));se&&(J._f.deps&&oe(J._f.deps),O(z,qt,qe,Bs))}},K=(M,F)=>{if(me(n.errors,F)&&M.focus)return M.focus(),1},oe=async(M,F={})=>{let z,se;const J=Sd(M);if(e.resolver){const Q=await E(Vt(M)?M:J);z=Fn(Q),se=M?!J.some(ie=>me(Q,ie)):z}else M?(se=(await Promise.all(J.map(async Q=>{const ie=me(r,Q);return await j(ie&&ie._f?{[Q]:ie}:ie)}))).every(Boolean),!(!se&&!n.isValid)&&w()):se=z=await j(r);return p.state.next({...!xs(M)||(d.isValid||h.isValid)&&z!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:z}:{},errors:n.errors}),F.shouldFocus&&!se&&Td(r,K,M?J:l.mount),se},pe=M=>{const F={...o.mount?i:s};return Vt(M)?F:xs(M)?me(F,M):M.map(z=>me(F,z))},Me=(M,F)=>({invalid:!!me((F||n).errors,M),isDirty:!!me((F||n).dirtyFields,M),error:me((F||n).errors,M),isValidating:!!me(n.validatingFields,M),isTouched:!!me((F||n).touchedFields,M)}),Ve=M=>{M&&Sd(M).forEach(F=>Ut(n.errors,F)),p.state.next({errors:M?n.errors:{}})},G=(M,F,z)=>{const se=(me(r,M,{_f:{}})._f||{}).ref,J=me(n.errors,M)||{},{ref:Q,message:ie,type:Te,...qe}=J;it(n.errors,M,{...qe,...F,ref:se}),p.state.next({name:M,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&se&&se.focus&&se.focus()},$=(M,F)=>Wr(M)?p.state.subscribe({next:z=>M(L(void 0,F),z)}):L(M,F,!0),Z=M=>p.state.subscribe({next:F=>{MW(M.name,F.name,M.exact)&&LW(F,M.formState||d,gl,M.reRenderRoot)&&M.callback({values:{...i},...n,...F})}}).unsubscribe,We=M=>(o.mount=!0,h={...h,...M.formState},Z({...M,formState:h})),ut=(M,F={})=>{for(const z of M?Sd(M):l.mount)l.mount.delete(z),l.array.delete(z),F.keepValue||(Ut(r,z),Ut(i,z)),!F.keepError&&Ut(n.errors,z),!F.keepDirty&&Ut(n.dirtyFields,z),!F.keepTouched&&Ut(n.touchedFields,z),!F.keepIsValidating&&Ut(n.validatingFields,z),!e.shouldUnregister&&!F.keepDefaultValue&&Ut(s,z);p.state.next({values:pn(i)}),p.state.next({...n,...F.keepDirty?{isDirty:D()}:{}}),!F.keepIsValid&&w()},Ln=({disabled:M,name:F})=>{(us(M)&&o.mount||M||l.disabled.has(F))&&(M?l.disabled.add(F):l.disabled.delete(F))},Zn=(M,F={})=>{let z=me(r,M);const se=us(F.disabled)||us(e.disabled);return it(r,M,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:M}},name:M,mount:!0,...F}}),l.mount.add(M),z?Ln({disabled:us(F.disabled)?F.disabled:e.disabled,name:M}):k(M,!0,F.value),{...se?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Bu(F.min),max:Bu(F.max),minLength:Bu(F.minLength),maxLength:Bu(F.maxLength),pattern:Bu(F.pattern)}:{},name:M,onChange:Ce,onBlur:Ce,ref:J=>{if(J){Zn(M,F),z=me(r,M);const Q=Vt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,ie=IW(Q),Te=z._f.refs||[];if(ie?Te.find(qe=>qe===Q):Q===z._f.ref)return;it(r,M,{_f:{...z._f,...ie?{refs:[...Te.filter(G0),Q,...Array.isArray(me(s,M))?[{}]:[]],ref:{type:Q.type,name:M}}:{ref:Q}}}),k(M,!1,void 0,Q)}else z=me(r,M,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(SW(l.array,M)&&o.action)&&l.unMount.add(M)}}},Mn=()=>e.shouldFocusError&&Td(r,K,l.mount),Je=M=>{us(M)&&(p.state.next({disabled:M}),Td(r,(F,z)=>{const se=me(r,z);se&&(F.disabled=se._f.disabled||M,Array.isArray(se._f.refs)&&se._f.refs.forEach(J=>{J.disabled=se._f.disabled||M}))},0,!1))},Ct=(M,F)=>async z=>{let se;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let J=pn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:ie}=await N();n.errors=Q,J=ie}else await j(r);if(l.disabled.size)for(const Q of l.disabled)it(J,Q,void 0);if(Ut(n.errors,"root"),Fn(n.errors)){p.state.next({errors:{}});try{await M(J,z)}catch(Q){se=Q}}else F&&await F({...n.errors},z),Mn(),setTimeout(Mn);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fn(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},jt=(M,F={})=>{me(r,M)&&(Vt(F.defaultValue)?Ie(M,pn(me(s,M))):(Ie(M,F.defaultValue),it(s,M,pn(F.defaultValue))),F.keepTouched||Ut(n.touchedFields,M),F.keepDirty||(Ut(n.dirtyFields,M),n.isDirty=F.defaultValue?D(M,pn(me(s,M))):D()),F.keepError||(Ut(n.errors,M),d.isValid&&w()),p.state.next({...n}))},ln=(M,F={})=>{const z=M?pn(M):s,se=pn(z),J=Fn(M),Q=J?s:se;if(F.keepDefaultValues||(s=z),!F.keepValues){if(F.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(Uu(s,i))]);for(const Te of Array.from(ie))me(n.dirtyFields,Te)?it(Q,Te,me(i,Te)):Ie(Te,me(Q,Te))}else{if(U1&&Vt(M))for(const ie of l.mount){const Te=me(r,ie);if(Te&&Te._f){const qe=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(Mm(qe)){const qt=qe.closest("form");if(qt){qt.reset();break}}}}for(const ie of l.mount)Ie(ie,me(Q,ie))}i=pn(Q),p.array.next({values:{...Q}}),p.state.next({values:{...Q}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:J?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Ji(M,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Uu(s,i):n.dirtyFields:F.keepDefaultValues&&M?Uu(s,M):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Vs=(M,F)=>ln(Wr(M)?M(i):M,F),Fs=(M,F={})=>{const z=me(r,M),se=z&&z._f;if(se){const J=se.refs?se.refs[0]:se.ref;J.focus&&(J.focus(),F.shouldSelect&&Wr(J.select)&&J.select())}},gl=M=>{n={...n,...M}},Oi={control:{register:Zn,unregister:ut,getFieldState:Me,handleSubmit:Ct,setError:G,_subscribe:Z,_runSchema:N,_focusError:Mn,_getWatch:L,_getDirty:D,_setValid:w,_setFieldArray:_,_setDisabledField:Ln,_setErrors:T,_getFieldArray:I,_reset:ln,_resetDefaultValues:()=>Wr(e.defaultValues)&&e.defaultValues().then(M=>{Vs(M,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Je,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:We,trigger:oe,register:Zn,handleSubmit:Ct,watch:$,setValue:Ie,getValues:pe,reset:Vs,resetField:jt,clearErrors:Ve,unregister:ut,setError:G,setFocus:Fs,getFieldState:Me};return{...Oi,formControl:Oi}}function q1(t={}){const e=ee.useRef(void 0),n=ee.useRef(void 0),[r,s]=ee.useState({isDirty:!1,isValidating:!1,isLoading:Wr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:BW(t),formState:r},t.formControl&&t.defaultValues&&!Wr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,jW(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ee.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ee.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ee.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ee.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ee.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ee.useEffect(()=>{t.values&&!Ji(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),ee.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=CW(r,i),e.current}const r2=(t,e,n)=>{if(t&&"reportValidity"in t){const r=me(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Qv=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?r2(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>r2(s,n,t))}},s2=(t,e)=>{e.shouldUseNativeValidation&&Qv(t,e);const n={};for(const r in t){const s=me(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(zW(e.names||Object.keys(t),r)){const o=Object.assign({},me(n,r));it(o,"root",i),it(n,r,o)}else it(n,r,i)}return n},zW=(t,e)=>{const n=i2(e);return t.some(r=>i2(r).match(`^${n}\\.\\d+`))};function i2(t){return t.replace(/\]|\[/g,"")}function jO(t,e,n){function r(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(t),e(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(l){var c;const u=n!=null&&n.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class HW extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const WW={};function kO(t){return WW}function qW(t,e){return typeof e=="bigint"?e.toString():e}function ap(t){return typeof t=="string"?t:t==null?void 0:t.message}function IO(t,e,n){var s,i,o,l,c,u;const r={...t,path:t.path??[]};if(!t.message){const d=ap((o=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??ap((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??ap((c=n.customError)==null?void 0:c.call(n,t))??ap((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const AO=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,qW,2)},enumerable:!0})},KW=jO("$ZodError",AO),PO=jO("$ZodError",AO,{Parent:Error}),GW=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new HW;if(o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>IO(c,i,kO())));throw Error.captureStackTrace(l,s==null?void 0:s.callee),l}return o.value},YW=GW(PO),QW=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>IO(c,i,kO())));throw Error.captureStackTrace(l,s==null?void 0:s.callee),l}return o.value},ZW=QW(PO);function o2(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function XW(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=z1(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function JW(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if(r.code==="invalid_union"){var l=r.errors[0][0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(d){return d.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=z1(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function K1(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,i){try{return Promise.resolve(o2(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(o){return i.shouldUseNativeValidation&&Qv({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:s2(XW(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,i){try{return Promise.resolve(o2(function(){return Promise.resolve((n.mode==="sync"?YW:ZW)(t,r,e)).then(function(o){return i.shouldUseNativeValidation&&Qv({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return l instanceof KW}(o))return{values:{},errors:s2(JW(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}let eq={data:""},tq=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||eq,nq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rq=/\/\*[^]*?\*\/|  +/g,a2=/\n+/g,eo=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?eo(o,i):i+"{"+eo(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=eo(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=eo.p?eo.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Qs={},RO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+RO(t[n]);return e}return t},sq=(t,e,n,r,s)=>{let i=RO(t),o=Qs[i]||(Qs[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Qs[o]){let c=i!==t?t:(u=>{let d,h,p=[{}];for(;d=nq.exec(u.replace(rq,""));)d[4]?p.shift():d[3]?(h=d[3].replace(a2," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(a2," ").trim();return p[0]})(t);Qs[o]=eo(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Qs.g?Qs.g:null;return n&&(Qs.g=Qs[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Qs[o],e,r,l),o},iq=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":eo(l,""):l===!1?"":l}return r+s+(o??"")},"");function sy(t){let e=this||{},n=t.call?t(e.p):t;return sq(n.unshift?n.raw?iq(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,tq(e.target),e.g,e.o,e.k)}let OO,Zv,Xv;sy.bind({g:1});let bi=sy.bind({k:1});function oq(t,e,n,r){eo.p=e,OO=t,Zv=n,Xv=r}function Qo(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:Zv&&Zv()},l),n.o=/ *go\d+/.test(c),l.className=sy.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Xv&&u[0]&&Xv(l),OO(u,l)}return s}}var aq=t=>typeof t=="function",$m=(t,e)=>aq(t)?t(e):t,lq=(()=>{let t=0;return()=>(++t).toString()})(),DO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),cq=20,LO=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,cq)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return LO(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},$p=[],Ia={toasts:[],pausedAt:void 0},cl=t=>{Ia=LO(Ia,t),$p.forEach(e=>{e(Ia)})},uq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dq=(t={})=>{let[e,n]=y.useState(Ia),r=y.useRef(Ia);y.useEffect(()=>(r.current!==Ia&&n(Ia),$p.push(n),()=>{let i=$p.indexOf(n);i>-1&&$p.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||uq[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},hq=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||lq()}),ef=t=>(e,n)=>{let r=hq(e,t,n);return cl({type:2,toast:r}),r.id},He=(t,e)=>ef("blank")(t,e);He.error=ef("error");He.success=ef("success");He.loading=ef("loading");He.custom=ef("custom");He.dismiss=t=>{cl({type:3,toastId:t})};He.remove=t=>cl({type:4,toastId:t});He.promise=(t,e,n)=>{let r=He.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?$m(e.success,s):void 0;return i?He.success(i,{id:r,...n,...n==null?void 0:n.success}):He.dismiss(r),s}).catch(s=>{let i=e.error?$m(e.error,s):void 0;i?He.error(i,{id:r,...n,...n==null?void 0:n.error}):He.dismiss(r)}),t};var fq=(t,e)=>{cl({type:1,toast:{id:t,height:e}})},pq=()=>{cl({type:5,time:Date.now()})},Cd=new Map,mq=1e3,gq=(t,e=mq)=>{if(Cd.has(t))return;let n=setTimeout(()=>{Cd.delete(t),cl({type:4,toastId:t})},e);Cd.set(t,n)},yq=t=>{let{toasts:e,pausedAt:n}=dq(t);y.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&He.dismiss(l.id);return}return setTimeout(()=>He.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=y.useCallback(()=>{n&&cl({type:6,time:Date.now()})},[n]),s=y.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(m=>(m.position||u)===(i.position||u)&&m.height),h=d.findIndex(m=>m.id===i.id),p=d.filter((m,x)=>x<h&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[p+1]:[0,p]).reduce((m,x)=>m+(x.height||0)+c,0)},[e]);return y.useEffect(()=>{e.forEach(i=>{if(i.dismissed)gq(i.id,i.removeDelay);else{let o=Cd.get(i.id);o&&(clearTimeout(o),Cd.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:fq,startPause:pq,endPause:r,calculateOffset:s}}},xq=bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vq=bi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wq=bi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bq=Qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_q=bi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Eq=Qo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_q} 1s linear infinite;
`,Nq=bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sq=bi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Tq=Qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Cq=Qo("div")`
  position: absolute;
`,jq=Qo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kq=bi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iq=Qo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Aq=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?y.createElement(Iq,null,e):e:n==="blank"?null:y.createElement(jq,null,y.createElement(Eq,{...r}),n!=="loading"&&y.createElement(Cq,null,n==="error"?y.createElement(bq,{...r}):y.createElement(Tq,{...r})))},Pq=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rq=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Oq="0%{opacity:0;} 100%{opacity:1;}",Dq="0%{opacity:1;} 100%{opacity:0;}",Lq=Qo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Mq=Qo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Vq=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=DO()?[Oq,Dq]:[Pq(n),Rq(n)];return{animation:e?`${bi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Fq=y.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Vq(t.position||e||"top-center",t.visible):{opacity:0},i=y.createElement(Aq,{toast:t}),o=y.createElement(Mq,{...t.ariaProps},$m(t.message,t));return y.createElement(Lq,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):y.createElement(y.Fragment,null,i,o))});oq(y.createElement);var $q=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=y.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return y.createElement("div",{ref:i,className:e,style:n},s)},Uq=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Bq=sy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,lp=16,MO=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=yq(n);return y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:lp,left:lp,right:lp,bottom:lp,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=Uq(d,h);return y.createElement($q,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Bq:"",style:p},u.type==="custom"?$m(u.message,u):s?s(u):y.createElement(Fq,{toast:u,position:d}))}))},Pt=He;const l2=y.forwardRef(({label:t,error:e,showPasswordToggle:n,isPassword:r,onTogglePassword:s,className:i="",...o},l)=>{const d=`appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${e?"border-red-300 text-red-900 placeholder-red-300":"border-gray-300"} ${i}`;return a.jsxs("div",{children:[a.jsx("label",{htmlFor:o.id,className:"block text-sm font-medium text-gray-700",children:t}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{...o,ref:l,className:d,"aria-invalid":e?"true":"false","aria-describedby":e?`${o.id}-error`:void 0}),r&&n!==void 0&&a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:s,children:n?a.jsx(L1,{className:"h-5 w-5 text-gray-400"}):a.jsx(Pi,{className:"h-5 w-5 text-gray-400"})})]}),e&&a.jsx("p",{className:"mt-2 text-sm text-red-600",id:`${o.id}-error`,role:"alert",children:e.message})]})}),zq=({size:t="md",className:e=""})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:`flex items-center justify-center ${e}`,children:a.jsx("div",{className:`animate-spin rounded-full border-b-2 border-indigo-600 ${n[t]}`,role:"status","aria-label":"Loading",children:a.jsx("span",{className:"sr-only",children:"Loading..."})})})};var Xe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Xe||(Xe={}));var c2;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(c2||(c2={}));const xe=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gi=t=>{switch(typeof t){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(t)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(t)?xe.array:t===null?xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xe.promise:typeof Map<"u"&&t instanceof Map?xe.map:typeof Set<"u"&&t instanceof Set?xe.set:typeof Date<"u"&&t instanceof Date?xe.date:xe.object;default:return xe.unknown}},X=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof _i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_i.create=t=>new _i(t);const Jv=(t,e)=>{let n;switch(t.code){case X.invalid_type:t.received===xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Xe.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xe.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xe.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${Xe.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Xe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=e.defaultError,Xe.assertNever(t)}return{message:n}};let Hq=Jv;function Wq(){return Hq}const qq=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function le(t,e){const n=Wq(),r=qq({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Jv?void 0:Jv].filter(s=>!!s)});t.common.issues.push(r)}class dr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ae;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return dr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ae;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ae=Object.freeze({status:"aborted"}),sd=t=>({status:"dirty",value:t}),Ir=t=>({status:"valid",value:t}),u2=t=>t.status==="aborted",d2=t=>t.status==="dirty",Ac=t=>t.status==="valid",Um=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class Oo{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const h2=(t,e)=>{if(Ac(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _i(t.common.issues);return this._error=n,this._error}}};function $e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class Qe{get description(){return this._def.description}_getType(e){return Gi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new dr,ctx:{common:e.parent.common,data:e.data,parsedType:Gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Um(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gi(e)},s=this._parseSync({data:e,path:r.path,parent:r});return h2(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ac(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ac(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Um(s)?s:Promise.resolve(s));return h2(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:X.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Rc({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return bo.create(this,this._def)}nullable(){return Oc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cs.create(this)}promise(){return Wm.create(this,this._def)}or(e){return zm.create([this,e],this._def)}and(e){return Hm.create(this,e,this._def)}transform(e){return new Rc({...$e(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new tw({...$e(this._def),innerType:this,defaultValue:n,typeName:Pe.ZodDefault})}brand(){return new mK({typeName:Pe.ZodBranded,type:this,...$e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new nw({...$e(this._def),innerType:this,catchValue:n,typeName:Pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return G1.create(this,e)}readonly(){return rw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kq=/^c[^\s-]{8,}$/i,Gq=/^[0-9a-z]+$/,Yq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zq=/^[a-z0-9_-]{21}$/i,Xq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Y0;const nK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lK=new RegExp(`^${VO}$`);function FO(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function cK(t){return new RegExp(`^${FO(t)}$`)}function uK(t){let e=`${VO}T${FO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function dK(t,e){return!!((e==="v4"||!e)&&nK.test(t)||(e==="v6"||!e)&&sK.test(t))}function hK(t,e){if(!Xq.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function fK(t,e){return!!((e==="v4"||!e)&&rK.test(t)||(e==="v6"||!e)&&iK.test(t))}class co extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const i=this._getOrReturnCtx(e);return le(i,{code:X.invalid_type,expected:xe.string,received:i.parsedType}),Ae}const r=new dr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?le(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&le(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")eK.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Y0||(Y0=new RegExp(tK,"u")),Y0.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Qq.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Zq.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Kq.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Gq.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Yq.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:X.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:X.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?uK(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?lK.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?cK(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Jq.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?dK(e.data,i.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?hK(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"jwt",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?fK(e.data,i.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cidr",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?oK.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:X.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?aK.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64url",code:X.invalid_string,message:i.message}),r.dirty()):Xe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:X.invalid_string,...ve.errToObj(r)})}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new co({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new co({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new co({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}co.create=t=>new co({checks:[],typeName:Pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});function pK(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class mh extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const i=this._getOrReturnCtx(e);return le(i,{code:X.invalid_type,expected:xe.number,received:i.parsedType}),Ae}let r;const s=new dr;for(const i of this._def.checks)i.kind==="int"?Xe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:X.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:X.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:X.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?pK(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),le(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:X.not_finite,message:i.message}),s.dirty()):Xe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new mh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new mh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Xe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}mh.create=t=>new mh({checks:[],typeName:Pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class gh extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let r;const s=new dr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:X.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:X.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),le(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Xe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:xe.bigint,received:n.parsedType}),Ae}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new gh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new gh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gh.create=t=>new gh({checks:[],typeName:Pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});class f2 extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:xe.boolean,received:r.parsedType}),Ae}return Ir(e.data)}}f2.create=t=>new f2({typeName:Pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class Bm extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const i=this._getOrReturnCtx(e);return le(i,{code:X.invalid_type,expected:xe.date,received:i.parsedType}),Ae}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return le(i,{code:X.invalid_date}),Ae}const r=new dr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Xe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bm.create=t=>new Bm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Pe.ZodDate,...$e(t)});class p2 extends Qe{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:xe.symbol,received:r.parsedType}),Ae}return Ir(e.data)}}p2.create=t=>new p2({typeName:Pe.ZodSymbol,...$e(t)});class m2 extends Qe{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:xe.undefined,received:r.parsedType}),Ae}return Ir(e.data)}}m2.create=t=>new m2({typeName:Pe.ZodUndefined,...$e(t)});class g2 extends Qe{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:xe.null,received:r.parsedType}),Ae}return Ir(e.data)}}g2.create=t=>new g2({typeName:Pe.ZodNull,...$e(t)});class y2 extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return Ir(e.data)}}y2.create=t=>new y2({typeName:Pe.ZodAny,...$e(t)});class x2 extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ir(e.data)}}x2.create=t=>new x2({typeName:Pe.ZodUnknown,...$e(t)});class Do extends Qe{_parse(e){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:xe.never,received:n.parsedType}),Ae}}Do.create=t=>new Do({typeName:Pe.ZodNever,...$e(t)});class v2 extends Qe{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:xe.void,received:r.parsedType}),Ae}return Ir(e.data)}}v2.create=t=>new v2({typeName:Pe.ZodVoid,...$e(t)});class Cs extends Qe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==xe.array)return le(n,{code:X.invalid_type,expected:xe.array,received:n.parsedType}),Ae;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(le(n,{code:o?X.too_big:X.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(le(n,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(le(n,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Oo(n,o,n.path,l)))).then(o=>dr.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new Oo(n,o,n.path,l)));return dr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Cs({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new Cs({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new Cs({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}Cs.create=(t,e)=>new Cs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...$e(e)});function Rl(t){if(t instanceof Mt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=bo.create(Rl(r))}return new Mt({...t._def,shape:()=>e})}else return t instanceof Cs?new Cs({...t._def,type:Rl(t.element)}):t instanceof bo?bo.create(Rl(t.unwrap())):t instanceof Oc?Oc.create(Rl(t.unwrap())):t instanceof Ga?Ga.create(t.items.map(e=>Rl(e))):t}class Mt extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Xe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==xe.object){const u=this._getOrReturnCtx(e);return le(u,{code:X.invalid_type,expected:xe.object,received:u.parsedType}),Ae}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Do&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Oo(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Do){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(le(s,{code:X.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Oo(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>dr.mergeObjectSync(r,u)):dr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new Mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Mt({...this._def,catchall:e})}pick(e){const n={};for(const r of Xe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Mt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Xe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Mt({...this._def,shape:()=>n})}deepPartial(){return Rl(this)}partial(e){const n={};for(const r of Xe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Mt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Xe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof bo;)i=i._def.innerType;n[r]=i}return new Mt({...this._def,shape:()=>n})}keyof(){return $O(Xe.objectKeys(this.shape))}}Mt.create=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strip",catchall:Do.create(),typeName:Pe.ZodObject,...$e(e)});Mt.strictCreate=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strict",catchall:Do.create(),typeName:Pe.ZodObject,...$e(e)});Mt.lazycreate=(t,e)=>new Mt({shape:t,unknownKeys:"strip",catchall:Do.create(),typeName:Pe.ZodObject,...$e(e)});class zm extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new _i(l.ctx.common.issues));return le(n,{code:X.invalid_union,unionErrors:o}),Ae}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new _i(c));return le(n,{code:X.invalid_union,unionErrors:l}),Ae}}get options(){return this._def.options}}zm.create=(t,e)=>new zm({options:t,typeName:Pe.ZodUnion,...$e(e)});function ew(t,e){const n=Gi(t),r=Gi(e);if(t===e)return{valid:!0,data:t};if(n===xe.object&&r===xe.object){const s=Xe.objectKeys(e),i=Xe.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=ew(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===xe.array&&r===xe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=ew(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===xe.date&&r===xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Hm extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(u2(i)||u2(o))return Ae;const l=ew(i.value,o.value);return l.valid?((d2(i)||d2(o))&&n.dirty(),{status:n.value,value:l.data}):(le(r,{code:X.invalid_intersection_types}),Ae)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Hm.create=(t,e,n)=>new Hm({left:t,right:e,typeName:Pe.ZodIntersection,...$e(n)});class Ga extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return le(r,{code:X.invalid_type,expected:xe.array,received:r.parsedType}),Ae;if(r.data.length<this._def.items.length)return le(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&r.data.length>this._def.items.length&&(le(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Oo(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>dr.mergeArray(n,o)):dr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ga({...this._def,rest:e})}}Ga.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ga({items:t,typeName:Pe.ZodTuple,rest:null,...$e(e)})};class w2 extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return le(r,{code:X.invalid_type,expected:xe.map,received:r.parsedType}),Ae;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Oo(r,l,r.path,[u,"key"])),value:i._parse(new Oo(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ae;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ae;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}w2.create=(t,e,n)=>new w2({valueType:e,keyType:t,typeName:Pe.ZodMap,...$e(n)});class yh extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return le(r,{code:X.invalid_type,expected:xe.set,received:r.parsedType}),Ae;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(le(r,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(le(r,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ae;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Oo(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new yh({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new yh({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}yh.create=(t,e)=>new yh({valueType:t,minSize:null,maxSize:null,typeName:Pe.ZodSet,...$e(e)});class b2 extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}b2.create=(t,e)=>new b2({getter:t,typeName:Pe.ZodLazy,...$e(e)});class _2 extends Qe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return le(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}_2.create=(t,e)=>new _2({value:t,typeName:Pe.ZodLiteral,...$e(e)});function $O(t,e){return new Pc({values:t,typeName:Pe.ZodEnum,...$e(e)})}class Pc extends Qe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{expected:Xe.joinValues(r),received:n.parsedType,code:X.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{received:n.data,code:X.invalid_enum_value,options:r}),Ae}return Ir(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Pc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Pc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Pc.create=$O;class E2 extends Qe{_parse(e){const n=Xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const s=Xe.objectValues(n);return le(r,{expected:Xe.joinValues(s),received:r.parsedType,code:X.invalid_type}),Ae}if(this._cache||(this._cache=new Set(Xe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Xe.objectValues(n);return le(r,{received:r.data,code:X.invalid_enum_value,options:s}),Ae}return Ir(e.data)}get enum(){return this._def.values}}E2.create=(t,e)=>new E2({values:t,typeName:Pe.ZodNativeEnum,...$e(e)});class Wm extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.promise&&n.common.async===!1)return le(n,{code:X.invalid_type,expected:xe.promise,received:n.parsedType}),Ae;const r=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return Ir(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Wm.create=(t,e)=>new Wm({type:t,typeName:Pe.ZodPromise,...$e(e)});class Rc extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{le(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ae;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ae:c.status==="dirty"||n.value==="dirty"?sd(c.value):c});{if(n.value==="aborted")return Ae;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ae:l.status==="dirty"||n.value==="dirty"?sd(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ae:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ae:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ac(o))return Ae;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ac(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):Ae);Xe.assertNever(s)}}Rc.create=(t,e,n)=>new Rc({schema:t,typeName:Pe.ZodEffects,effect:e,...$e(n)});Rc.createWithPreprocess=(t,e,n)=>new Rc({schema:e,effect:{type:"preprocess",transform:t},typeName:Pe.ZodEffects,...$e(n)});class bo extends Qe{_parse(e){return this._getType(e)===xe.undefined?Ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bo.create=(t,e)=>new bo({innerType:t,typeName:Pe.ZodOptional,...$e(e)});class Oc extends Qe{_parse(e){return this._getType(e)===xe.null?Ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oc.create=(t,e)=>new Oc({innerType:t,typeName:Pe.ZodNullable,...$e(e)});class tw extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}tw.create=(t,e)=>new tw({innerType:t,typeName:Pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$e(e)});class nw extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Um(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _i(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _i(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nw.create=(t,e)=>new nw({innerType:t,typeName:Pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$e(e)});class N2 extends Qe{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:xe.nan,received:r.parsedType}),Ae}return{status:"valid",value:e.data}}}N2.create=t=>new N2({typeName:Pe.ZodNaN,...$e(t)});class mK extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class G1 extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ae:i.status==="dirty"?(n.dirty(),sd(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ae:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new G1({in:e,out:n,typeName:Pe.ZodPipeline})}}class rw extends Qe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ac(s)&&(s.value=Object.freeze(s.value)),s);return Um(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}rw.create=(t,e)=>new rw({innerType:t,typeName:Pe.ZodReadonly,...$e(e)});var Pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const Ei=co.create;Do.create;Cs.create;const eu=Mt.create;zm.create;Hm.create;Ga.create;Pc.create;Wm.create;bo.create;Oc.create;const gK=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,yK="Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character",Y1=Ei().min(1,"Email is required").email("Invalid email format").max(255,"Email is too long"),UO=Ei().min(1,"Password is required").min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(gK,yK),S2=Ei().min(1,"Name is required").min(2,"Name must be at least 2 characters").max(100,"Name is too long").regex(/^[a-zA-Z\s-']+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),xK=eu({email:Y1,password:Ei().min(1,"Password is required")});eu({firstName:S2,lastName:S2,email:Y1,password:UO,confirmPassword:Ei().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});eu({email:Y1});eu({password:UO,confirmPassword:Ei().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});const vK=()=>{};var T2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new bK;const p=i<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),h!==64){const x=u<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _K=function(t){const e=BO(t);return zO.encodeByteArray(e,!0)},qm=function(t){return _K(t).replace(/\./g,"")},HO=function(t){try{return zO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK=()=>EK().__FIREBASE_DEFAULTS__,SK=()=>{if(typeof process>"u"||typeof T2>"u")return;const t=T2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HO(t[1]);return e&&JSON.parse(e)},iy=()=>{try{return vK()||NK()||SK()||TK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WO=t=>{var e,n;return(n=(e=iy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qO=t=>{const e=WO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KO=()=>{var t;return(t=iy())===null||t===void 0?void 0:t.config},GO=t=>{var e;return(e=iy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){return t.endsWith(".cloudworkstations.dev")}async function Q1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qm(JSON.stringify(n)),qm(JSON.stringify(o)),""].join(".")}const jd={};function jK(){const t={prod:[],emulator:[]};for(const e of Object.keys(jd))jd[e]?t.emulator.push(e):t.prod.push(e);return t}function kK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let C2=!1;function Z1(t,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||jd[t]===e||jd[t]||C2)return;jd[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=jK().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{C2=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=kK(r),m=n("text"),x=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),S=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;l(T),d(S,w);const k=u();c(v,_),T.append(v,x,S,k),document.body.appendChild(T)}i?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function AK(){var t;const e=(t=iy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OK(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DK(){return!AK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZO(){try{return typeof indexedDB=="object"}catch{return!1}}function XO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function LK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK="FirebaseError";class Ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MK,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?VK(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ar(s,l,r)}}function VK(t,e){return t.replace(FK,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const FK=/\{\$([^}]+)}/g;function $K(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(j2(i)&&j2(o)){if(!Lo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function j2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function id(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function od(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UK(t,e){const n=new BK(t,e);return n.subscribe.bind(n)}class BK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zK(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Q0),s.error===void 0&&(s.error=Q0),s.complete===void 0&&(s.complete=Q0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Q0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK=1e3,WK=2,qK=4*60*60*1e3,KK=.5;function k2(t,e=HK,n=WK){const r=e*Math.pow(n,t),s=Math.round(KK*r*(Math.random()-.5)*2);return Math.min(qK,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QK(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YK(t){return t===ma?void 0:t}function QK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const XK={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},JK=Be.INFO,eG={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},tG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=eG[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let oy=class{constructor(e){this.name=e,this._logLevel=JK,this._logHandler=tG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}};const nG=(t,e)=>e.some(n=>t instanceof n);let I2,A2;function rG(){return I2||(I2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sG(){return A2||(A2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JO=new WeakMap,sw=new WeakMap,e4=new WeakMap,Z0=new WeakMap,X1=new WeakMap;function iG(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_o(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JO.set(n,t)}).catch(()=>{}),X1.set(e,t),e}function oG(t){if(sw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});sw.set(t,e)}let iw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aG(t){iw=t(iw)}function lG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(X0(this),e,...n);return e4.set(r,e.sort?e.sort():[e]),_o(r)}:sG().includes(t)?function(...e){return t.apply(X0(this),e),_o(JO.get(this))}:function(...e){return _o(t.apply(X0(this),e))}}function cG(t){return typeof t=="function"?lG(t):(t instanceof IDBTransaction&&oG(t),nG(t,rG())?new Proxy(t,iw):t)}function _o(t){if(t instanceof IDBRequest)return iG(t);if(Z0.has(t))return Z0.get(t);const e=cG(t);return e!==t&&(Z0.set(t,e),X1.set(e,t)),e}const X0=t=>X1.get(t);function t4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=_o(o);return r&&o.addEventListener("upgradeneeded",c=>{r(_o(o.result),c.oldVersion,c.newVersion,_o(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const uG=["get","getKey","getAll","getAllKeys","count"],dG=["put","add","delete","clear"],J0=new Map;function P2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J0.get(e))return J0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uG.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return J0.set(e,i),i}aG(t=>({...t,get:(e,n,r)=>P2(e,n)||t.get(e,n,r),has:(e,n)=>!!P2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ow="@firebase/app",R2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new oy("@firebase/app"),pG="@firebase/app-compat",mG="@firebase/analytics-compat",gG="@firebase/analytics",yG="@firebase/app-check-compat",xG="@firebase/app-check",vG="@firebase/auth",wG="@firebase/auth-compat",bG="@firebase/database",_G="@firebase/data-connect",EG="@firebase/database-compat",NG="@firebase/functions",SG="@firebase/functions-compat",TG="@firebase/installations",CG="@firebase/installations-compat",jG="@firebase/messaging",kG="@firebase/messaging-compat",IG="@firebase/performance",AG="@firebase/performance-compat",PG="@firebase/remote-config",RG="@firebase/remote-config-compat",OG="@firebase/storage",DG="@firebase/storage-compat",LG="@firebase/firestore",MG="@firebase/ai",VG="@firebase/firestore-compat",FG="firebase",$G="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="[DEFAULT]",UG={[ow]:"fire-core",[pG]:"fire-core-compat",[gG]:"fire-analytics",[mG]:"fire-analytics-compat",[xG]:"fire-app-check",[yG]:"fire-app-check-compat",[vG]:"fire-auth",[wG]:"fire-auth-compat",[bG]:"fire-rtdb",[_G]:"fire-data-connect",[EG]:"fire-rtdb-compat",[NG]:"fire-fn",[SG]:"fire-fn-compat",[TG]:"fire-iid",[CG]:"fire-iid-compat",[jG]:"fire-fcm",[kG]:"fire-fcm-compat",[IG]:"fire-perf",[AG]:"fire-perf-compat",[PG]:"fire-rc",[RG]:"fire-rc-compat",[OG]:"fire-gcs",[DG]:"fire-gcs-compat",[LG]:"fire-fst",[VG]:"fire-fst-compat",[MG]:"fire-vertex","fire-js":"fire-js",[FG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Map,BG=new Map,lw=new Map;function O2(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jr(t){const e=t.name;if(lw.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;lw.set(e,t);for(const n of Km.values())O2(n,t);for(const n of BG.values())O2(n,t);return!0}function Zo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new dl("app","Firebase",zG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=$G;function n4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:aw,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Eo.create("bad-app-name",{appName:String(s)});if(n||(n=KO()),!n)throw Eo.create("no-options");const i=Km.get(s);if(i){if(Lo(n,i.options)&&Lo(r,i.config))return i;throw Eo.create("duplicate-app",{appName:s})}const o=new ZK(s);for(const c of lw.values())o.addComponent(c);const l=new HG(n,r,o);return Km.set(s,l),l}function ay(t=aw){const e=Km.get(t);if(!e&&t===aw&&KO())return n4();if(!e)throw Eo.create("no-app",{appName:t});return e}function Gn(t,e,n){var r;let s=(r=UG[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(l.join(" "));return}Jr(new kr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG="firebase-heartbeat-database",qG=1,xh="firebase-heartbeat-store";let ex=null;function r4(){return ex||(ex=t4(WG,qG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),ex}async function KG(t){try{const n=(await r4()).transaction(xh),r=await n.objectStore(xh).get(s4(t));return await n.done,r}catch(e){if(e instanceof Ar)Ni.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function D2(t,e){try{const r=(await r4()).transaction(xh,"readwrite");await r.objectStore(xh).put(e,s4(t)),await r.done}catch(n){if(n instanceof Ar)Ni.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function s4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=1024,YG=30;class QG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=L2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>YG){const o=JG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L2(),{heartbeatsToSend:r,unsentEntries:s}=ZG(this._heartbeatsCache.heartbeats),i=qm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ni.warn(n),""}}}function L2(){return new Date().toISOString().substring(0,10)}function ZG(t,e=GG){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),M2(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),M2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZO()?XO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return D2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return D2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function M2(t){return qm(JSON.stringify({version:2,heartbeats:t})).length}function JG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t){Jr(new kr("platform-logger",e=>new hG(e),"PRIVATE")),Jr(new kr("heartbeat",e=>new QG(e),"PRIVATE")),Gn(ow,R2,t),Gn(ow,R2,"esm2017"),Gn("fire-js","")}eY("");var tY="firebase",nY="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(tY,nY,"app");const i4="@firebase/installations",J1="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=1e4,a4=`w:${J1}`,l4="FIS_v2",rY="https://firebaseinstallations.googleapis.com/v1",sY=60*60*1e3,iY="installations",oY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ya=new dl(iY,oY,aY);function c4(t){return t instanceof Ar&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4({projectId:t}){return`${rY}/projects/${t}/installations`}function d4(t){return{token:t.token,requestStatus:2,expiresIn:cY(t.expiresIn),creationTime:Date.now()}}async function h4(t,e){const r=(await e.json()).error;return Ya.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function f4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lY(t,{refreshToken:e}){const n=f4(t);return n.append("Authorization",uY(e)),n}async function p4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cY(t){return Number(t.replace("s","000"))}function uY(t){return`${l4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=u4(t),s=f4(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:l4,appId:t.appId,sdkVersion:a4},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await p4(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:d4(u.authToken)}}else throw await h4("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=/^[cdef][\w-]{21}$/,cw="";function pY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=mY(t);return fY.test(n)?n:cw}catch{return cw}}function mY(t){return hY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Map;function y4(t,e){const n=ly(t);x4(n,e),gY(n,e)}function x4(t,e){const n=g4.get(t);if(n)for(const r of n)r(e)}function gY(t,e){const n=yY();n&&n.postMessage({key:t,fid:e}),xY()}let Aa=null;function yY(){return!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=t=>{x4(t.data.key,t.data.fid)}),Aa}function xY(){g4.size===0&&Aa&&(Aa.close(),Aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY="firebase-installations-database",wY=1,Qa="firebase-installations-store";let tx=null;function e_(){return tx||(tx=t4(vY,wY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qa)}}})),tx}async function Gm(t,e){const n=ly(t),s=(await e_()).transaction(Qa,"readwrite"),i=s.objectStore(Qa),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&y4(t,e.fid),e}async function v4(t){const e=ly(t),r=(await e_()).transaction(Qa,"readwrite");await r.objectStore(Qa).delete(e),await r.done}async function cy(t,e){const n=ly(t),s=(await e_()).transaction(Qa,"readwrite"),i=s.objectStore(Qa),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&y4(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(t){let e;const n=await cy(t.appConfig,r=>{const s=bY(r),i=_Y(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===cw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function bY(t){const e=t||{fid:pY(),registrationStatus:0};return w4(e)}function _Y(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ya.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=EY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NY(t)}:{installationEntry:e}}async function EY(t,e){try{const n=await dY(t,e);return Gm(t.appConfig,n)}catch(n){throw c4(n)&&n.customData.serverCode===409?await v4(t.appConfig):await Gm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function NY(t){let e=await V2(t.appConfig);for(;e.registrationStatus===1;)await m4(100),e=await V2(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await t_(t);return r||n}return e}function V2(t){return cy(t,e=>{if(!e)throw Ya.create("installation-not-found");return w4(e)})}function w4(t){return SY(t)?{fid:t.fid,registrationStatus:0}:t}function SY(t){return t.registrationStatus===1&&t.registrationTime+o4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TY({appConfig:t,heartbeatServiceProvider:e},n){const r=CY(t,n),s=lY(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:a4,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await p4(()=>fetch(r,l));if(c.ok){const u=await c.json();return d4(u)}else throw await h4("Generate Auth Token",c)}function CY(t,{fid:e}){return`${u4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n_(t,e=!1){let n;const r=await cy(t.appConfig,i=>{if(!b4(i))throw Ya.create("not-registered");const o=i.authToken;if(!e&&IY(o))return i;if(o.requestStatus===1)return n=jY(t,e),i;{if(!navigator.onLine)throw Ya.create("app-offline");const l=PY(i);return n=kY(t,l),l}});return n?await n:r.authToken}async function jY(t,e){let n=await F2(t.appConfig);for(;n.authToken.requestStatus===1;)await m4(100),n=await F2(t.appConfig);const r=n.authToken;return r.requestStatus===0?n_(t,e):r}function F2(t){return cy(t,e=>{if(!b4(e))throw Ya.create("not-registered");const n=e.authToken;return RY(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kY(t,e){try{const n=await TY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Gm(t.appConfig,r),n}catch(n){if(c4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gm(t.appConfig,r)}throw n}}function b4(t){return t!==void 0&&t.registrationStatus===2}function IY(t){return t.requestStatus===2&&!AY(t)}function AY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+sY}function PY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function RY(t){return t.requestStatus===1&&t.requestTime+o4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OY(t){const e=t,{installationEntry:n,registrationPromise:r}=await t_(e);return r?r.catch(console.error):n_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DY(t,e=!1){const n=t;return await LY(n),(await n_(n,e)).token}async function LY(t){const{registrationPromise:e}=await t_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(t){if(!t||!t.options)throw nx("App Configuration");if(!t.name)throw nx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nx(t){return Ya.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="installations",VY="installations-internal",FY=t=>{const e=t.getProvider("app").getImmediate(),n=MY(e),r=Zo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$Y=t=>{const e=t.getProvider("app").getImmediate(),n=Zo(e,_4).getImmediate();return{getId:()=>OY(n),getToken:s=>DY(n,s)}};function UY(){Jr(new kr(_4,FY,"PUBLIC")),Jr(new kr(VY,$Y,"PRIVATE"))}UY();Gn(i4,J1);Gn(i4,J1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="analytics",BY="firebase_id",zY="origin",HY=60*1e3,WY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",r_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new oy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},lr=new dl("analytics","Analytics",qY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KY(t){if(!t.startsWith(r_)){const e=lr.create("invalid-gtag-resource",{gtagURL:t});return Yn.warn(e.message),""}return t}function E4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function GY(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function YY(t,e){const n=GY("firebase-js-sdk-policy",{createScriptURL:KY}),r=document.createElement("script"),s=`${r_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function QY(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ZY(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await E4(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){Yn.error(l)}t("config",s,i)}async function XY(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await E4(n);for(const c of o){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Yn.error(i)}}function JY(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await XY(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await ZY(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=o;t("consent",l,c)}else if(i==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){Yn.error(l)}}return s}function eQ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=JY(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function tQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(r_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ=30,rQ=1e3;class sQ{constructor(e={},n=rQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const N4=new sQ;function iQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function oQ(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:iQ(r)},i=WY.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function aQ(t,e=N4,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw lr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw lr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new uQ;return setTimeout(async()=>{l.abort()},HY),S4({appId:r,apiKey:s,measurementId:i},o,l,e)}async function S4(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=N4){var i;const{appId:o,measurementId:l}=t;try{await lQ(r,e)}catch(c){if(l)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await oQ(t);return s.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!cQ(u)){if(s.deleteThrottleMetadata(o),l)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?k2(n,s.intervalMillis,nQ):k2(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,h),Yn.debug(`Calling attemptFetch again in ${d} millis`),S4(t,h,r,s)}}function lQ(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cQ(t){if(!(t instanceof Ar)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dQ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ(){if(ZO())try{await XO()}catch(t){return Yn.warn(lr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fQ(t,e,n,r,s,i,o){var l;const c=aQ(t);c.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Yn.error(m)),e.push(c);const u=hQ().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([c,u]);tQ(i)||YY(i,d.measurementId),s("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[zY]="firebase",p.update=!0,h!=null&&(p[BY]=h),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(e){this.app=e}_delete(){return delete kd[this.app.options.appId],Promise.resolve()}}let kd={},$2=[];const U2={};let rx="dataLayer",mQ="gtag",B2,T4,z2=!1;function gQ(){const t=[];if(QO()&&t.push("This is a browser extension environment."),LK()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=lr.create("invalid-analytics-context",{errorInfo:e});Yn.warn(n.message)}}function yQ(t,e,n){gQ();const r=t.options.appId;if(!r)throw lr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw lr.create("no-api-key");if(kd[r]!=null)throw lr.create("already-exists",{id:r});if(!z2){QY(rx);const{wrappedGtag:i,gtagCore:o}=eQ(kd,$2,U2,rx,mQ);T4=i,B2=o,z2=!0}return kd[r]=fQ(t,$2,U2,e,B2,rx,n),new pQ(t)}function xQ(t=ay()){t=Dt(t);const e=Zo(t,Ym);return e.isInitialized()?e.getImmediate():vQ(t)}function vQ(t,e={}){const n=Zo(t,Ym);if(n.isInitialized()){const s=n.getImmediate();if(Lo(e,n.getOptions()))return s;throw lr.create("already-initialized")}return n.initialize({options:e})}function wQ(t,e,n,r){t=Dt(t),dQ(T4,kd[t.app.options.appId],e,n,r).catch(s=>Yn.error(s))}const H2="@firebase/analytics",W2="0.10.16";function bQ(){Jr(new kr(Ym,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return yQ(r,s,n)},"PUBLIC")),Jr(new kr("analytics-internal",t,"PRIVATE")),Gn(H2,W2),Gn(H2,W2,"esm2017");function t(e){try{const n=e.getProvider(Ym).getImmediate();return{logEvent:(r,s,i)=>wQ(n,r,s,i)}}catch(n){throw lr.create("interop-component-reg-failed",{reason:n})}}}bQ();var q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var No,C4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,E){function j(){}j.prototype=E.prototype,N.D=E.prototype,N.prototype=new j,N.prototype.constructor=N,N.C=function(R,D,L){for(var I=Array(arguments.length-2),te=2;te<arguments.length;te++)I[te-2]=arguments[te];return E.prototype[D].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,E,j){j||(j=0);var R=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)R[D]=E.charCodeAt(j++)|E.charCodeAt(j++)<<8|E.charCodeAt(j++)<<16|E.charCodeAt(j++)<<24;else for(D=0;16>D;++D)R[D]=E[j++]|E[j++]<<8|E[j++]<<16|E[j++]<<24;E=N.g[0],j=N.g[1],D=N.g[2];var L=N.g[3],I=E+(L^j&(D^L))+R[0]+3614090360&4294967295;E=j+(I<<7&4294967295|I>>>25),I=L+(D^E&(j^D))+R[1]+3905402710&4294967295,L=E+(I<<12&4294967295|I>>>20),I=D+(j^L&(E^j))+R[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=j+(E^D&(L^E))+R[3]+3250441966&4294967295,j=D+(I<<22&4294967295|I>>>10),I=E+(L^j&(D^L))+R[4]+4118548399&4294967295,E=j+(I<<7&4294967295|I>>>25),I=L+(D^E&(j^D))+R[5]+1200080426&4294967295,L=E+(I<<12&4294967295|I>>>20),I=D+(j^L&(E^j))+R[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=j+(E^D&(L^E))+R[7]+4249261313&4294967295,j=D+(I<<22&4294967295|I>>>10),I=E+(L^j&(D^L))+R[8]+1770035416&4294967295,E=j+(I<<7&4294967295|I>>>25),I=L+(D^E&(j^D))+R[9]+2336552879&4294967295,L=E+(I<<12&4294967295|I>>>20),I=D+(j^L&(E^j))+R[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=j+(E^D&(L^E))+R[11]+2304563134&4294967295,j=D+(I<<22&4294967295|I>>>10),I=E+(L^j&(D^L))+R[12]+1804603682&4294967295,E=j+(I<<7&4294967295|I>>>25),I=L+(D^E&(j^D))+R[13]+4254626195&4294967295,L=E+(I<<12&4294967295|I>>>20),I=D+(j^L&(E^j))+R[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=j+(E^D&(L^E))+R[15]+1236535329&4294967295,j=D+(I<<22&4294967295|I>>>10),I=E+(D^L&(j^D))+R[1]+4129170786&4294967295,E=j+(I<<5&4294967295|I>>>27),I=L+(j^D&(E^j))+R[6]+3225465664&4294967295,L=E+(I<<9&4294967295|I>>>23),I=D+(E^j&(L^E))+R[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=j+(L^E&(D^L))+R[0]+3921069994&4294967295,j=D+(I<<20&4294967295|I>>>12),I=E+(D^L&(j^D))+R[5]+3593408605&4294967295,E=j+(I<<5&4294967295|I>>>27),I=L+(j^D&(E^j))+R[10]+38016083&4294967295,L=E+(I<<9&4294967295|I>>>23),I=D+(E^j&(L^E))+R[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=j+(L^E&(D^L))+R[4]+3889429448&4294967295,j=D+(I<<20&4294967295|I>>>12),I=E+(D^L&(j^D))+R[9]+568446438&4294967295,E=j+(I<<5&4294967295|I>>>27),I=L+(j^D&(E^j))+R[14]+3275163606&4294967295,L=E+(I<<9&4294967295|I>>>23),I=D+(E^j&(L^E))+R[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=j+(L^E&(D^L))+R[8]+1163531501&4294967295,j=D+(I<<20&4294967295|I>>>12),I=E+(D^L&(j^D))+R[13]+2850285829&4294967295,E=j+(I<<5&4294967295|I>>>27),I=L+(j^D&(E^j))+R[2]+4243563512&4294967295,L=E+(I<<9&4294967295|I>>>23),I=D+(E^j&(L^E))+R[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=j+(L^E&(D^L))+R[12]+2368359562&4294967295,j=D+(I<<20&4294967295|I>>>12),I=E+(j^D^L)+R[5]+4294588738&4294967295,E=j+(I<<4&4294967295|I>>>28),I=L+(E^j^D)+R[8]+2272392833&4294967295,L=E+(I<<11&4294967295|I>>>21),I=D+(L^E^j)+R[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=j+(D^L^E)+R[14]+4259657740&4294967295,j=D+(I<<23&4294967295|I>>>9),I=E+(j^D^L)+R[1]+2763975236&4294967295,E=j+(I<<4&4294967295|I>>>28),I=L+(E^j^D)+R[4]+1272893353&4294967295,L=E+(I<<11&4294967295|I>>>21),I=D+(L^E^j)+R[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=j+(D^L^E)+R[10]+3200236656&4294967295,j=D+(I<<23&4294967295|I>>>9),I=E+(j^D^L)+R[13]+681279174&4294967295,E=j+(I<<4&4294967295|I>>>28),I=L+(E^j^D)+R[0]+3936430074&4294967295,L=E+(I<<11&4294967295|I>>>21),I=D+(L^E^j)+R[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=j+(D^L^E)+R[6]+76029189&4294967295,j=D+(I<<23&4294967295|I>>>9),I=E+(j^D^L)+R[9]+3654602809&4294967295,E=j+(I<<4&4294967295|I>>>28),I=L+(E^j^D)+R[12]+3873151461&4294967295,L=E+(I<<11&4294967295|I>>>21),I=D+(L^E^j)+R[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=j+(D^L^E)+R[2]+3299628645&4294967295,j=D+(I<<23&4294967295|I>>>9),I=E+(D^(j|~L))+R[0]+4096336452&4294967295,E=j+(I<<6&4294967295|I>>>26),I=L+(j^(E|~D))+R[7]+1126891415&4294967295,L=E+(I<<10&4294967295|I>>>22),I=D+(E^(L|~j))+R[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=j+(L^(D|~E))+R[5]+4237533241&4294967295,j=D+(I<<21&4294967295|I>>>11),I=E+(D^(j|~L))+R[12]+1700485571&4294967295,E=j+(I<<6&4294967295|I>>>26),I=L+(j^(E|~D))+R[3]+2399980690&4294967295,L=E+(I<<10&4294967295|I>>>22),I=D+(E^(L|~j))+R[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=j+(L^(D|~E))+R[1]+2240044497&4294967295,j=D+(I<<21&4294967295|I>>>11),I=E+(D^(j|~L))+R[8]+1873313359&4294967295,E=j+(I<<6&4294967295|I>>>26),I=L+(j^(E|~D))+R[15]+4264355552&4294967295,L=E+(I<<10&4294967295|I>>>22),I=D+(E^(L|~j))+R[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=j+(L^(D|~E))+R[13]+1309151649&4294967295,j=D+(I<<21&4294967295|I>>>11),I=E+(D^(j|~L))+R[4]+4149444226&4294967295,E=j+(I<<6&4294967295|I>>>26),I=L+(j^(E|~D))+R[11]+3174756917&4294967295,L=E+(I<<10&4294967295|I>>>22),I=D+(E^(L|~j))+R[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=j+(L^(D|~E))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+E&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.u=function(N,E){E===void 0&&(E=N.length);for(var j=E-this.blockSize,R=this.B,D=this.h,L=0;L<E;){if(D==0)for(;L<=j;)s(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<E;)if(R[D++]=N.charCodeAt(L++),D==this.blockSize){s(this,R),D=0;break}}else for(;L<E;)if(R[D++]=N[L++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var E=1;E<N.length-8;++E)N[E]=0;var j=8*this.o;for(E=N.length-8;E<N.length;++E)N[E]=j&255,j/=256;for(this.u(N),N=Array(16),E=j=0;4>E;++E)for(var R=0;32>R;R+=8)N[j++]=this.g[E]>>>R&255;return N};function i(N,E){var j=l;return Object.prototype.hasOwnProperty.call(j,N)?j[N]:j[N]=E(N)}function o(N,E){this.h=E;for(var j=[],R=!0,D=N.length-1;0<=D;D--){var L=N[D]|0;R&&L==E||(j[D]=L,R=!1)}this.g=j}var l={};function c(N){return-128<=N&&128>N?i(N,function(E){return new o([E|0],0>E?-1:0)}):new o([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return h;if(0>N)return S(u(-N));for(var E=[],j=1,R=0;N>=j;R++)E[R]=N/j|0,j*=4294967296;return new o(E,0)}function d(N,E){if(N.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(N.charAt(0)=="-")return S(d(N.substring(1),E));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(E,8)),R=h,D=0;D<N.length;D+=8){var L=Math.min(8,N.length-D),I=parseInt(N.substring(D,D+L),E);8>L?(L=u(Math.pow(E,L)),R=R.j(L).add(u(I))):(R=R.j(j),R=R.add(u(I)))}return R}var h=c(0),p=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-S(this).m();for(var N=0,E=1,j=0;j<this.g.length;j++){var R=this.i(j);N+=(0<=R?R:4294967296+R)*E,E*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(w(this))return"-"+S(this).toString(N);for(var E=u(Math.pow(N,6)),j=this,R="";;){var D=k(j,E).g;j=_(j,D.j(E));var L=((0<j.g.length?j.g[0]:j.h)>>>0).toString(N);if(j=D,x(j))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var E=0;E<N.g.length;E++)if(N.g[E]!=0)return!1;return!0}function w(N){return N.h==-1}t.l=function(N){return N=_(this,N),w(N)?-1:x(N)?0:1};function S(N){for(var E=N.g.length,j=[],R=0;R<E;R++)j[R]=~N.g[R];return new o(j,~N.h).add(p)}t.abs=function(){return w(this)?S(this):this},t.add=function(N){for(var E=Math.max(this.g.length,N.g.length),j=[],R=0,D=0;D<=E;D++){var L=R+(this.i(D)&65535)+(N.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);R=I>>>16,L&=65535,I&=65535,j[D]=I<<16|L}return new o(j,j[j.length-1]&-2147483648?-1:0)};function _(N,E){return N.add(S(E))}t.j=function(N){if(x(this)||x(N))return h;if(w(this))return w(N)?S(this).j(S(N)):S(S(this).j(N));if(w(N))return S(this.j(S(N)));if(0>this.l(m)&&0>N.l(m))return u(this.m()*N.m());for(var E=this.g.length+N.g.length,j=[],R=0;R<2*E;R++)j[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<N.g.length;D++){var L=this.i(R)>>>16,I=this.i(R)&65535,te=N.i(D)>>>16,_e=N.i(D)&65535;j[2*R+2*D]+=I*_e,v(j,2*R+2*D),j[2*R+2*D+1]+=L*_e,v(j,2*R+2*D+1),j[2*R+2*D+1]+=I*te,v(j,2*R+2*D+1),j[2*R+2*D+2]+=L*te,v(j,2*R+2*D+2)}for(R=0;R<E;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=E;R<2*E;R++)j[R]=0;return new o(j,0)};function v(N,E){for(;(N[E]&65535)!=N[E];)N[E+1]+=N[E]>>>16,N[E]&=65535,E++}function T(N,E){this.g=N,this.h=E}function k(N,E){if(x(E))throw Error("division by zero");if(x(N))return new T(h,h);if(w(N))return E=k(S(N),E),new T(S(E.g),S(E.h));if(w(E))return E=k(N,S(E)),new T(S(E.g),E.h);if(30<N.g.length){if(w(N)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var j=p,R=E;0>=R.l(N);)j=P(j),R=P(R);var D=O(j,1),L=O(R,1);for(R=O(R,2),j=O(j,2);!x(R);){var I=L.add(R);0>=I.l(N)&&(D=D.add(j),L=I),R=O(R,1),j=O(j,1)}return E=_(N,D.j(E)),new T(D,E)}for(D=h;0<=N.l(E);){for(j=Math.max(1,Math.floor(N.m()/E.m())),R=Math.ceil(Math.log(j)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=u(j),I=L.j(E);w(I)||0<I.l(N);)j-=R,L=u(j),I=L.j(E);x(L)&&(L=p),D=D.add(L),N=_(N,I)}return new T(D,N)}t.A=function(N){return k(this,N).h},t.and=function(N){for(var E=Math.max(this.g.length,N.g.length),j=[],R=0;R<E;R++)j[R]=this.i(R)&N.i(R);return new o(j,this.h&N.h)},t.or=function(N){for(var E=Math.max(this.g.length,N.g.length),j=[],R=0;R<E;R++)j[R]=this.i(R)|N.i(R);return new o(j,this.h|N.h)},t.xor=function(N){for(var E=Math.max(this.g.length,N.g.length),j=[],R=0;R<E;R++)j[R]=this.i(R)^N.i(R);return new o(j,this.h^N.h)};function P(N){for(var E=N.g.length+1,j=[],R=0;R<E;R++)j[R]=N.i(R)<<1|N.i(R-1)>>>31;return new o(j,N.h)}function O(N,E){var j=E>>5;E%=32;for(var R=N.g.length-j,D=[],L=0;L<R;L++)D[L]=0<E?N.i(L+j)>>>E|N.i(L+j+1)<<32-E:N.i(L+j);return new o(D,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,No=o}).apply(typeof q2<"u"?q2:typeof self<"u"?self:typeof window<"u"?window:{});var cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j4,ad,k4,Up,uw,I4,A4,P4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,g,b){return f==Array.prototype||f==Object.prototype||(f[g]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof cp=="object"&&cp];for(var g=0;g<f.length;++g){var b=f[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(f,g){if(g)e:{var b=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var V=f[A];if(!(V in b))break e;b=b[V]}f=f[f.length-1],A=b[f],g=g(A),g!=A&&g!=null&&e(b,f,{configurable:!0,writable:!0,value:g})}}function i(f,g){f instanceof String&&(f+="");var b=0,A=!1,V={next:function(){if(!A&&b<f.length){var U=b++;return{value:g(U,f[U]),done:!1}}return A=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(f){return f||function(){return i(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(f){var g=typeof f;return g=g!="object"?g:f?Array.isArray(f)?"array":g:"null",g=="array"||g=="object"&&typeof f.length=="number"}function u(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function d(f,g,b){return f.call.apply(f.bind,arguments)}function h(f,g,b){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,A),f.apply(g,V)}}return function(){return f.apply(g,arguments)}}function p(f,g,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(f,g){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function x(f,g){function b(){}b.prototype=g.prototype,f.aa=g.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(A,V,U){for(var ne=Array(arguments.length-2),at=2;at<arguments.length;at++)ne[at-2]=arguments[at];return g.prototype[V].apply(A,ne)}}function w(f){const g=f.length;if(0<g){const b=Array(g);for(let A=0;A<g;A++)b[A]=f[A];return b}return[]}function S(f,g){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(c(A)){const V=f.length||0,U=A.length||0;f.length=V+U;for(let ne=0;ne<U;ne++)f[V+ne]=A[ne]}else f.push(A)}}class _{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function v(f){return/^[\s\xa0]*$/.test(f)}function T(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var P=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(f,g,b){for(const A in f)g.call(b,f[A],A,f)}function N(f,g){for(const b in f)g.call(void 0,f[b],b,f)}function E(f){const g={};for(const b in f)g[b]=f[b];return g}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,g){let b,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(b in A)f[b]=A[b];for(let U=0;U<j.length;U++)b=j[U],Object.prototype.hasOwnProperty.call(A,b)&&(f[b]=A[b])}}function D(f){var g=1;f=f.split(":");const b=[];for(;0<g&&f.length;)b.push(f.shift()),g--;return f.length&&b.push(f.join(":")),b}function L(f){l.setTimeout(()=>{throw f},0)}function I(){var f=oe;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}class te{constructor(){this.h=this.g=null}add(g,b){const A=_e.get();A.set(g,b),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new _(()=>new Ie,f=>f.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,K=!1,oe=new te,pe=()=>{const f=l.Promise.resolve(void 0);Ce=()=>{f.then(Me)}};var Me=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(b){L(b)}var g=_e;g.j(f),100>g.h&&(g.h++,f.next=g.g,g.g=f)}K=!1};function Ve(){this.s=this.s,this.C=this.C}Ve.prototype.s=!1,Ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};l.addEventListener("test",b,g),l.removeEventListener("test",b,g)}catch{}return f}();function Z(f,g){if(G.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget){if(P){e:{try{k(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else b=="mouseover"?g=f.fromElement:b=="mouseout"&&(g=f.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:We[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Z.aa.h.call(this)}}x(Z,G);var We={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Ln=0;function Zn(f,g,b,A,V){this.listener=f,this.proxy=null,this.src=g,this.type=b,this.capture=!!A,this.ha=V,this.key=++Ln,this.da=this.fa=!1}function Mn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Je(f){this.src=f,this.g={},this.h=0}Je.prototype.add=function(f,g,b,A,V){var U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);var ne=jt(f,g,A,V);return-1<ne?(g=f[ne],b||(g.fa=!1)):(g=new Zn(g,this.src,U,!!A,V),g.fa=b,f.push(g)),g};function Ct(f,g){var b=g.type;if(b in f.g){var A=f.g[b],V=Array.prototype.indexOf.call(A,g,void 0),U;(U=0<=V)&&Array.prototype.splice.call(A,V,1),U&&(Mn(g),f.g[b].length==0&&(delete f.g[b],f.h--))}}function jt(f,g,b,A){for(var V=0;V<f.length;++V){var U=f[V];if(!U.da&&U.listener==g&&U.capture==!!b&&U.ha==A)return V}return-1}var ln="closure_lm_"+(1e6*Math.random()|0),Vs={};function Fs(f,g,b,A,V){if(Array.isArray(g)){for(var U=0;U<g.length;U++)Fs(f,g[U],b,A,V);return null}return b=Q(b),f&&f[ut]?f.K(g,b,u(A)?!!A.capture:!1,V):gl(f,g,b,!1,A,V)}function gl(f,g,b,A,V,U){if(!g)throw Error("Invalid event type");var ne=u(V)?!!V.capture:!!V,at=se(f);if(at||(f[ln]=at=new Je(f)),b=at.add(g,b,A,ne,U),b.proxy)return b;if(A=na(),b.proxy=A,A.src=f,A.listener=b,f.addEventListener)$||(V=ne),V===void 0&&(V=!1),f.addEventListener(g.toString(),A,V);else if(f.attachEvent)f.attachEvent(F(g.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function na(){function f(b){return g.call(f.src,f.listener,b)}const g=z;return f}function Oi(f,g,b,A,V){if(Array.isArray(g))for(var U=0;U<g.length;U++)Oi(f,g[U],b,A,V);else A=u(A)?!!A.capture:!!A,b=Q(b),f&&f[ut]?(f=f.i,g=String(g).toString(),g in f.g&&(U=f.g[g],b=jt(U,b,A,V),-1<b&&(Mn(U[b]),Array.prototype.splice.call(U,b,1),U.length==0&&(delete f.g[g],f.h--)))):f&&(f=se(f))&&(g=f.g[g.toString()],f=-1,g&&(f=jt(g,b,A,V)),(b=-1<f?g[f]:null)&&M(b))}function M(f){if(typeof f!="number"&&f&&!f.da){var g=f.src;if(g&&g[ut])Ct(g.i,f);else{var b=f.type,A=f.proxy;g.removeEventListener?g.removeEventListener(b,A,f.capture):g.detachEvent?g.detachEvent(F(b),A):g.addListener&&g.removeListener&&g.removeListener(A),(b=se(g))?(Ct(b,f),b.h==0&&(b.src=null,g[ln]=null)):Mn(f)}}}function F(f){return f in Vs?Vs[f]:Vs[f]="on"+f}function z(f,g){if(f.da)f=!0;else{g=new Z(g,this);var b=f.listener,A=f.ha||f.src;f.fa&&M(f),f=b.call(A,g)}return f}function se(f){return f=f[ln],f instanceof Je?f:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(f){return typeof f=="function"?f:(f[J]||(f[J]=function(g){return f.handleEvent(g)}),f[J])}function ie(){Ve.call(this),this.i=new Je(this),this.M=this,this.F=null}x(ie,Ve),ie.prototype[ut]=!0,ie.prototype.removeEventListener=function(f,g,b,A){Oi(this,f,g,b,A)};function Te(f,g){var b,A=f.F;if(A)for(b=[];A;A=A.F)b.push(A);if(f=f.M,A=g.type||g,typeof g=="string")g=new G(g,f);else if(g instanceof G)g.target=g.target||f;else{var V=g;g=new G(A,f),R(g,V)}if(V=!0,b)for(var U=b.length-1;0<=U;U--){var ne=g.g=b[U];V=qe(ne,A,!0,g)&&V}if(ne=g.g=f,V=qe(ne,A,!0,g)&&V,V=qe(ne,A,!1,g)&&V,b)for(U=0;U<b.length;U++)ne=g.g=b[U],V=qe(ne,A,!1,g)&&V}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var f=this.i,g;for(g in f.g){for(var b=f.g[g],A=0;A<b.length;A++)Mn(b[A]);delete f.g[g],f.h--}}this.F=null},ie.prototype.K=function(f,g,b,A){return this.i.add(String(f),g,!1,b,A)},ie.prototype.L=function(f,g,b,A){return this.i.add(String(f),g,!0,b,A)};function qe(f,g,b,A){if(g=f.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,U=0;U<g.length;++U){var ne=g[U];if(ne&&!ne.da&&ne.capture==b){var at=ne.listener,Zt=ne.ha||ne.src;ne.fa&&Ct(f.i,ne),V=at.call(Zt,A)!==!1&&V}}return V&&!A.defaultPrevented}function qt(f,g,b){if(typeof f=="function")b&&(f=p(f,b));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:l.setTimeout(f,g||0)}function $s(f){f.g=qt(()=>{f.g=null,f.i&&(f.i=!1,$s(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}class yr extends Ve{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:$s(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(f){Ve.call(this),this.h=f,this.g={}}x(ss,Ve);var Us=[];function Bs(f){O(f.g,function(g,b){this.g.hasOwnProperty(b)&&M(g)},f),f.g={}}ss.prototype.N=function(){ss.aa.N.call(this),Bs(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=l.JSON.stringify,ra=l.JSON.parse,yl=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Li(){}Li.prototype.h=null;function ff(f){return f.h||(f.h=f.i())}function uu(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xl(){G.call(this,"d")}x(xl,G);function vl(){G.call(this,"c")}x(vl,G);var is={},du=null;function sa(){return du=du||new ie}is.La="serverreachability";function hu(f){G.call(this,is.La,f)}x(hu,G);function Vi(f){const g=sa();Te(g,new hu(g))}is.STAT_EVENT="statevent";function fu(f,g){G.call(this,is.STAT_EVENT,f),this.stat=g}x(fu,G);function Qt(f){const g=sa();Te(g,new fu(g,f))}is.Ma="timingevent";function pf(f,g){G.call(this,is.Ma,f),this.size=g}x(pf,G);function Fi(f,g){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},g)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function Pr(f,g,b,A,V,U){f.info(function(){if(f.g)if(U)for(var ne="",at=U.split("&"),Zt=0;Zt<at.length;Zt++){var Ze=at[Zt].split("=");if(1<Ze.length){var cn=Ze[0];Ze=Ze[1];var un=cn.split("_");ne=2<=un.length&&un[1]=="type"?ne+(cn+"="+Ze+"&"):ne+(cn+"=redacted&")}}else ne=null;else ne=U;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+g+`
`+b+`
`+ne})}function pu(f,g,b,A,V,U,ne){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+g+`
`+b+`
`+U+" "+ne})}function Xn(f,g,b,A){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+oE(f,b)+(A?" "+A:"")})}function wl(f,g){f.info(function(){return"TIMEOUT: "+g})}ia.prototype.info=function(){};function oE(f,g){if(!f.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var A=b[f];if(!(2>A.length)){var V=A[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ne=1;ne<V.length;ne++)V[ne]=""}}}}return Di(b)}catch{return g}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bl;function $i(){}x($i,Li),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},bl=new $i;function os(f,g,b,A){this.j=f,this.i=g,this.l=b,this.R=A||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mf}function mf(){this.i=null,this.g="",this.h=!1}var gf={},mu={};function gu(f,g,b){f.L=1,f.v=Nl(Or(g)),f.m=b,f.P=!0,yf(f,null)}function yf(f,g){f.F=Date.now(),_l(f),f.A=Or(f.v);var b=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),aE(b.i,"t",A),f.C=0,b=f.j.J,f.h=new mf,f.g=SE(f.j,b?g:null,!f.m),0<f.O&&(f.M=new yr(p(f.Y,f,f.g),f.O)),g=f.U,b=f.g,A=f.ca;var V="readystatechange";Array.isArray(V)||(V&&(Us[0]=V.toString()),V=Us);for(var U=0;U<V.length;U++){var ne=Fs(b,V[U],A||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,g)):(f.u="GET",f.g.ea(f.A,f.u,null,g)),Vi(),Pr(f.i,f.u,f.A,f.l,f.R,f.m)}os.prototype.ca=function(f){f=f.target;const g=this.M;g&&Gs(f)==3?g.j():this.Y(f)},os.prototype.Y=function(f){try{if(f==this.g)e:{const un=Gs(this.g);var g=this.g.Ba();const Cl=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||pE(this.g)))){this.J||un!=4||g==7||(g==8||0>=Cl?Vi(3):Vi(2)),Vn(this);var b=this.g.Z();this.X=b;t:if(xf(this)){var A=pE(this.g);f="";var V=A.length,U=Gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),as(this);var ne="";break t}this.h.i=new l.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,f+=this.h.i.decode(A[g],{stream:!(U&&g==V-1)});A.length=0,this.h.g+=f,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=b==200,pu(this.i,this.u,this.A,this.l,this.R,un,b),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Zt=this.g;if((at=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(at)){var Ze=at;break t}}Ze=null}if(b=Ze)Xn(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yu(this,b);else{this.o=!1,this.s=3,Qt(12),Hs(this),as(this);break e}}if(this.P){b=!0;let Dr;for(;!this.J&&this.C<ne.length;)if(Dr=zy(this,ne),Dr==mu){un==4&&(this.s=4,Qt(14),b=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Dr==gf){this.s=4,Qt(15),Xn(this.i,this.l,ne,"[Invalid Chunk]"),b=!1;break}else Xn(this.i,this.l,Dr,null),yu(this,Dr);if(xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ne.length!=0||this.h.h||(this.s=1,Qt(16),b=!1),this.o=this.o&&b,!b)Xn(this.i,this.l,ne,"[Invalid Chunked Response]"),Hs(this),as(this);else if(0<ne.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Zy(cn),cn.M=!0,Qt(11))}}else Xn(this.i,this.l,ne,null),yu(this,ne);un==4&&Hs(this),this.o&&!this.J&&(un==4?bE(this.j,this):(this.o=!1,_l(this)))}else E5(this.g),b==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Hs(this),as(this)}}}catch{}finally{}};function xf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function zy(f,g){var b=f.C,A=g.indexOf(`
`,b);return A==-1?mu:(b=Number(g.substring(b,A)),isNaN(b)?gf:(A+=1,A+b>g.length?mu:(g=g.slice(A,A+b),f.C=A+b,g)))}os.prototype.cancel=function(){this.J=!0,Hs(this)};function _l(f){f.S=Date.now()+f.I,vf(f,f.I)}function vf(f,g){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Fi(p(f.ba,f),g)}function Vn(f){f.B&&(l.clearTimeout(f.B),f.B=null)}os.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(wl(this.i,this.A),this.L!=2&&(Vi(),Qt(17)),Hs(this),this.s=2,as(this)):vf(this,this.S-f)};function as(f){f.j.G==0||f.J||bE(f.j,f)}function Hs(f){Vn(f);var g=f.M;g&&typeof g.ma=="function"&&g.ma(),f.M=null,Bs(f.U),f.g&&(g=f.g,f.g=null,g.abort(),g.ma())}function yu(f,g){try{var b=f.j;if(b.G!=0&&(b.g==f||Jn(b.h,f))){if(!f.K&&Jn(b.h,f)&&b.G==3){try{var A=b.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Of(b),Pf(b);else break e;Qy(b),Qt(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=Fi(p(b.Za,b),6e3));if(1>=_f(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ca(b,11)}else if((f.K||b.g==f)&&Of(b),!v(g))for(V=b.Da.g.parse(g),g=0;g<V.length;g++){let Ze=V[g];if(b.T=Ze[0],Ze=Ze[1],b.G==2)if(Ze[0]=="c"){b.K=Ze[1],b.ia=Ze[2];const cn=Ze[3];cn!=null&&(b.la=cn,b.j.info("VER="+b.la));const un=Ze[4];un!=null&&(b.Aa=un,b.j.info("SVER="+b.Aa));const Cl=Ze[5];Cl!=null&&typeof Cl=="number"&&0<Cl&&(A=1.5*Cl,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Dr=f.g;if(Dr){const Lf=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lf){var U=A.h;U.g||Lf.indexOf("spdy")==-1&&Lf.indexOf("quic")==-1&&Lf.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(xu(U,U.h),U.h=null))}if(A.D){const Xy=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Xy&&(A.ya=Xy,ot(A.I,A.D,Xy))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var ne=f;if(A.qa=NE(A,A.J?A.ia:null,A.W),ne.K){Ef(A.h,ne);var at=ne,Zt=A.L;Zt&&(at.I=Zt),at.B&&(Vn(at),_l(at)),A.g=ne}else vE(A);0<b.i.length&&Rf(b)}else Ze[0]!="stop"&&Ze[0]!="close"||ca(b,7);else b.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ca(b,7):Yy(b):Ze[0]!="noop"&&b.l&&b.l.ta(Ze),b.v=0)}}Vi(4)}catch{}}var Hy=class{constructor(f,g){this.g=f,this.map=g}};function wf(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bf(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function _f(f){return f.h?1:f.g?f.g.size:0}function Jn(f,g){return f.h?f.h==g:f.g?f.g.has(g):!1}function xu(f,g){f.g?f.g.add(g):f.h=g}function Ef(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}wf.prototype.cancel=function(){if(this.i=Nf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let g=f.i;for(const b of f.g.values())g=g.concat(b.D);return g}return w(f.i)}function El(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var g=[],b=f.length,A=0;A<b;A++)g.push(f[A]);return g}g=[],b=0;for(A in f)g[b++]=f[A];return g}function Sf(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var g=[];f=f.length;for(var b=0;b<f;b++)g.push(b);return g}g=[],b=0;for(const A in f)g[b++]=A;return g}}}function vu(f,g){if(f.forEach&&typeof f.forEach=="function")f.forEach(g,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,g,void 0);else for(var b=Sf(f),A=El(f),V=A.length,U=0;U<V;U++)g.call(void 0,A[U],b&&b[U],f)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(f,g){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var A=f[b].indexOf("="),V=null;if(0<=A){var U=f[b].substring(0,A);V=f[b].substring(A+1)}else U=f[b];g(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ws(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ws){this.h=f.h,qs(this,f.j),this.o=f.o,this.g=f.g,Ks(this,f.s),this.l=f.l;var g=f.i,b=new re;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),Cf(this,b),this.m=f.m}else f&&(g=String(f).match(wu))?(this.h=!1,qs(this,g[1]||"",!0),this.o=oa(g[2]||""),this.g=oa(g[3]||"",!0),Ks(this,g[4]),this.l=oa(g[5]||"",!0),Cf(this,g[6]||"",!0),this.m=oa(g[7]||"")):(this.h=!1,this.i=new re(null,this.h))}Ws.prototype.toString=function(){var f=[],g=this.j;g&&f.push(aa(g,Ui,!0),":");var b=this.g;return(b||g=="file")&&(f.push("//"),(g=this.o)&&f.push(aa(g,Ui,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(aa(b,b.charAt(0)=="/"?Ky:qy,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",aa(b,C)),f.join("")};function Or(f){return new Ws(f)}function qs(f,g,b){f.j=b?oa(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function Ks(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.s=g}else f.s=null}function Cf(f,g,b){g instanceof re?(f.i=g,g5(f.i,f.h)):(b||(g=aa(g,jf)),f.i=new re(g,f.h))}function ot(f,g,b){f.i.set(g,b)}function Nl(f){return ot(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function oa(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function aa(f,g,b){return typeof f=="string"?(f=encodeURI(f).replace(g,Wy),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Wy(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ui=/[#\/\?@]/g,qy=/[#\?:]/g,Ky=/[#\?]/g,jf=/[#\?@]/g,C=/#/g;function re(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function be(f){f.g||(f.g=new Map,f.h=0,f.i&&Tf(f.i,function(g,b){f.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=re.prototype,t.add=function(f,g){be(this),this.i=null,f=Sl(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(g),this.h+=1,this};function nt(f,g){be(f),g=Sl(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function la(f,g){return be(f),g=Sl(f,g),f.g.has(g)}t.forEach=function(f,g){be(this),this.g.forEach(function(b,A){b.forEach(function(V){f.call(g,V,A,this)},this)},this)},t.na=function(){be(this);const f=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let A=0;A<g.length;A++){const V=f[A];for(let U=0;U<V.length;U++)b.push(g[A])}return b},t.V=function(f){be(this);let g=[];if(typeof f=="string")la(this,f)&&(g=g.concat(this.g.get(Sl(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)g=g.concat(f[b])}return g},t.set=function(f,g){return be(this),this.i=null,f=Sl(this,f),la(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},t.get=function(f,g){return f?(f=this.V(f),0<f.length?String(f[0]):g):g};function aE(f,g,b){nt(f,g),0<b.length&&(f.i=null,f.g.set(Sl(f,g),w(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var A=g[b];const U=encodeURIComponent(String(A)),ne=this.V(A);for(A=0;A<ne.length;A++){var V=U;ne[A]!==""&&(V+="="+encodeURIComponent(String(ne[A]))),f.push(V)}}return this.i=f.join("&")};function Sl(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function g5(f,g){g&&!f.j&&(be(f),f.i=null,f.g.forEach(function(b,A){var V=A.toLowerCase();A!=V&&(nt(this,A),aE(this,V,b))},f)),f.j=g}function y5(f,g){const b=new ia;if(l.Image){const A=new Image;A.onload=m(Bi,b,"TestLoadImage: loaded",!0,g,A),A.onerror=m(Bi,b,"TestLoadImage: error",!1,g,A),A.onabort=m(Bi,b,"TestLoadImage: abort",!1,g,A),A.ontimeout=m(Bi,b,"TestLoadImage: timeout",!1,g,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else g(!1)}function x5(f,g){const b=new ia,A=new AbortController,V=setTimeout(()=>{A.abort(),Bi(b,"TestPingServer: timeout",!1,g)},1e4);fetch(f,{signal:A.signal}).then(U=>{clearTimeout(V),U.ok?Bi(b,"TestPingServer: ok",!0,g):Bi(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Bi(b,"TestPingServer: error",!1,g)})}function Bi(f,g,b,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(b)}catch{}}function v5(){this.g=new yl}function w5(f,g,b){const A=b||"";try{vu(f,function(V,U){let ne=V;u(V)&&(ne=Di(V)),g.push(A+U+"="+encodeURIComponent(ne))})}catch(V){throw g.push(A+"type="+encodeURIComponent("_badmap")),V}}function kf(f){this.l=f.Ub||null,this.j=f.eb||!1}x(kf,Li),kf.prototype.g=function(){return new If(this.l,this.j)},kf.prototype.i=function(f){return function(){return f}}({});function If(f,g){ie.call(this),this.D=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(If,ie),t=If.prototype,t.open=function(f,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=g,this.readyState=1,_u(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(g.body=f),(this.D||l).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_u(this)),this.g&&(this.readyState=3,_u(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lE(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lE(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?bu(this):_u(this),this.readyState==3&&lE(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,bu(this))},t.Qa=function(f){this.g&&(this.response=f,bu(this))},t.ga=function(){this.g&&bu(this)};function bu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,_u(f)}t.setRequestHeader=function(f,g){this.u.append(f,g)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=g.next();return f.join(`\r
`)};function _u(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(If.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function cE(f){let g="";return O(f,function(b,A){g+=A,g+=":",g+=b,g+=`\r
`}),g}function Gy(f,g,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=cE(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):ot(f,g,b))}function Nt(f){ie.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Nt,ie);var b5=/^https?$/i,_5=["POST","PUT"];t=Nt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,g,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bl.g(),this.v=this.o?ff(this.o):ff(bl),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(U){uE(this,U);return}if(f=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)b.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())b.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(U=>U.toLowerCase()=="content-type"),V=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(_5,g,void 0))||A||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ne]of b)this.g.setRequestHeader(U,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fE(this),this.u=!0,this.g.send(f),this.u=!1}catch(U){uE(this,U)}};function uE(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.m=5,dE(f),Af(f)}function dE(f){f.A||(f.A=!0,Te(f,"complete"),Te(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Te(this,"complete"),Te(this,"abort"),Af(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Af(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hE(this):this.bb())},t.bb=function(){hE(this)};function hE(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Gs(f)!=4||f.Z()!=2)){if(f.u&&Gs(f)==4)qt(f.Ea,0,f);else if(Te(f,"readystatechange"),Gs(f)==4){f.h=!1;try{const ne=f.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var A;if(A=ne===0){var V=String(f.D).match(wu)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),A=!b5.test(V?V.toLowerCase():"")}b=A}if(b)Te(f,"complete"),Te(f,"success");else{f.m=6;try{var U=2<Gs(f)?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.Z()+"]",dE(f)}}finally{Af(f)}}}}function Af(f,g){if(f.g){fE(f);const b=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,g||Te(f,"ready");try{b.onreadystatechange=A}catch{}}}function fE(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Gs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var g=this.g.responseText;return f&&g.indexOf(f)==0&&(g=g.substring(f.length)),ra(g)}};function pE(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function E5(f){const g={};f=(f.g&&2<=Gs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(v(f[A]))continue;var b=D(f[A]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const U=g[V]||[];g[V]=U,U.push(b)}N(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(f,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||g}function mE(f){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,f),this.cb=Eu("retryDelaySeedMs",1e4,f),this.Wa=Eu("forwardChannelMaxRetries",2,f),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wf(f&&f.concurrentRequestLimit),this.Da=new v5,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mE.prototype,t.la=8,t.G=1,t.connect=function(f,g,b,A){Qt(0),this.W=f,this.H=g||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=NE(this,null,this.W),Rf(this)};function Yy(f){if(gE(f),f.G==3){var g=f.U++,b=Or(f.I);if(ot(b,"SID",f.K),ot(b,"RID",g),ot(b,"TYPE","terminate"),Nu(f,b),g=new os(f,f.j,g),g.L=2,g.v=Nl(Or(b)),b=!1,l.navigator&&l.navigator.sendBeacon)try{b=l.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&l.Image&&(new Image().src=g.v,b=!0),b||(g.g=SE(g.j,null),g.g.ea(g.v)),g.F=Date.now(),_l(g)}EE(f)}function Pf(f){f.g&&(Zy(f),f.g.cancel(),f.g=null)}function gE(f){Pf(f),f.u&&(l.clearTimeout(f.u),f.u=null),Of(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Rf(f){if(!bf(f.h)&&!f.s){f.s=!0;var g=f.Ga;Ce||pe(),K||(Ce(),K=!0),oe.add(g,f),f.B=0}}function N5(f,g){return _f(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=g.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Fi(p(f.Ga,f,g),_E(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const V=new os(this,this.j,f);let U=this.o;if(this.S&&(U?(U=E(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=xE(this,V,g),b=Or(this.I),ot(b,"RID",f),ot(b,"CVER",22),this.D&&ot(b,"X-HTTP-Session-Id",this.D),Nu(this,b),U&&(this.O?g="headers="+encodeURIComponent(String(cE(U)))+"&"+g:this.m&&Gy(b,this.m,U)),xu(this.h,V),this.Ua&&ot(b,"TYPE","init"),this.P?(ot(b,"$req",g),ot(b,"SID","null"),V.T=!0,gu(V,b,null)):gu(V,b,g),this.G=2}}else this.G==3&&(f?yE(this,f):this.i.length==0||bf(this.h)||yE(this))};function yE(f,g){var b;g?b=g.l:b=f.U++;const A=Or(f.I);ot(A,"SID",f.K),ot(A,"RID",b),ot(A,"AID",f.T),Nu(f,A),f.m&&f.o&&Gy(A,f.m,f.o),b=new os(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),g&&(f.i=g.D.concat(f.i)),g=xE(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),xu(f.h,b),gu(b,A,g)}function Nu(f,g){f.H&&O(f.H,function(b,A){ot(g,A,b)}),f.l&&vu({},function(b,A){ot(g,A,b)})}function xE(f,g,b){b=Math.min(f.i.length,b);var A=f.l?p(f.l.Na,f.l,f):null;e:{var V=f.i;let U=-1;for(;;){const ne=["count="+b];U==-1?0<b?(U=V[0].g,ne.push("ofs="+U)):U=0:ne.push("ofs="+U);let at=!0;for(let Zt=0;Zt<b;Zt++){let Ze=V[Zt].g;const cn=V[Zt].map;if(Ze-=U,0>Ze)U=Math.max(0,V[Zt].g-100),at=!1;else try{w5(cn,ne,"req"+Ze+"_")}catch{A&&A(cn)}}if(at){A=ne.join("&");break e}}}return f=f.i.splice(0,b),g.D=f,A}function vE(f){if(!f.g&&!f.u){f.Y=1;var g=f.Fa;Ce||pe(),K||(Ce(),K=!0),oe.add(g,f),f.v=0}}function Qy(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Fi(p(f.Fa,f),_E(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,wE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Fi(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),Pf(this),wE(this))};function Zy(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function wE(f){f.g=new os(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var g=Or(f.qa);ot(g,"RID","rpc"),ot(g,"SID",f.K),ot(g,"AID",f.T),ot(g,"CI",f.F?"0":"1"),!f.F&&f.ja&&ot(g,"TO",f.ja),ot(g,"TYPE","xmlhttp"),Nu(f,g),f.m&&f.o&&Gy(g,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Nl(Or(g)),b.m=null,b.P=!0,yf(b,f)}t.Za=function(){this.C!=null&&(this.C=null,Pf(this),Qy(this),Qt(19))};function Of(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function bE(f,g){var b=null;if(f.g==g){Of(f),Zy(f),f.g=null;var A=2}else if(Jn(f.h,g))b=g.D,Ef(f.h,g),A=1;else return;if(f.G!=0){if(g.o)if(A==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var V=f.B;A=sa(),Te(A,new pf(A,b)),Rf(f)}else vE(f);else if(V=g.s,V==3||V==0&&0<g.X||!(A==1&&N5(f,g)||A==2&&Qy(f)))switch(b&&0<b.length&&(g=f.h,g.i=g.i.concat(b)),V){case 1:ca(f,5);break;case 4:ca(f,10);break;case 3:ca(f,6);break;default:ca(f,2)}}}function _E(f,g){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*g}function ca(f,g){if(f.j.info("Error code "+g),g==2){var b=p(f.fb,f),A=f.Xa;const V=!A;A=new Ws(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qs(A,"https"),Nl(A),V?y5(A.toString(),b):x5(A.toString(),b)}else Qt(2);f.G=0,f.l&&f.l.sa(g),EE(f),gE(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function EE(f){if(f.G=0,f.ka=[],f.l){const g=Nf(f.h);(g.length!=0||f.i.length!=0)&&(S(f.ka,g),S(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function NE(f,g,b){var A=b instanceof Ws?Or(b):new Ws(b);if(A.g!="")g&&(A.g=g+"."+A.g),Ks(A,A.s);else{var V=l.location;A=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var U=new Ws(null);A&&qs(U,A),g&&(U.g=g),V&&Ks(U,V),b&&(U.l=b),A=U}return b=f.D,g=f.ya,b&&g&&ot(A,b,g),ot(A,"VER",f.la),Nu(f,A),A}function SE(f,g,b){if(g&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=f.Ca&&!f.pa?new Nt(new kf({eb:b})):new Nt(f.pa),g.Ha(f.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TE(){}t=TE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Df(){}Df.prototype.g=function(f,g){return new er(f,g)};function er(f,g){ie.call(this),this.g=new mE(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(f?f["X-WebChannel-Client-Profile"]=g.va:f={"X-WebChannel-Client-Profile":g.va}),this.g.S=f,(f=g&&g.Sb)&&!v(f)&&(this.g.m=f),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!v(g)&&(this.g.D=g,f=this.h,f!==null&&g in f&&(f=this.h,g in f&&delete f[g])),this.j=new Tl(this)}x(er,ie),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){Yy(this.g)},er.prototype.o=function(f){var g=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Di(f),f=b);g.i.push(new Hy(g.Ya++,f)),g.G==3&&Rf(g)},er.prototype.N=function(){this.g.l=null,delete this.j,Yy(this.g),delete this.g,er.aa.N.call(this)};function CE(f){xl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const b in g){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,g=g!==null&&f in g?g[f]:void 0),this.data=g}else this.data=f}x(CE,xl);function jE(){vl.call(this),this.status=1}x(jE,vl);function Tl(f){this.g=f}x(Tl,TE),Tl.prototype.ua=function(){Te(this.g,"a")},Tl.prototype.ta=function(f){Te(this.g,new CE(f))},Tl.prototype.sa=function(f){Te(this.g,new jE)},Tl.prototype.ra=function(){Te(this.g,"b")},Df.prototype.createWebChannel=Df.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,P4=function(){return new Df},A4=function(){return sa()},I4=is,uw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Up=Rr,zs.COMPLETE="complete",k4=zs,uu.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",ie.prototype.listen=ie.prototype.K,ad=uu,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,j4=Nt}).apply(typeof cp<"u"?cp:typeof self<"u"?self:typeof window<"u"?window:{});const K2="@firebase/firestore",G2="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new oy("@firebase/firestore");function Ol(){return Za.logLevel}function de(t,...e){if(Za.logLevel<=Be.DEBUG){const n=e.map(s_);Za.debug(`Firestore (${tu}): ${t}`,...n)}}function Si(t,...e){if(Za.logLevel<=Be.ERROR){const n=e.map(s_);Za.error(`Firestore (${tu}): ${t}`,...n)}}function Dc(t,...e){if(Za.logLevel<=Be.WARN){const n=e.map(s_);Za.warn(`Firestore (${tu}): ${t}`,...n)}}function s_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,R4(t,r,n)}function R4(t,e,n){let r=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Si(r),new Error(r)}function tt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||R4(e,s,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _Q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class EQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NQ{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new di;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new di,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new O4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class SQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Y2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jQ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function dw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return De(r,s);{const i=D4(),o=kQ(i.encode(Q2(t,n)),i.encode(Q2(e,n)));return o!==0?o:De(r,s)}}n+=r>65535?2:1}return De(t.length,e.length)}function Q2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kQ(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return De(t[n],e[n]);return De(t.length,e.length)}function Lc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=-62135596800,X2=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*X2);return new Ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Z2)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X2}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Z2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ht(0,0))}static max(){return new ke(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="__name__";class ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ds.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return De(e.length,n.length)}static compareSegments(e,n){const r=ds.isNumericId(e),s=ds.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ds.extractNumericId(e).compare(ds.extractNumericId(n)):dw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return No.fromString(e.substring(4,e.length-2))}}class ft extends ds{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const IQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ds{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return IQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J2}static keyField(){return new rn([J2])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ft.fromString(e))}static fromName(e){return new we(ft.fromString(e).popFirst(5))}static empty(){return new we(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=-1;function AQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new Mo(s,we.empty(),e)}function PQ(t){return new Mo(t.readTime,t.key,vh)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(ke.min(),we.empty(),vh)}static max(){return new Mo(ke.max(),we.empty(),vh)}}function RQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==OQ)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function LQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}uy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-1;function dy(t){return t==null}function Qm(t){return t===0&&1/t==-1/0}function MQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="";function VQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eC(e)),e=FQ(t.get(n),e);return eC(e)}function FQ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case M4:n+="";break;default:n+=i}}return n}function eC(t){return t+M4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new up(this.root,e,this.comparator,!1)}getReverseIterator(){return new up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new up(this.root,e,this.comparator,!0)}}class up{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??tn.RED,this.left=s??tn.EMPTY,this.right=i??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new tn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nC(this.data.getIterator())}getIteratorFrom(e){return new nC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class nC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new ir([])}unionWith(e){let n=new Wt(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new F4("Invalid base64 string: "+i):i}}(e);return new an(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const $Q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=$Q.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fo(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="server_timestamp",U4="__type__",B4="__previous_value__",z4="__local_write_time__";function o_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[U4])===null||n===void 0?void 0:n.stringValue)===$4}function hy(t){const e=t.mapValue.fields[B4];return o_(e)?hy(e):e}function wh(t){const e=Vo(t.mapValue.fields[z4].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,n,r,s,i,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Zm="(default)";class bh{constructor(e,n){this.projectId=e,this.database=n||Zm}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Zm}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="__type__",BQ="__max__",dp={mapValue:{}},W4="__vector__",Xm="value";function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o_(t)?4:HQ(t)?9007199254740991:zQ(t)?10:11:Se(28295,{value:t})}function Ps(t,e){if(t===e)return!0;const n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wh(t).isEqual(wh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Vo(s.timestampValue),l=Vo(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fo(s.bytesValue).isEqual(Fo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return It(s.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return It(s.integerValue)===It(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=It(s.doubleValue),l=It(i.doubleValue);return o===l?Qm(o)===Qm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Lc(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(tC(o)!==tC(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ps(o[c],l[c])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function _h(t,e){return(t.values||[]).find(n=>Ps(n,e))!==void 0}function Mc(t,e){if(t===e)return 0;const n=$o(t),r=$o(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=It(i.integerValue||i.doubleValue),c=It(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return rC(t.timestampValue,e.timestampValue);case 4:return rC(wh(t),wh(e));case 5:return dw(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Fo(i),c=Fo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=De(l[u],c[u]);if(d!==0)return d}return De(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=De(It(i.latitude),It(o.latitude));return l!==0?l:De(It(i.longitude),It(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sC(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const h=i.fields||{},p=o.fields||{},m=(l=h[Xm])===null||l===void 0?void 0:l.arrayValue,x=(c=p[Xm])===null||c===void 0?void 0:c.arrayValue,w=De(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:sC(m,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===dp.mapValue&&o===dp.mapValue)return 0;if(i===dp.mapValue)return 1;if(o===dp.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=dw(c[h],d[h]);if(p!==0)return p;const m=Mc(l[c[h]],u[d[h]]);if(m!==0)return m}return De(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function rC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Vo(t),r=Vo(e),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function sC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Mc(n[s],r[s]);if(i)return i}return De(n.length,r.length)}function Vc(t){return hw(t)}function hw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${hw(n.fields[o])}`;return s+"}"}(t.mapValue):Se(61005,{value:t})}function Bp(t){switch($o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hy(t);return e?16+Bp(e):16;case 5:return 2*t.stringValue.length;case 6:return Fo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Bp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xo(r.fields,(i,o)=>{s+=i.length+Bp(o)}),s}(t.mapValue);default:throw Se(13486,{value:t})}}function iC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fw(t){return!!t&&"integerValue"in t}function a_(t){return!!t&&"arrayValue"in t}function oC(t){return!!t&&"nullValue"in t}function aC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zp(t){return!!t&&"mapValue"in t}function zQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[H4])===null||n===void 0?void 0:n.stringValue)===W4}function Id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Id(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Id(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Id(n)}setAll(e){let n=rn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Id(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];zp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bn(Id(this.value))}}function q4(t){const e=[];return Xo(t.fields,(n,r)=>{const s=new rn([n]);if(zp(r)){const i=q4(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new vn(e,0,ke.min(),ke.min(),ke.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,s){return new vn(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new vn(e,2,n,ke.min(),ke.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,ke.min(),ke.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.position=e,this.inclusive=n}}function lC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=Mc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function cC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function WQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{}class $t extends K4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KQ(e,n,r):n==="array-contains"?new QQ(e,r):n==="in"?new ZQ(e,r):n==="not-in"?new XQ(e,r):n==="array-contains-any"?new JQ(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GQ(e,r):new YQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mc(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(Mc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends K4{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new es(e,n)}matches(e){return G4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function G4(t){return t.op==="and"}function Y4(t){return qQ(t)&&G4(t)}function qQ(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function pw(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Vc(t.value);if(Y4(t))return t.filters.map(e=>pw(e)).join(",");{const e=t.filters.map(n=>pw(n)).join(",");return`${t.op}(${e})`}}function Q4(t,e){return t instanceof $t?function(r,s){return s instanceof $t&&r.op===s.op&&r.field.isEqual(s.field)&&Ps(r.value,s.value)}(t,e):t instanceof es?function(r,s){return s instanceof es&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Q4(o,s.filters[l]),!0):!1}(t,e):void Se(19439)}function Z4(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${Vc(n.value)}`}(t):t instanceof es?function(n){return n.op.toString()+" {"+n.getFilters().map(Z4).join(" ,")+"}"}(t):"Filter"}class KQ extends $t{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class GQ extends $t{constructor(e,n){super(e,"in",n),this.keys=X4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YQ extends $t{constructor(e,n){super(e,"not-in",n),this.keys=X4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class QQ extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a_(n)&&_h(n.arrayValue,this.value)}}class ZQ extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_h(this.value.arrayValue,n)}}class XQ extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_h(this.value.arrayValue,n)}}class JQ extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_h(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function uC(t,e=null,n=[],r=[],s=null,i=null,o=null){return new eZ(t,e,n,r,s,i,o)}function l_(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vc(r)).join(",")),e.Ie=n}return e.Ie}function c_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cC(t.startAt,e.startAt)&&cC(t.endAt,e.endAt)}function mw(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function tZ(t,e,n,r,s,i,o,l){return new su(t,e,n,r,s,i,o,l)}function fy(t){return new su(t)}function dC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J4(t){return t.collectionGroup!==null}function Ad(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Wt(rn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Eh(i,r))}),n.has(rn.keyField().canonicalString())||e.Ee.push(new Eh(rn.keyField(),r))}return e.Ee}function js(t){const e=Re(t);return e.de||(e.de=nZ(e,Ad(t))),e.de}function nZ(t,e){if(t.limitType==="F")return uC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Eh(s.field,i)});const n=t.endAt?new Jm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jm(t.startAt.position,t.startAt.inclusive):null;return uC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gw(t,e){const n=t.filters.concat([e]);return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eg(t,e,n){return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function py(t,e){return c_(js(t),js(e))&&t.limitType===e.limitType}function eD(t){return`${l_(js(t))}|lt:${t.limitType}`}function Dl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Z4(s)).join(", ")}]`),dy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Vc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Vc(s)).join(",")),`Target(${r})`}(js(t))}; limitType=${t.limitType})`}function my(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):we.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ad(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=lC(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Ad(r),s)||r.endAt&&!function(o,l,c){const u=lC(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Ad(r),s))}(t,e)}function rZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tD(t){return(e,n)=>{let r=!1;for(const s of Ad(t)){const i=sZ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function sZ(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Mc(c,u):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return V4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ=new Et(we.comparator);function Ti(){return iZ}const nD=new Et(we.comparator);function ld(...t){let e=nD;for(const n of t)e=e.insert(n.key,n);return e}function rD(t){let e=nD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pa(){return Pd()}function sD(){return Pd()}function Pd(){return new fl(t=>t.toString(),(t,e)=>t.isEqual(e))}const oZ=new Et(we.comparator),aZ=new Wt(we.comparator);function ze(...t){let e=aZ;for(const n of t)e=e.add(n);return e}const lZ=new Wt(De);function cZ(){return lZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function iD(t){return{integerValue:""+t}}function uZ(t,e){return MQ(e)?iD(e):u_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._=void 0}}function dZ(t,e,n){return t instanceof Nh?function(s,i){const o={fields:{[U4]:{stringValue:$4},[z4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&o_(i)&&(i=hy(i)),i&&(o.fields[B4]=i),{mapValue:o}}(n,e):t instanceof Sh?aD(t,e):t instanceof Th?lD(t,e):function(s,i){const o=oD(s,i),l=hC(o)+hC(s.Re);return fw(o)&&fw(s.Re)?iD(l):u_(s.serializer,l)}(t,e)}function hZ(t,e,n){return t instanceof Sh?aD(t,e):t instanceof Th?lD(t,e):n}function oD(t,e){return t instanceof tg?function(r){return fw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Nh extends gy{}class Sh extends gy{constructor(e){super(),this.elements=e}}function aD(t,e){const n=cD(e);for(const r of t.elements)n.some(s=>Ps(s,r))||n.push(r);return{arrayValue:{values:n}}}class Th extends gy{constructor(e){super(),this.elements=e}}function lD(t,e){let n=cD(e);for(const r of t.elements)n=n.filter(s=>!Ps(s,r));return{arrayValue:{values:n}}}class tg extends gy{constructor(e,n){super(),this.serializer=e,this.Re=n}}function hC(t){return It(t.integerValue||t.doubleValue)}function cD(t){return a_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e,n){this.field=e,this.transform=n}}function pZ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sh&&s instanceof Sh||r instanceof Th&&s instanceof Th?Lc(r.elements,s.elements,Ps):r instanceof tg&&s instanceof tg?Ps(r.Re,s.Re):r instanceof Nh&&s instanceof Nh}(t.transform,e.transform)}class mZ{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yy{}function uD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d_(t.key,Tr.none()):new nf(t.key,t.data,Tr.none());{const n=t.data,r=Bn.empty();let s=new Wt(rn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Jo(t.key,r,new ir(s.toArray()),Tr.none())}}function gZ(t,e,n){t instanceof nf?function(s,i,o){const l=s.value.clone(),c=pC(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Jo?function(s,i,o){if(!Hp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=pC(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(dD(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Rd(t,e,n,r){return t instanceof nf?function(i,o,l,c){if(!Hp(i.precondition,o))return l;const u=i.value.clone(),d=mC(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jo?function(i,o,l,c){if(!Hp(i.precondition,o))return l;const u=mC(i.fieldTransforms,c,o),d=o.data;return d.setAll(dD(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return Hp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function yZ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=oD(r.transform,s||null);i!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,i))}return n||null}function fC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Lc(r,s,(i,o)=>pZ(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nf extends yy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Jo extends yy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pC(t,e,n){const r=new Map;tt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,hZ(o,l,n[s]))}return r}function mC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,dZ(i,o,e))}return r}class d_ extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xZ extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gZ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sD();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=uD(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(n,r)=>fC(n,r))&&Lc(this.baseMutations,e.baseMutations,(n,r)=>fC(n,r))}}class h_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return oZ}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new h_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ke;function _Z(t){switch(t){case W.OK:return Se(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function hD(t){if(t===void 0)return Si("GRPC error has no .code"),W.UNKNOWN;switch(t){case Lt.OK:return W.OK;case Lt.CANCELLED:return W.CANCELLED;case Lt.UNKNOWN:return W.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return W.INTERNAL;case Lt.UNAVAILABLE:return W.UNAVAILABLE;case Lt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Lt.NOT_FOUND:return W.NOT_FOUND;case Lt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Lt.ABORTED:return W.ABORTED;case Lt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Lt.DATA_LOSS:return W.DATA_LOSS;default:return Se(39323,{code:t})}}(Ke=Lt||(Lt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=new No([4294967295,4294967295],0);function gC(t){const e=D4().encode(t),n=new C4;return n.update(e),new Uint8Array(n.digest())}function yC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new No([n,r],0),new No([s,i],0)]}class f_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cd(`Invalid padding: ${n}`);if(r<0)throw new cd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=No.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(No.fromNumber(r)));return s.compare(EZ)===1&&(s=new No([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=gC(e),[r,s]=yC(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new f_(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=gC(e),[r,s]=yC(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xy(ke.min(),s,new Et(De),Ti(),ze())}}class rf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rf(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class fD{constructor(e,n){this.targetId=e,this.Ce=n}}class pD{constructor(e,n,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class xC{constructor(){this.Fe=0,this.Me=vC(),this.xe=an.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),r=ze();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}}),new rf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=vC()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class NZ{constructor(e){this.ze=e,this.je=new Map,this.He=Ti(),this.Je=hp(),this.Ye=hp(),this.Ze=new Et(De)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(mw(i))if(r===0){const o=new we(i.path);this.tt(n,o,vn.newNoDocument(o,ke.min()))}else tt(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Fo(r).toUint8Array()}catch(c){if(c instanceof F4)return Dc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new f_(o,s,i)}catch(c){return Dc(c instanceof cd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&mw(l.target)){const c=new we(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,vn.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=ze();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new xy(e,n,this.Ze,this.He,r);return this.He=Ti(),this.Je=hp(),this.Ye=hp(),this.Ze=new Et(De),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new xC,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Wt(De),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Wt(De),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xC),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function hp(){return new Et(we.comparator)}function vC(){return new Et(we.comparator)}const SZ={asc:"ASCENDING",desc:"DESCENDING"},TZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CZ={and:"AND",or:"OR"};class jZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yw(t,e){return t.useProto3Json||dy(e)?e:{value:e}}function ng(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kZ(t,e){return ng(t,e.toTimestamp())}function ks(t){return tt(!!t,49232),ke.fromTimestamp(function(n){const r=Vo(n);return new Ht(r.seconds,r.nanos)}(t))}function p_(t,e){return xw(t,e).canonicalString()}function xw(t,e){const n=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gD(t){const e=ft.fromString(t);return tt(bD(e),10190,{key:e.toString()}),e}function vw(t,e){return p_(t.databaseId,e.path)}function sx(t,e){const n=gD(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(xD(n))}function yD(t,e){return p_(t.databaseId,e)}function IZ(t){const e=gD(t);return e.length===4?ft.emptyPath():xD(e)}function ww(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xD(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wC(t,e,n){return{name:vw(t,e),fields:n.value.mapValue.fields}}function AZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(tt(d===void 0||typeof d=="string",58123),an.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),an.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?W.UNKNOWN:hD(u.code);return new ue(d,u.message||"")}(o);n=new pD(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sx(t,r.document.name),i=ks(r.document.updateTime),o=r.document.createTime?ks(r.document.createTime):ke.min(),l=new Bn({mapValue:{fields:r.document.fields}}),c=vn.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Wp(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sx(t,r.document),i=r.readTime?ks(r.readTime):ke.min(),o=vn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Wp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sx(t,r.document),i=r.removedTargetIds||[];n=new Wp([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new bZ(s,i),l=r.targetId;n=new fD(l,o)}}return n}function PZ(t,e){let n;if(e instanceof nf)n={update:wC(t,e.key,e.value)};else if(e instanceof d_)n={delete:vw(t,e.key)};else if(e instanceof Jo)n={update:wC(t,e.key,e.data),updateMask:UZ(e.fieldMask)};else{if(!(e instanceof xZ))return Se(16599,{ft:e.type});n={verify:vw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Nh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Th)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tg)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:kZ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)}(t,e.precondition)),n}function RZ(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ks(s.updateTime):ks(i);return o.isEqual(ke.min())&&(o=ks(i)),new mZ(o,s.transformResults||[])}(n,e))):[]}function OZ(t,e){return{documents:[yD(t,e.path)]}}function DZ(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yD(t,s);const i=function(u){if(u.length!==0)return wD(es.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ll(p.field),direction:VZ(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=yw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function LZ(t){let e=IZ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=vD(h);return p instanceof es&&Y4(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(x){return new Eh(Ml(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,dy(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){const p=!!h.before,m=h.values||[];return new Jm(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new Jm(m,p)}(n.endAt)),tZ(e,s,o,i,l,"F",c,u)}function MZ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ml(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ml(n.unaryFilter.field);return $t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ml(n.unaryFilter.field);return $t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ml(n.unaryFilter.field);return $t.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return $t.create(Ml(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return es.create(n.compositeFilter.filters.map(r=>vD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function VZ(t){return SZ[t]}function FZ(t){return TZ[t]}function $Z(t){return CZ[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Ml(t){return rn.fromServerFormat(t.fieldPath)}function wD(t){return t instanceof $t?function(n){if(n.op==="=="){if(aC(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(oC(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aC(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(oC(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:FZ(n.op),value:n.value}}}(t):t instanceof es?function(n){const r=n.getFilters().map(s=>wD(s));return r.length===1?r[0]:{compositeFilter:{op:$Z(n.op),filters:r}}}(t):Se(54877,{filter:t})}function UZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r,s,i=ke.min(),o=ke.min(),l=an.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(e){this.wt=e}}function zZ(t){const e=LZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(){this.Cn=new WZ}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Mo.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class WZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(ft.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_D=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(_D,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Fc(0)}static lr(){return new Fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="LruGarbageCollector",qZ=1048576;function EC([t,e],[n,r]){const s=De(t,n);return s===0?De(e,r):s}class KZ{constructor(e){this.Er=e,this.buffer=new Wt(EC),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();EC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(_C,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ru(n)?de(_C,"Ignoring IndexedDB error during garbage collection: ",n):await nu(n)}await this.mr(3e5)})}}class YZ{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(uy.le);const r=new KZ(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(bC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bC):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ol()<=Be.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function QZ(t,e){return new YZ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(){this.changes=new fl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Rd(r.mutation,s,ir.empty(),Ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const s=Pa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ld();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Ti();const o=Pd(),l=function(){return Pd()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Jo)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Rd(d.mutation,u,d.mutation.getFieldMask(),Ht.now())):o.set(u.key,ir.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new XZ(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Pd();let s=new Et((o,l)=>o-l),i=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||ir.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||ze()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=sD();d.forEach(p=>{if(!i.has(p)){const m=uD(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Pa());let l=vh,c=i;return o.next(u=>q.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ze())).next(d=>({batchId:l,changes:rD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let s=ld();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ld();return this.indexManager.getCollectionParents(e,i).next(l=>q.forEach(l,c=>{const u=function(h,p){return new su(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,vn.newInvalidDocument(d)))});let l=ld();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Rd(d.mutation,u,ir.empty(),Ht.now()),my(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return q.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ks(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:zZ(s.bundledQuery),readTime:ks(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(){this.overlays=new Et(we.comparator),this.Qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pa();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Pa(),i=n.length+1,o=new we(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Pa(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Pa(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return q.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wZ(n,r));let i=this.Qr.get(n);i===void 0&&(i=ze(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.$r=new Wt(Kt.Ur),this.Kr=new Wt(Kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Kt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new we(new ft([])),r=new Kt(n,e),s=new Kt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new we(new ft([])),r=new Kt(n,e),s=new Kt(n,e+1);let i=ze();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Kt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return we.comparator(e.key,n.key)||De(e.Zr,n.Zr)}static Wr(e,n){return De(e.Zr,n.Zr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Wt(Kt.Ur)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vZ(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new Kt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?i_:this.nr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),s=new Kt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const l=this.ei(o.Zr);i.push(l)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(De);return n.forEach(s=>{const i=new Kt(s,0),o=new Kt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{r=r.add(l.Zr)})}),q.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;we.isDocumentKey(i)||(i=i.child(""));const o=new Kt(new we(i),0);let l=new Wt(De);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},o),q.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return q.forEach(n.mutations,s=>{const i=new Kt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Kt(n,0),s=this.Xr.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.ii=e,this.docs=function(){return new Et(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vn.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ti();const o=n.path,l=new we(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||RQ(PQ(d),r)<=0||(s.has(d.key)||my(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}si(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iX(this)}getSize(e){return q.resolve(this.size)}}class iX extends ZZ{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.persistence=e,this.oi=new fl(n=>l_(n),c_),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this._i=0,this.ai=new m_,this.targetCount=0,this.ui=Fc.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),q.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Tr(n),q.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.ci={},this.overlays={},this.li=new uy(0),this.hi=!1,this.hi=!0,this.Pi=new nX,this.referenceDelegate=e(this),this.Ti=new oX(this),this.indexManager=new HZ,this.remoteDocumentCache=function(s){return new sX(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new BZ(n),this.Ei=new eX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new rX(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new aX(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return q.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class aX extends DQ{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Vi=new m_,this.mi=null}static fi(e){return new g_(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.gi,r=>{const s=we.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ke.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return q.or([()=>q.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class rg{constructor(e,n){this.persistence=e,this.yi=new fl(r=>VQ(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=QZ(this,n)}static fi(e,n){return new rg(e,n)}di(){}Ai(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return q.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ke.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),q.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bp(e.data.value)),n}Dr(e,n,r){return q.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ze(),s=ze();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new y_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return DK()?8:LQ(Tn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new lX;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ol()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),q.resolve()):(Ol()<=Be.DEBUG&&de("QueryEngine","Query:",Dl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ol()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(n))):q.resolve())}ws(e,n){if(dC(n))return q.resolve(null);let r=js(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=eg(n,null,"F"),r=js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ze(...i);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,o,c.readTime)?this.ws(e,eg(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return dC(n)||s.isEqual(ke.min())?q.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?q.resolve(null):(Ol()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dl(n)),this.Fs(e,o,n,AQ(s,vh)).next(l=>l))})}vs(e,n){let r=new Wt(tD(e));return n.forEach((s,i)=>{my(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ol()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Dl(n)),this.ys.getDocumentsMatchingQuery(e,n,Mo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LocalStore",uX=3e8;class dX{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Et(De),this.Os=new fl(i=>l_(i),c_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JZ(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function hX(t,e,n,r){return new dX(t,e,n,r)}async function ND(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ze();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function fX(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,p=h.keys();let m=q.resolve();return p.forEach(x=>{m=m.next(()=>d.getEntry(c,x)).next(w=>{const S=u.docVersions.get(x);tt(S!==null,48541),w.version.compareTo(S)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ze();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function SD(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function pX(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(an.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(w,S,_){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=uX?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&l.push(n.Ti.updateTargetData(i,m))});let c=Ti(),u=ze();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(mX(i,o,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(ke.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(h=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return q.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function mX(t,e,n){let r=ze(),s=ze();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ti();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):de(x_,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function gX(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=i_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yX(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new uo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function bw(t,e,n){const r=Re(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ru(o))throw o;de(x_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function NC(t,e,n){const r=Re(t);let s=ke.min(),i=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=Re(c),p=h.Os.get(d);return p!==void 0?q.resolve(h.xs.get(p)):h.Ti.getTargetData(u,d)}(r,o,js(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ke.min(),n?i:ze())).next(l=>(xX(r,rZ(e),l),{documents:l,$s:i})))}function xX(t,e,n){let r=t.Ns.get(e)||ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class SC{constructor(){this.activeTargetIds=cZ()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vX{constructor(){this.xo=new SC,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new SC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="ConnectivityMonitor";class CC{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(TC,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(TC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp=null;function _w(){return fp===null?fp=function(){return 268435456+Math.round(2147483648*Math.random())}():fp++,"0x"+fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="RestConnection",bX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _X{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Zm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=_w(),l=this.jo(e,n.toUriEncodedString());de(ix,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),d=ul(u);return this.Jo(e,l,c,r,d).then(h=>(de(ix,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Dc(ix,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",r),h})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=bX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class NX extends _X{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=_w();return new Promise((l,c)=>{const u=new j4;u.setWithCredentials(!0),u.listenOnce(k4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Up.NO_ERROR:const h=u.getResponseJson();de(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case Up.TIMEOUT:de(fn,`RPC '${e}' ${o} timed out`),c(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const p=u.getStatus();if(de(fn,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const w=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(x.status);c(new ue(w,x.message))}else c(new ue(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{de(fn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);de(fn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}I_(e,n,r){const s=_w(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=P4(),l=A4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");de(fn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);this.E_(h);let p=!1,m=!1;const x=new EX({Zo:S=>{m?de(fn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(de(fn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),de(fn,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Xo:()=>h.close()}),w=(S,_,v)=>{S.listen(_,T=>{try{v(T)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,ad.EventType.OPEN,()=>{m||(de(fn,`RPC '${e}' stream ${s} transport opened.`),x.__())}),w(h,ad.EventType.CLOSE,()=>{m||(m=!0,de(fn,`RPC '${e}' stream ${s} transport closed`),x.u_(),this.d_(h))}),w(h,ad.EventType.ERROR,S=>{m||(m=!0,Dc(fn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),x.u_(new ue(W.UNAVAILABLE,"The operation could not be completed")))}),w(h,ad.EventType.MESSAGE,S=>{var _;if(!m){const v=S.data[0];tt(!!v,16349);const T=v,k=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(k){de(fn,`RPC '${e}' stream ${s} received error:`,k);const P=k.status;let O=function(j){const R=Lt[j];if(R!==void 0)return hD(R)}(P),N=k.message;O===void 0&&(O=W.INTERNAL,N="Unknown error status: "+P+" with message "+k.message),m=!0,x.u_(new ue(O,N)),h.close()}else de(fn,`RPC '${e}' stream ${s} received:`,v),x.c_(v)}}),w(l,I4.STAT_EVENT,S=>{S.stat===uw.PROXY?de(fn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===uw.NOPROXY&&de(fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function ox(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){return new jZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="PersistentStream";class CD{constructor(e,n,r,s,i,o,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new TD(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new ue(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(jC,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(de(jC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SX extends CD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=AZ(this.serializer,e),r=function(i){if(!("targetChange"in i))return ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?ks(o.readTime):ke.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=ww(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=mw(c)?{documents:OZ(i,c)}:{query:DZ(i,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=mD(i,o.resumeToken);const u=yw(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ke.min())>0){l.readTime=ng(i,o.snapshotVersion.toTimestamp());const u=yw(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=MZ(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=ww(this.serializer),n.removeTarget=e,this.Q_(n)}}class TX extends CD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=RZ(e.writeResults,e.commitTime),r=ks(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=ww(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PZ(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{}class jX extends CX{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,xw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(W.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,xw(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(W.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Si(n),this.ua=!1):de("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class IX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{pl(this)&&(de(Xa,"Restarting streams for network reachability change."),await async function(c){const u=Re(c);u.da.add(4),await sf(u),u.Va.set("Unknown"),u.da.delete(4),await wy(u)}(this))})}),this.Va=new kX(r,s)}}async function wy(t){if(pl(t))for(const e of t.Aa)await e(!0)}async function sf(t){for(const e of t.Aa)await e(!1)}function jD(t,e){const n=Re(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),__(n)?b_(n):iu(n).N_()&&w_(n,e))}function v_(t,e){const n=Re(t),r=iu(n);n.Ea.delete(e),r.N_()&&kD(n,e),n.Ea.size===0&&(r.N_()?r.k_():pl(n)&&n.Va.set("Unknown"))}function w_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(t).Z_(e)}function kD(t,e){t.ma.Ke(e),iu(t).X_(e)}function b_(t){t.ma=new NZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.Va.ca()}function __(t){return pl(t)&&!iu(t).O_()&&t.Ea.size>0}function pl(t){return Re(t).da.size===0}function ID(t){t.ma=void 0}async function AX(t){t.Va.set("Online")}async function PX(t){t.Ea.forEach((e,n)=>{w_(t,e)})}async function RX(t,e){ID(t),__(t)?(t.Va.Pa(e),b_(t)):t.Va.set("Unknown")}async function OX(t,e,n){if(t.Va.set("Online"),e instanceof pD&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){de(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sg(t,r)}else if(e instanceof Wp?t.ma.Xe(e):e instanceof fD?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ke.min()))try{const r=await SD(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.ma.It(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ea.get(u);d&&i.Ea.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ea.get(c);if(!d)return;i.Ea.set(c,d.withResumeToken(an.EMPTY_BYTE_STRING,d.snapshotVersion)),kD(i,c);const h=new uo(d.target,c,u,d.sequenceNumber);w_(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){de(Xa,"Failed to raise snapshot:",r),await sg(t,r)}}async function sg(t,e,n){if(!ru(e))throw e;t.da.add(1),await sf(t),t.Va.set("Offline"),n||(n=()=>SD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(Xa,"Retrying IndexedDB access"),await n(),t.da.delete(1),await wy(t)})}function AD(t,e){return e().catch(n=>sg(t,n,e))}async function by(t){const e=Re(t),n=Uo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:i_;for(;DX(e);)try{const s=await gX(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,LX(e,s)}catch(s){await sg(e,s)}PD(e)&&RD(e)}function DX(t){return pl(t)&&t.Ia.length<10}function LX(t,e){t.Ia.push(e);const n=Uo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function PD(t){return pl(t)&&!Uo(t).O_()&&t.Ia.length>0}function RD(t){Uo(t).start()}async function MX(t){Uo(t).ia()}async function VX(t){const e=Uo(t);for(const n of t.Ia)e.ta(n.mutations)}async function FX(t,e,n){const r=t.Ia.shift(),s=h_.from(r,e,n);await AD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await by(t)}async function $X(t,e){e&&Uo(t).ea&&await async function(r,s){if(function(o){return _Z(o)&&o!==W.ABORTED}(s.code)){const i=r.Ia.shift();Uo(r).L_(),await AD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await by(r)}}(t,e),PD(t)&&RD(t)}async function kC(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(Xa,"RemoteStore received new credentials");const r=pl(n);n.da.add(3),await sf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await wy(n)}async function UX(t,e){const n=Re(t);e?(n.da.delete(2),await wy(n)):e||(n.da.add(2),await sf(n),n.Va.set("Unknown"))}function iu(t){return t.fa||(t.fa=function(n,r,s){const i=Re(n);return i.oa(),new SX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:AX.bind(null,t),n_:PX.bind(null,t),i_:RX.bind(null,t),Y_:OX.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),__(t)?b_(t):t.Va.set("Unknown")):(await t.fa.stop(),ID(t))})),t.fa}function Uo(t){return t.ga||(t.ga=function(n,r,s){const i=Re(n);return i.oa(),new TX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:MX.bind(null,t),i_:$X.bind(null,t),na:VX.bind(null,t),ra:FX.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await by(t)):(await t.ga.stop(),t.Ia.length>0&&(de(Xa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new E_(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N_(t,e){if(Si("AsyncQueue",`${e}: ${t}`),ru(t))return new ue(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{static emptySet(e){return new lc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=ld(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.pa=new Et(we.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class $c{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new $c(e,n,lc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class zX{constructor(){this.queries=AC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Re(n),i=s.queries;s.queries=AC(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function AC(){return new fl(t=>eD(t),py)}async function S_(t,e){const n=Re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new BX,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=N_(o,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&C_(n)}async function T_(t,e){const n=Re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HX(t,e){const n=Re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Ma(s)&&(r=!0);o.ba=s}}r&&C_(n)}function WX(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function C_(t){t.Ca.forEach(e=>{e.next()})}var Ew,PC;(PC=Ew||(Ew={})).xa="default",PC.Cache="cache";class j_{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=$c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ew.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.key=e}}class DD{constructor(e){this.key=e}}class qX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=tD(e),this.Xa=new lc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new IC,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=my(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?x!==w&&(r.track({type:3,doc:m}),S=!0):this.ru(p,m)||(r.track({type:2,doc:m}),S=!0,(c&&this.Za(m,c)>0||u&&this.Za(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),S=!0):p&&!m&&(r.track({type:1,doc:p}),S=!0,(c||u)&&(l=!0)),S&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,h)=>function(m,x){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:S})}};return w(m)-w(x)}(d.type,h.type)||this.Za(d.doc,h.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new $c(this.query,e.Xa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new IC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new DD(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new OD(r))}),n}au(e){this.Ha=e.$s,this.Ya=ze();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return $c.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const k_="SyncEngine";class KX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GX{constructor(e){this.key=e,this.cu=!1}}class YX{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new fl(l=>eD(l),py),this.Pu=new Map,this.Tu=new Set,this.Iu=new Et(we.comparator),this.Eu=new Map,this.du=new m_,this.Au={},this.Ru=new Map,this.Vu=Fc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function QX(t,e,n=!0){const r=UD(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await LD(r,e,n,!0),s}async function ZX(t,e){const n=UD(t);await LD(n,e,!0,!1)}async function LD(t,e,n,r){const s=await yX(t.localStore,js(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await XX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&jD(t.remoteStore,s),l}async function XX(t,e,n,r,s){t.fu=(h,p,m)=>async function(w,S,_,v){let T=S.view.tu(_);T.Cs&&(T=await NC(w.localStore,S.query,!1).then(({documents:N})=>S.view.tu(N,T)));const k=v&&v.targetChanges.get(S.targetId),P=v&&v.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(T,w.isPrimaryClient,k,P);return OC(w,S.targetId,O.ou),O.snapshot}(t,h,p,m);const i=await NC(t.localStore,e,!0),o=new qX(e,i.$s),l=o.tu(i.documents),c=rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);OC(t,n,u.ou);const d=new KX(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function JX(t,e,n){const r=Re(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!py(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&v_(r.remoteStore,s.targetId),Nw(r,s.targetId)}).catch(nu)):(Nw(r,s.targetId),await bw(r.localStore,s.targetId,!0))}async function eJ(t,e){const n=Re(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),v_(n.remoteStore,r.targetId))}async function tJ(t,e,n){const r=lJ(t);try{const s=await function(o,l){const c=Re(o),u=Ht.now(),d=l.reduce((m,x)=>m.add(x.key),ze());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Ti(),w=ze();return c.Bs.getEntries(m,d).next(S=>{x=S,x.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,x)).next(S=>{h=S;const _=[];for(const v of l){const T=yZ(v,h.get(v.key).overlayedDocument);T!=null&&_.push(new Jo(v.key,T,q4(T.value.mapValue),Tr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,l)}).next(S=>{p=S;const _=S.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(m,S.batchId,_)})}).then(()=>({batchId:p.batchId,changes:rD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Au[o.currentUser.toKey()];u||(u=new Et(De)),u=u.insert(l,c),o.Au[o.currentUser.toKey()]=u}(r,s.batchId,n),await of(r,s.changes),await by(r.remoteStore)}catch(s){const i=N_(s,"Failed to persist write");n.reject(i)}}async function MD(t,e){const n=Re(t);try{const r=await pX(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?tt(o.cu,14607):s.removedDocuments.size>0&&(tt(o.cu,42227),o.cu=!1))}),await of(n,r,e)}catch(r){await nu(r)}}function RC(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const l=o.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Re(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const p of h.Sa)p.Fa(l)&&(u=!0)}),u&&C_(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nJ(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Et(we.comparator);o=o.insert(i,vn.newNoDocument(i,ke.min()));const l=ze().add(i),c=new xy(ke.min(),new Map,new Et(De),o,l);await MD(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),I_(r)}else await bw(r.localStore,e,!1).then(()=>Nw(r,e,n)).catch(nu)}async function rJ(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await fX(n.localStore,e);FD(n,r,null),VD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await of(n,s)}catch(s){await nu(s)}}async function sJ(t,e,n){const r=Re(t);try{const s=await function(o,l){const c=Re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(tt(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);FD(r,e,n),VD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await of(r,s)}catch(s){await nu(s)}}function VD(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function FD(t,e,n){const r=Re(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Nw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||$D(t,r)})}function $D(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(v_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),I_(t))}function OC(t,e,n){for(const r of n)r instanceof OD?(t.du.addReference(r.key,e),iJ(t,r)):r instanceof DD?(de(k_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||$D(t,r.key)):Se(19791,{pu:r})}function iJ(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(de(k_,"New document in limbo: "+n),t.Tu.add(r),I_(t))}function I_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new we(ft.fromString(e)),r=t.Vu.next();t.Eu.set(r,new GX(n)),t.Iu=t.Iu.insert(n,r),jD(t.remoteStore,new uo(js(fy(n.path)),r,"TargetPurposeLimboResolution",uy.le))}}async function of(t,e,n){const r=Re(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{o.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=y_.Rs(c.targetId,u);i.push(h)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(c,u){const d=Re(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(u,p=>q.forEach(p.ds,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>q.forEach(p.As,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!ru(h))throw h;de(x_,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=d.xs.get(p),x=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(p,w)}}}(r.localStore,i))}async function oJ(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(k_,"User change. New user:",e.toKey());const r=await ND(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new ue(W.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await of(n,r.ks)}}function aJ(t,e){const n=Re(t),r=n.Eu.get(e);if(r&&r.cu)return ze().add(r.key);{let s=ze();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const l=n.hu.get(o);s=s.unionWith(l.view.eu)}return s}}function UD(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nJ.bind(null,e),e.lu.Y_=HX.bind(null,e.eventManager),e.lu.gu=WX.bind(null,e.eventManager),e}function lJ(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sJ.bind(null,e),e}class ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return hX(this.persistence,new cX,e.initialUser,this.serializer)}Su(e){return new ED(g_.fi,this.serializer)}bu(e){return new vX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ig.provider={build:()=>new ig};class cJ extends ig{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){tt(this.persistence.referenceDelegate instanceof rg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GZ(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new ED(r=>rg.fi(r,n),this.serializer)}}class Sw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oJ.bind(null,this.syncEngine),await UX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zX}()}createDatastore(e){const n=vy(e.databaseInfo.databaseId),r=function(i){return new NX(i)}(e.databaseInfo);return function(i,o,l,c){return new jX(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new IX(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>RC(this.syncEngine,n,0),function(){return CC.C()?new CC:new wX}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const h=new YX(s,i,o,l,c,u);return d&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Re(s);de(Xa,"RemoteStore shutting down."),i.da.add(5),await sf(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sw.provider={build:()=>new Sw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="FirestoreClient";class uJ{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=L4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{de(Bo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(de(Bo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ax(t,e){t.asyncQueue.verifyOperationInProgress(),de(Bo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ND(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dJ(t);de(Bo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>kC(e.remoteStore,s)),t._onlineComponents=e}async function dJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Bo,"Using user provided OfflineComponentProvider");try{await ax(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Dc("Error using user provided cache. Falling back to memory cache: "+n),await ax(t,new ig)}}else de(Bo,"Using default OfflineComponentProvider"),await ax(t,new cJ(void 0));return t._offlineComponents}async function BD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Bo,"Using user provided OnlineComponentProvider"),await DC(t,t._uninitializedComponentsProvider._online)):(de(Bo,"Using default OnlineComponentProvider"),await DC(t,new Sw))),t._onlineComponents}function hJ(t){return BD(t).then(e=>e.syncEngine)}async function og(t){const e=await BD(t),n=e.eventManager;return n.onListen=QX.bind(null,e.syncEngine),n.onUnlisten=JX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eJ.bind(null,e.syncEngine),n}function fJ(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new A_({next:p=>{d.xu(),o.enqueueAndForget(()=>T_(i,h));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new j_(fy(l.path),d,{includeMetadataChanges:!0,Qa:!0});return S_(i,h)}(await og(t),t.asyncQueue,e,n,r)),r.promise}function pJ(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new A_({next:p=>{d.xu(),o.enqueueAndForget(()=>T_(i,h)),p.fromCache&&c.source==="server"?u.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new j_(l,d,{includeMetadataChanges:!0,Qa:!0});return S_(i,h)}(await og(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mJ(t,e,n,r){if(e===!0&&r===!0)throw new ue(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MC(t){if(!we.isDocumentKey(t))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VC(t){if(we.isDocumentKey(t))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _y(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_y(t);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gJ(t,e){if(e<=0)throw new ue(W.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firestore.googleapis.com",FC=!0;class $C{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WD,this.ssl=FC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:FC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_D;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qZ)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $C({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $C(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _Q;switch(r.type){case"firstParty":return new TQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LC.get(n);r&&(de("ComponentProvider","Removing Datastore"),LC.delete(n),r.terminate())}(this),Promise.resolve()}}function yJ(t,e,n,r={}){var s;t=Qn(t,Ey);const i=ul(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(Q1(`https://${c}`),Z1("Firestore",!0)),o.host!==WD&&o.host!==c&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!Lo(u,l)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=yn.MOCK_USER;else{d=YO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yn(p)}t._authCredentials=new EQ(new O4(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class So extends Ri{constructor(e,n,r){super(e,n,fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new we(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function lt(t,e,...n){if(t=Dt(t),HD("collection","path",e),t instanceof Ey){const r=ft.fromString(e,...n);return VC(r),new So(t,null,r)}{if(!(t instanceof Nn||t instanceof So))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return VC(r),new So(t.firestore,null,r)}}function hr(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=L4.newId()),HD("doc","path",e),t instanceof Ey){const r=ft.fromString(e,...n);return MC(r),new Nn(t,null,new we(r))}{if(!(t instanceof Nn||t instanceof So))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return MC(r),new Nn(t.firestore,t instanceof So?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="AsyncQueue";class BC{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new TD(this,"async_queue_retry"),this.rc=()=>{const r=ox();r&&de(UC,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=ox();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=ox();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new di;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ru(e))throw e;de(UC,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Si("INTERNAL UNHANDLED ERROR: ",zC(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=E_.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Se(47125,{cc:zC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function zC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ci extends Ey{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new BC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BC(e),this._firestoreClient=void 0,await e}}}function xJ(t,e){const n=typeof t=="object"?t:ay(),r=typeof t=="string"?t:Zm,s=Zo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=qO("firestore");i&&yJ(s,...i)}return s}function Ny(t){if(t._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vJ(t),t._firestoreClient}function vJ(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new UQ(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new uJ(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uc(an.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uc(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ=/^__.*__$/;class bJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new nf(e,this.data,n,this.fieldTransforms)}}class qD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ic:t})}}class O_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new O_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ag(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(KD(this.Ic)&&wJ.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class _J{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vy(e)}bc(e,n,r,s=!1){return new O_({Ic:e,methodName:n,wc:r,path:rn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cy(t){const e=t._freezeSettings(),n=vy(t._databaseId);return new _J(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GD(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);L_("Data must be an object, but it was:",o,r);const l=YD(r,o);let c,u;if(i.merge)c=new ir(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Tw(e,h,n);if(!o.contains(p))throw new ue(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ZD(d,p)||d.push(p)}c=new ir(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new bJ(new Bn(l),c,u)}class jy extends Ty{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jy}}class D_ extends Ty{_toFieldTransform(e){return new fZ(e.path,new Nh)}isEqual(e){return e instanceof D_}}function EJ(t,e,n,r){const s=t.bc(1,e,n);L_("Data must be an object, but it was:",s,r);const i=[],o=Bn.empty();Xo(r,(c,u)=>{const d=M_(e,c,n);u=Dt(u);const h=s.mc(d);if(u instanceof jy)i.push(d);else{const p=af(u,h);p!=null&&(i.push(d),o.set(d,p))}});const l=new ir(i);return new qD(o,l,s.fieldTransforms)}function NJ(t,e,n,r,s,i){const o=t.bc(1,e,n),l=[Tw(e,r,n)],c=[s];if(i.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(Tw(e,i[p])),c.push(i[p+1]);const u=[],d=Bn.empty();for(let p=l.length-1;p>=0;--p)if(!ZD(u,l[p])){const m=l[p];let x=c[p];x=Dt(x);const w=o.mc(m);if(x instanceof jy)u.push(m);else{const S=af(x,w);S!=null&&(u.push(m),d.set(m,S))}}const h=new ir(u);return new qD(d,h,o.fieldTransforms)}function SJ(t,e,n,r=!1){return af(n,t.bc(r?4:3,e))}function af(t,e){if(QD(t=Dt(t)))return L_("Unsupported field value:",e,t),YD(t,e);if(t instanceof Ty)return function(r,s){if(!KD(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=af(l,s.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uZ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ht.fromDate(r);return{timestampValue:ng(s.serializer,i)}}if(r instanceof Ht){const i=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ng(s.serializer,i)}}if(r instanceof P_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uc)return{bytesValue:mD(s.serializer,r._byteString)};if(r instanceof Nn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof R_)return function(o,l){return{mapValue:{fields:{[H4]:{stringValue:W4},[Xm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return u_(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${_y(r)}`)}(t,e)}function YD(t,e){const n={};return V4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,s)=>{const i=af(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function QD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof P_||t instanceof Uc||t instanceof Nn||t instanceof Ty||t instanceof R_)}function L_(t,e,n){if(!QD(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=_y(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Tw(t,e,n){if((e=Dt(e))instanceof Sy)return e._internalPath;if(typeof e=="string")return M_(t,e);throw ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const TJ=new RegExp("[~\\*/\\[\\]]");function M_(t,e,n){if(e.search(TJ)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sy(...e.split("."))._internalPath}catch{throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ag(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ue(W.INVALID_ARGUMENT,l+t+c)}function ZD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CJ extends XD{data(){return super.data()}}function ky(t,e){return typeof e=="string"?M_(t,e):e instanceof Sy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V_{}class F_ extends V_{}function An(t,e,...n){let r=[];e instanceof V_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof $_).length,l=i.filter(c=>c instanceof Iy).length;if(o>1||o>0&&l>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Iy extends F_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Iy(e,n,r)}_apply(e){const n=this._parse(e);return eL(e._query,n),new Ri(e.firestore,e.converter,gw(e._query,n))}_parse(e){const n=Cy(e.firestore);return function(i,o,l,c,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qC(h,d);const x=[];for(const w of h)x.push(WC(c,i,w));p={arrayValue:{values:x}}}else p=WC(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qC(h,d),p=SJ(l,o,h,d==="in"||d==="not-in");return $t.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zr(t,e,n){const r=e,s=ky("where",t);return Iy._create(s,r,n)}class $_ extends V_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)eL(o,c),o=gw(o,c)}(e._query,n),new Ri(e.firestore,e.converter,gw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U_ extends F_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new U_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eh(i,o)}(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new su(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Va(t,e="asc"){const n=e,r=ky("orderBy",t);return U_._create(r,n)}class B_ extends F_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new B_(e,n,r)}_apply(e){return new Ri(e.firestore,e.converter,eg(e._query,this._limit,this._limitType))}}function Od(t){return gJ("limit",t),B_._create("limit",t,"F")}function WC(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J4(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!we.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iC(t,new we(r))}if(n instanceof Nn)return iC(t,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_y(n)}.`)}function qC(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eL(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jJ{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Xm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>It(o.doubleValue));return new R_(i)}convertGeoPoint(e){return new P_(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);tt(bD(r),9688,{name:e});const s=new bh(r.get(1),r.get(3)),i=new we(r.popFirst(5));return s.isEqual(n)||Si(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nL extends XD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qp extends nL{data(e={}){return super.data(e)}}class rL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ud(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qp(this._firestore,this._userDataWriter,r.key,r,new ud(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new qp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ud(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new qp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ud(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:kJ(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(t){t=Qn(t,Nn);const e=Qn(t.firestore,Ci);return fJ(Ny(e),t._key).then(n=>sL(e,t,n))}class z_ extends jJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function nn(t){t=Qn(t,Ri);const e=Qn(t.firestore,Ci),n=Ny(e),r=new z_(e);return JD(t._query),pJ(n,t._query).then(s=>new rL(e,r,t,s))}function AJ(t,e,n){t=Qn(t,Nn);const r=Qn(t.firestore,Ci),s=tL(t.converter,e);return Py(r,[GD(Cy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Tr.none())])}function ou(t,e,n,...r){t=Qn(t,Nn);const s=Qn(t.firestore,Ci),i=Cy(s);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Sy?NJ(i,"updateDoc",t._key,e,n,r):EJ(i,"updateDoc",t._key,e),Py(s,[o.toMutation(t._key,Tr.exists(!0))])}function Ay(t){return Py(Qn(t.firestore,Ci),[new d_(t._key,Tr.none())])}function lf(t,e){const n=Qn(t.firestore,Ci),r=hr(t),s=tL(t.converter,e);return Py(n,[GD(Cy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function H_(t,...e){var n,r,s;t=Dt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||HC(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(HC(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,u,d;if(t instanceof Nn)u=Qn(t.firestore,Ci),d=fy(t._key.path),c={next:h=>{e[o]&&e[o](sL(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Qn(t,Ri);u=Qn(h.firestore,Ci),d=h._query;const p=new z_(u);c={next:m=>{e[o]&&e[o](new rL(u,p,h,m))},error:e[o+1],complete:e[o+2]},JD(t._query)}return function(p,m,x,w){const S=new A_(w),_=new j_(m,S,x);return p.asyncQueue.enqueueAndForget(async()=>S_(await og(p),_)),()=>{S.xu(),p.asyncQueue.enqueueAndForget(async()=>T_(await og(p),_))}}(Ny(u),d,l,c)}function Py(t,e){return function(r,s){const i=new di;return r.asyncQueue.enqueueAndForget(async()=>tJ(await hJ(r),s,i)),i.promise}(Ny(t),e)}function sL(t,e,n){const r=n.docs.get(e._key),s=new z_(t);return new nL(t,s,e._key,r,new ud(n.hasPendingWrites,n.fromCache),e.converter)}function Fa(){return new D_("serverTimestamp")}(function(e,n=!0){(function(s){tu=s})(hl),Jr(new kr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Ci(new NQ(r.getProvider("auth-internal")),new CQ(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Gn(K2,G2,e),Gn(K2,G2,"esm2017")})();function W_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function iL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PJ=iL,oL=new dl("auth","Firebase",iL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new oy("@firebase/auth");function RJ(t,...e){lg.logLevel<=Be.WARN&&lg.warn(`Auth (${hl}): ${t}`,...e)}function Kp(t,...e){lg.logLevel<=Be.ERROR&&lg.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,...e){throw q_(t,...e)}function Is(t,...e){return q_(t,...e)}function aL(t,e,n){const r=Object.assign(Object.assign({},PJ()),{[e]:n});return new dl("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return aL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oL.create(t,...e)}function Ne(t,e,...n){if(!t)throw q_(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kp(e),new Error(e)}function ji(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OJ(){return KC()==="http:"||KC()==="https:"}function KC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OJ()||QO()||"connection"in navigator)?navigator.onLine:!0}function LJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=IK()||RK()}get(){return DJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FJ=new cf(3e4,6e4);function ea(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ta(t,e,n,r,s={}){return cL(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=tf(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return PK()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ul(t.emulatorConfig.host)&&(u.credentials="include"),lL.fetch()(await uL(t,t.config.apiHost,n,l),u)})}async function cL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MJ),e);try{const s=new UJ(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw pp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw pp(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aL(t,d,u);ts(t,d)}}catch(s){if(s instanceof Ar)throw s;ts(t,"network-request-failed",{message:String(s)})}}async function uf(t,e,n,r,s={}){const i=await ta(t,e,n,r,s);return"mfaPendingCredential"in i&&ts(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uL(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?K_(t.config,s):`${t.config.apiScheme}://${s}`;return VJ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function $J(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Is(this.auth,"network-request-failed")),FJ.get())})}}function pp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Is(t,e,r);return s.customData._tokenResponse=n,s}function GC(t){return t!==void 0&&t.enterprise!==void 0}class BJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $J(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zJ(t,e){return ta(t,"GET","/v2/recaptchaConfig",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HJ(t,e){return ta(t,"POST","/v1/accounts:delete",e)}async function cg(t,e){return ta(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WJ(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),s=G_(r);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Dd(lx(s.auth_time)),issuedAtTime:Dd(lx(s.iat)),expirationTime:Dd(lx(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function lx(t){return Number(t)*1e3}function G_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kp("JWT malformed, contained fewer than 3 sections"),null;try{const s=HO(n);return s?JSON.parse(s):(Kp("Failed to decode base64 JWT payload"),null)}catch(s){return Kp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function YC(t){const e=G_(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ar&&qJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dd(this.lastLoginAt),this.creationTime=Dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ch(t,cg(n,{idToken:r}));Ne(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?dL(i.providerUserInfo):[],l=YJ(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new jw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function GJ(t){const e=Dt(t);await ug(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YJ(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dL(t){return t.map(e=>{var{providerId:n}=e,r=W_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QJ(t,e){const n=await cL(t,{},async()=>{const r=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await uL(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ul(t.emulatorConfig.host)&&(c.credentials="include"),lL.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZJ(t,e){return ta(t,"POST","/v2/accounts:revokeToken",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=YC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await QJ(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new cc;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=W_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ch(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WJ(this,e)}reload(){return GJ(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ug(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Ch(this,HJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:k,isAnonymous:P,providerData:O,stsTokenManager:N}=n;Ne(T&&N,e,"internal-error");const E=cc.fromJSON(this.name,N);Ne(typeof T=="string",e,"internal-error"),Hi(h,e.name),Hi(p,e.name),Ne(typeof k=="boolean",e,"internal-error"),Ne(typeof P=="boolean",e,"internal-error"),Hi(m,e.name),Hi(x,e.name),Hi(w,e.name),Hi(S,e.name),Hi(_,e.name),Hi(v,e.name);const j=new Gr({uid:T,auth:e,email:p,emailVerified:k,displayName:h,isAnonymous:P,photoURL:x,phoneNumber:m,tenantId:w,stsTokenManager:E,createdAt:_,lastLoginAt:v});return O&&Array.isArray(O)&&(j.providerData=O.map(R=>Object.assign({},R))),S&&(j._redirectEventId=S),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new cc;s.updateFromServerResponse(n);const i=new Gr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ug(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dL(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new cc;l.updateFromIdToken(r);const c=new Gr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Map;function ii(t){ji(t instanceof Function,"Expected a class definition");let e=QC.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hL.type="NONE";const ZC=hL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t,e,n){return`firebase:${t}:${e}:${n}`}class uc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Gp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Gp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cg(this.auth,{idToken:e}).catch(()=>{});return n?Gr._fromGetAccountInfoResponse(this.auth,n,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uc(ii(ZC),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ii(ZC);const o=Gp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await cg(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Gr._fromGetAccountInfoResponse(e,p,d)}else h=Gr._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new uc(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new uc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xL(e))return"Blackberry";if(vL(e))return"Webos";if(pL(e))return"Safari";if((e.includes("chrome/")||mL(e))&&!e.includes("edge/"))return"Chrome";if(yL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fL(t=Tn()){return/firefox\//i.test(t)}function pL(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mL(t=Tn()){return/crios\//i.test(t)}function gL(t=Tn()){return/iemobile/i.test(t)}function yL(t=Tn()){return/android/i.test(t)}function xL(t=Tn()){return/blackberry/i.test(t)}function vL(t=Tn()){return/webos/i.test(t)}function Y_(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XJ(t=Tn()){var e;return Y_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JJ(){return OK()&&document.documentMode===10}function wL(t=Tn()){return Y_(t)||yL(t)||vL(t)||xL(t)||/windows phone/i.test(t)||gL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e=[]){let n;switch(t){case"Browser":n=XC(Tn());break;case"Worker":n=`${XC(Tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tee(t,e={}){return ta(t,"GET","/v2/passwordPolicy",ea(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee=6;class ree{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nee,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JC(this),this.idTokenSubscription=new JC(this),this.beforeStateQueue=new eee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await uc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cg(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ug(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(hi(this));const n=e?Dt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tee(this),n=new ree(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await uc.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ml(t){return Dt(t)}class JC{constructor(e){this.auth=e,this.observer=null,this.addObserver=UK(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iee(t){Ry=t}function _L(t){return Ry.loadJS(t)}function oee(){return Ry.recaptchaEnterpriseScript}function aee(){return Ry.gapiScript}function lee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cee{constructor(){this.enterprise=new uee}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uee{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dee="recaptcha-enterprise",EL="NO_RECAPTCHA";class hee{constructor(e){this.type=dee,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{zJ(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new BJ(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;GC(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(EL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cee().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&GC(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=oee();c.length!==0&&(c+=l),_L(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function ej(t,e,n,r=!1,s=!1){const i=new hee(t);let o;if(s)o=EL;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function kw(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ej(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ej(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(t,e){const n=Zo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Lo(i,e??{}))return s;ts(s,"already-initialized")}return n.initialize({options:e})}function pee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mee(t,e,n){const r=ml(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=NL(e),{host:o,port:l}=gee(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Lo(u,r.config.emulator)&&Lo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ul(o)?(Q1(`${i}//${o}${c}`),Z1("Auth",!0)):yee()}function NL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gee(t){const e=NL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:tj(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:tj(o)}}}function tj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function xee(t,e){return ta(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vee(t,e){return uf(t,"POST","/v1/accounts:signInWithPassword",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wee(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",ea(t,e))}async function bee(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Q_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new jh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kw(e,n,"signInWithPassword",vee);case"emailLink":return wee(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kw(e,r,"signUpPassword",xee);case"emailLink":return bee(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e){return uf(t,"POST","/v1/accounts:signInWithIdp",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee="http://localhost";class Ja extends Q_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=W_(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ja(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return dc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dc(e,n)}buildRequest(){const e={requestUri:_ee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nee(t){const e=id(od(t)).link,n=e?id(od(e)).deep_link_id:null,r=id(od(t)).deep_link_id;return(r?id(od(r)).link:null)||r||n||e||t}class Z_{constructor(e){var n,r,s,i,o,l;const c=id(od(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=Eee((s=c.mode)!==null&&s!==void 0?s:null);Ne(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Nee(e);try{return new Z_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(e,n){return jh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Z_.parseLink(n);return Ne(r,"argument-error"),jh._fromEmailAndCode(e,r.code,r.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends SL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends df{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return no.credential(n,r)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends df{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends df{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function See(t,e){return uf(t,"POST","/v1/accounts:signUp",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Gr._fromIdTokenResponse(e,r,s),o=nj(r);return new el({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=nj(r);return new el({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function nj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends Ar{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dg(e,n,r,s)}}function TL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dg._fromErrorAndOperation(t,i,e,r):i})}async function Tee(t,e,n=!1){const r=await Ch(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return el._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cee(t,e,n=!1){const{auth:r}=t;if(rr(r.app))return Promise.reject(hi(r));const s="reauthenticate";try{const i=await Ch(t,TL(r,s,e,t),n);Ne(i.idToken,r,"internal-error");const o=G_(i.idToken);Ne(o,r,"internal-error");const{sub:l}=o;return Ne(t.uid===l,r,"user-mismatch"),el._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ts(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e,n=!1){if(rr(t.app))return Promise.reject(hi(t));const r="signIn",s=await TL(t,r,e),i=await el._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function jee(t,e){return CL(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kee(t,e,n){if(rr(t.app))return Promise.reject(hi(t));const r=ml(t),o=await kw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",See).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&jL(t),c}),l=await el._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Iee(t,e,n){return rr(t.app)?Promise.reject(hi(t)):jee(Dt(t),au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jL(t),r})}function Aee(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Pee(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function Ree(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}const hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hg,"1"),this.storage.removeItem(hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=1e3,Dee=10;class IL extends kL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);JJ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Dee):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Oee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IL.type="LOCAL";const Lee=IL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL extends kL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AL.type="SESSION";const PL=AL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Oy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await Mee(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=X_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function Fee(t){As().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function $ee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bee(){return RL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firebaseLocalStorageDb",zee=1,fg="firebaseLocalStorage",DL="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dy(t,e){return t.transaction([fg],e?"readwrite":"readonly").objectStore(fg)}function Hee(){const t=indexedDB.deleteDatabase(OL);return new hf(t).toPromise()}function Iw(){const t=indexedDB.open(OL,zee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fg,{keyPath:DL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fg)?e(r):(r.close(),await Hee(),e(await Iw()))})})}async function rj(t,e,n){const r=Dy(t,!0).put({[DL]:e,value:n});return new hf(r).toPromise()}async function Wee(t,e){const n=Dy(t,!1).get(e),r=await new hf(n).toPromise();return r===void 0?null:r.value}function sj(t,e){const n=Dy(t,!0).delete(e);return new hf(n).toPromise()}const qee=800,Kee=3;class LL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Kee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oy._getInstance(Bee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $ee(),!this.activeServiceWorker)return;this.sender=new Vee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iw();return await rj(e,hg,"1"),await sj(e,hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Wee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Dy(s,!1).getAll();return new hf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LL.type="LOCAL";const Gee=LL;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t,e){return e?ii(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Q_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qee(t){return CL(t.auth,new J_(t),t.bypassAuthState)}function Zee(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),Cee(n,new J_(t),t.bypassAuthState)}async function Xee(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),Tee(n,new J_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qee;case"linkViaPopup":case"linkViaRedirect":return Xee;case"reauthViaPopup":case"reauthViaRedirect":return Zee;default:ts(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee=new cf(2e3,1e4);class tc extends ML{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=X_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jee.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete="pendingRedirect",Yp=new Map;class tte extends ML{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yp.get(this.auth._key());if(!e){try{const r=await nte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yp.set(this.auth._key(),e)}return this.bypassAuthState||Yp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nte(t,e){const n=ite(e),r=ste(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function rte(t,e){Yp.set(t._key(),e)}function ste(t){return ii(t._redirectPersistence)}function ite(t){return Gp(ete,t.config.apiKey,t.name)}async function ote(t,e,n=!1){if(rr(t.app))return Promise.reject(hi(t));const r=ml(t),s=Yee(r,e),o=await new tte(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=10*60*1e3;class lte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VL(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ate&&this.cachedEventUids.clear(),this.cachedEventUids.has(ij(e))}saveEventToCache(e){this.cachedEventUids.add(ij(e)),this.lastProcessedEventTime=Date.now()}}function ij(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ute(t,e={}){return ta(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hte=/^https?/;async function fte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ute(t);for(const n of e)try{if(pte(n))return}catch{}ts(t,"unauthorized-domain")}function pte(t){const e=Cw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hte.test(n))return!1;if(dte.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=new cf(3e4,6e4);function oj(){const t=As().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gte(t){return new Promise((e,n)=>{var r,s,i;function o(){oj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oj(),n(Is(t,"network-request-failed"))},timeout:mte.get()})}if(!((s=(r=As().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=As().gapi)===null||i===void 0)&&i.load)o();else{const l=lee("iframefcb");return As()[l]=()=>{gapi.load?o():n(Is(t,"network-request-failed"))},_L(`${aee()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Qp=null,e})}let Qp=null;function yte(t){return Qp=Qp||gte(t),Qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte=new cf(5e3,15e3),vte="__/auth/iframe",wte="emulator/auth/iframe",bte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_te=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ete(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K_(e,wte):`https://${t.config.authDomain}/${vte}`,r={apiKey:e.apiKey,appName:t.name,v:hl},s=_te.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${tf(r).slice(1)}`}async function Nte(t){const e=await yte(t),n=As().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Ete(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bte,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Is(t,"network-request-failed"),l=As().setTimeout(()=>{i(o)},xte.get());function c(){As().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tte=500,Cte=600,jte="_blank",kte="http://localhost";class aj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ite(t,e,n,r=Tte,s=Cte){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Ste),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Tn().toLowerCase();n&&(l=mL(u)?jte:n),fL(u)&&(e=e||kte,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,x])=>`${p}${m}=${x},`,"");if(XJ(u)&&l!=="_self")return Ate(e||"",l),new aj(null);const h=window.open(e||"",l,d);Ne(h,t,"popup-blocked");try{h.focus()}catch{}return new aj(h)}function Ate(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte="__/auth/handler",Rte="emulator/auth/handler",Ote=encodeURIComponent("fac");async function lj(t,e,n,r,s,i){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hl,eventId:s};if(e instanceof SL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$K(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof df){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Ote}=${encodeURIComponent(c)}`:"";return`${Dte(t)}?${tf(l).slice(1)}${u}`}function Dte({config:t}){return t.emulator?K_(t,Rte):`https://${t.authDomain}/${Pte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="webStorageSupport";class Lte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PL,this._completeRedirectFn=ote,this._overrideRedirectResult=rte}async _openPopup(e,n,r,s){var i;ji((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await lj(e,n,r,Cw(),s);return Ite(e,o,X_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await lj(e,n,r,Cw(),s);return Fee(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ji(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nte(e),r=new lte(e);return n.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cx,{type:cx},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[cx];o!==void 0&&n(!!o),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wL()||pL()||Y_()}}const Mte=Lte;var cj="@firebase/auth",uj="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $te(t){Jr(new kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bL(t)},u=new see(r,s,i,c);return pee(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jr(new kr("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new Vte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(cj,uj,Fte(t)),Gn(cj,uj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute=5*60,Bte=GO("authIdTokenMaxAge")||Ute;let dj=null;const zte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Bte)return;const s=n==null?void 0:n.token;dj!==s&&(dj=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Hte(t=ay()){const e=Zo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fee(t,{popupRedirectResolver:Mte,persistence:[Gee,Lee,PL]}),r=GO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=zte(i.toString());Pee(n,o,()=>o(n.currentUser)),Aee(n,l=>o(l))}}const s=WO("auth");return s&&mee(n,`http://${s}`),n}function Wte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Is("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Wte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$te("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="firebasestorage.googleapis.com",qte="storageBucket",Kte=2*60*1e3,Gte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Ar{constructor(e,n,r=0){super(ux(e),`Firebase Storage: ${n} (${ux(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ms.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ux(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rs||(Rs={}));function ux(t){return"storage/"+t}function Yte(){const t="An unknown error occurred, please check the error payload for server response.";return new Ms(Rs.UNKNOWN,t)}function Qte(){return new Ms(Rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zte(){return new Ms(Rs.CANCELED,"User canceled the upload/download.")}function Xte(t){return new Ms(Rs.INVALID_URL,"Invalid URL '"+t+"'.")}function Jte(t){return new Ms(Rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hj(t){return new Ms(Rs.INVALID_ARGUMENT,t)}function $L(){return new Ms(Rs.APP_DELETED,"The Firebase app was deleted.")}function ene(t){return new Ms(Rs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw Jte(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),x={bucket:1,path:3},w=n===FL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",_=new RegExp(`^https?://${w}/${s}/${S}`,"i"),T=[{regex:l,indices:c,postModify:i},{regex:m,indices:x,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<T.length;k++){const P=T[k],O=P.regex.exec(e);if(O){const N=O[P.indices.bucket];let E=O[P.indices.path];E||(E=""),r=new Yr(N,E),P.postModify(r);break}}if(r==null)throw Xte(e);return r}}class tne{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nne(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){s=setTimeout(()=>{s=null,t(m,c())},S)}function p(){i&&clearTimeout(i)}function m(S,..._){if(u){p();return}if(S){p(),d.call(null,S,..._);return}if(c()||o){p(),d.call(null,S,..._);return}r<64&&(r*=2);let T;l===1?(l=2,T=0):T=(r+Math.random())*1e3,h(T)}let x=!1;function w(S){x||(x=!0,p(),!u&&(s!==null?(S||(l=2),clearTimeout(s),h(0)):S||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function rne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sne(t){return t!==void 0}function fj(t,e,n,r){if(r<e)throw hj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hj(`Invalid value for '${t}'. Expected ${n} or less.`)}function ine(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var pg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pg||(pg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function one(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(e,n,r,s,i,o,l,c,u,d,h,p=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,w)=>{this.resolve_=x,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new mp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===pg.NO_ERROR,c=i.getStatus();if(!l||one(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===pg.ABORT;r(!1,new mp(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new mp(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());sne(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=Yte();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?$L():Zte();o(c)}else{const c=Qte();o(c)}};this.canceled_?n(!1,new mp(!1,null,!0)):this.backoffId_=nne(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function une(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dne(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hne(t,e,n,r,s,i,o=!0,l=!1){const c=ine(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return une(d,e),lne(d,n),cne(d,i),dne(d,r),new ane(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pne(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mg(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pne(this._location.path)}get storage(){return this._service}get parent(){const e=fne(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new mg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ene(e)}}function pj(t,e){const n=e==null?void 0:e[qte];return n==null?null:Yr.makeFromBucketSpec(n,t)}function mne(t,e,n,r={}){t.host=`${e}:${n}`;const s=ul(e);s&&(Q1(`https://${t.host}/b`),Z1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:YO(i,t.app.options.projectId))}class gne{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=FL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kte,this._maxUploadRetryTime=Gte,this._requests=new Set,s!=null?this._bucket=Yr.makeFromBucketSpec(s,this._host):this._bucket=pj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=pj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new tne($L());{const o=hne(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const mj="@firebase/storage",gj="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="storage";function yne(t=ay(),e){t=Dt(t);const r=Zo(t,UL).getImmediate({identifier:e}),s=qO("storage");return s&&xne(r,...s),r}function xne(t,e,n,r={}){mne(t,e,n,r)}function vne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new gne(n,r,s,e,hl)}function wne(){Jr(new kr(UL,vne,"PUBLIC").setMultipleInstances(!0)),Gn(mj,gj,""),Gn(mj,gj,"esm2017")}wne();const bne={apiKey:"AIzaSyDuEzZk7GFMPf-P7kDI3rwScxXTSapQfq8",authDomain:"credexis-c0e34.firebaseapp.com",projectId:"credexis-c0e34",storageBucket:"credexis-c0e34.appspot.com",messagingSenderId:"508247199649",appId:"1:508247199649:web:626db2b74eabc8f19345e0",measurementId:"G-NWTRVR0QDD"},Ly=n4(bne);xQ(Ly);const Le=xJ(Ly),eE=Hte(Ly);yne(Ly);function _ne(){const[t,e]=y.useState(!1),[n,r]=y.useState(!1),s=Os(),{register:i,handleSubmit:o,formState:{errors:l}}=q1({resolver:K1(xK)}),c=async u=>{try{r(!0);const d=await Iee(eE,u.email,u.password);console.log("Logged in as:",d.user.email),He.success("Successfully logged in!"),s("/dashboard")}catch(d){console.error("Login failed:",d);let h="Failed to sign in";switch(d.code){case"auth/user-not-found":case"auth/wrong-password":h="Invalid email or password";break;case"auth/too-many-requests":h="Too many failed attempts. Please try again later";break;case"auth/user-disabled":h="This account has been disabled";break;default:h=d.message||"Failed to sign in"}He.error(h)}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome to Credexis Pro"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:o(c),children:[a.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[a.jsx(l2,{id:"email",type:"email",label:"Email address",autoComplete:"email",placeholder:"Enter your email",error:l.email,...i("email")}),a.jsx(l2,{id:"password",type:t?"text":"password",label:"Password",autoComplete:"current-password",placeholder:"Enter your password",error:l.password,isPassword:!0,showPasswordToggle:t,onTogglePassword:()=>e(!t),...i("password")})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"text-sm",children:a.jsx(rt,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n?a.jsx(zq,{size:"sm",className:"text-white"}):"Sign in"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx(rt,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"})]})})]})]})})}function Ene(){const t=Os(),[e,n]=y.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",company:"",agreeToTerms:!1}),[r,s]=y.useState(!1),[i,o]=y.useState({}),l=()=>{const d={};return e.firstName.trim()||(d.firstName="First name is required"),e.lastName.trim()||(d.lastName="Last name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(d.email="Email is invalid"):d.email="Email is required",e.password?e.password.length<8&&(d.password="Password must be at least 8 characters"):d.password="Password is required",e.password!==e.confirmPassword&&(d.confirmPassword="Passwords do not match"),e.agreeToTerms||(d.agreeToTerms="You must agree to the terms and conditions"),o(d),Object.keys(d).length===0},c=async d=>{if(d.preventDefault(),l())try{const h=await kee(eE,e.email,e.password);console.log("User created:",h.user),await AJ(hr(Le,"users",h.user.uid),{firstName:e.firstName,lastName:e.lastName,email:e.email,company:e.company}),t("/dashboard")}catch(h){console.error("Signup failed:",h),o(p=>({...p,submit:h.message}))}},u=d=>{const{name:h,value:p,type:m,checked:x}=d.target;n(w=>({...w,[h]:m==="checkbox"?x:p})),i[h]&&o(w=>({...w,[h]:""}))};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsxs(rt,{to:"/",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[a.jsx(cO,{className:"w-4 h-4 mr-1"}),"Back to home"]}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx(rt,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to your existing account"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsxs("form",{className:"space-y-6",onSubmit:c,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.firstName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.firstName&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.firstName})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last name"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.lastName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.lastName&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.lastName})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.email&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company name"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"company",name:"company",type:"text",value:e.company,onChange:u,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!r),children:r?a.jsx(L1,{className:"h-5 w-5 text-gray-400"}):a.jsx(Pi,{className:"h-5 w-5 text-gray-400"})}),i.password&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.password})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:u,className:`appearance-none block w-full px-3 py-2 border ${i.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),i.confirmPassword&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.confirmPassword})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:e.agreeToTerms,onChange:u,className:`h-4 w-4 text-indigo-600 focus:ring-indigo-500 border ${i.agreeToTerms?"border-red-300":"border-gray-300"} rounded`}),a.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Terms and Conditions"})]})]}),i.agreeToTerms&&a.jsx("p",{className:"text-sm text-red-600",children:i.agreeToTerms}),a.jsx("div",{children:a.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create account"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[a.jsx("div",{children:a.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Sign in with Google"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})})]})}),a.jsx("div",{children:a.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Sign in with Microsoft"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M11.4 24H0V12.6h11.4V24zM24 24H12.6V12.6H24V24zM11.4 11.4H0V0h11.4v11.4zm12.6 0H12.6V0H24v11.4z"})})]})})]})]})]})})]})}const Nne=eu({email:Ei().min(1,"Email is required").email("Invalid email format").max(255,"Email is too long")});function Sne(){const[t,e]=y.useState(!1),{register:n,handleSubmit:r,formState:{errors:s}}=q1({resolver:K1(Nne)}),i=async()=>{try{e(!0),He.success("Password reset instructions sent to your email")}catch(o){He.error(o instanceof Error?o.message:"Failed to send reset instructions")}finally{e(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md space-y-8",children:[a.jsxs("div",{children:[a.jsxs(rt,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[a.jsx(cO,{className:"w-4 h-4 mr-1"}),"Back to login"]}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you instructions to reset your password."})]}),a.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("form",{className:"space-y-6",onSubmit:r(i),children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{...n("email"),id:"email",type:"email",autoComplete:"email",className:`appearance-none block w-full px-3 py-2 border ${s.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`,placeholder:"Enter your email","aria-invalid":s.email?"true":"false"}),s.email&&a.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:s.email.message})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:t?"Sending...":"Send reset instructions"})})]})})]})})}const Tne=eu({password:Ei().min(1,"Password is required").min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"),confirmPassword:Ei().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Cne(){const t=Os(),[e]=rV(),[n,r]=y.useState(!1),[s,i]=y.useState(!1),o=e.get("token"),{register:l,handleSubmit:c,formState:{errors:u}}=q1({resolver:K1(Tne)}),d=async()=>{if(!o){He.error("Invalid or expired reset token");return}try{r(!0),He.success("Password reset successful"),t("/login")}catch(h){He.error(h instanceof Error?h.message:"Failed to reset password")}finally{r(!1)}};return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md space-y-8",children:a.jsxs("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Reset Password"}),a.jsxs("form",{className:"space-y-6",onSubmit:c(d),children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{...l("password"),id:"password",type:s?"text":"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${u.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`,placeholder:"Enter new password","aria-invalid":u.password?"true":"false"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?a.jsx(L1,{className:"h-5 w-5 text-gray-400"}):a.jsx(Pi,{className:"h-5 w-5 text-gray-400"})}),u.password&&a.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:u.password.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm new password"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{...l("confirmPassword"),id:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${u.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n?"Resetting...":"Reset Password"})})]})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Invalid Reset Link"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"This password reset link is invalid or has expired. Please request a new one."})]})})})}const jne=[{label:"Dashboard",path:"/dashboard",icon:a.jsx(oW,{className:"w-5 h-5"})},{label:"Why Credexis",path:"/why-credexis",icon:a.jsx(hO,{className:"w-5 h-5"})},{label:"Clients",path:"/clients",icon:a.jsx(Ka,{className:"w-5 h-5"})},{label:"Disputes",path:"/disputes",icon:a.jsx(Ts,{className:"w-5 h-5"})},{label:"Tasks",path:"/tasks",icon:a.jsx(aW,{className:"w-5 h-5"})},{label:"Payments",path:"/payments",icon:a.jsx(jc,{className:"w-5 h-5"})},{label:"Documents",path:"/documents",icon:a.jsx(mO,{className:"w-5 h-5"})},{label:"Letter Templates",path:"/letter-templates",icon:a.jsx(fW,{className:"w-5 h-5"})},{label:"Marketing",path:"/marketing",icon:a.jsx(lW,{className:"w-5 h-5"})},{label:"Credit Tools",path:"/credit-tools",icon:a.jsx(yW,{className:"w-5 h-5"})},{label:"Reports",path:"/reports",icon:a.jsx(dO,{className:"w-5 h-5"})}];function kne(){const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState(window.location.pathname);return y.useEffect(()=>{i(window.location.pathname),r(!1)},[window.location.pathname]),y.useEffect(()=>{const o=()=>{window.innerWidth<768?e(!0):e(!1)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>r(!n),className:"fixed top-4 left-4 z-50 md:hidden p-2 rounded-lg bg-white shadow-lg hover:bg-gray-50 transition-colors","aria-label":"Toggle mobile menu",children:n?a.jsx(En,{className:"w-6 h-6 text-gray-600"}):a.jsx(F1,{className:"w-6 h-6 text-gray-600"})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>r(!1)}),a.jsx("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-gray-200 transition-all duration-300 ease-in-out z-40
          ${t?"w-20":"w-64"}
          ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!t&&a.jsxs(rt,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-500 bg-clip-text text-transparent",children:"Credexis"})]}),t&&a.jsx(rt,{to:"/",className:"flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"C"})})}),a.jsx("button",{onClick:()=>e(!t),className:"hidden md:flex items-center justify-center w-8 h-8 rounded-lg hover:bg-gray-100 transition-colors","aria-label":t?"Expand sidebar":"Collapse sidebar",children:a.jsx(KH,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"rotate-180":""}`})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:a.jsx("ul",{className:"space-y-1",children:jne.map(o=>a.jsx("li",{children:a.jsxs(rt,{to:o.path,className:`flex items-center px-3 py-2.5 rounded-lg transition-colors
                      ${s===o.path?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}
                      ${t?"justify-center":"justify-start"}`,onClick:()=>{i(o.path),r(!1)},children:[a.jsx("span",{className:"flex-shrink-0",children:o.icon}),!t&&a.jsx("span",{className:"ml-3 font-medium",children:o.label}),o.badge&&!t&&a.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-medium bg-indigo-100 text-indigo-600 rounded-full",children:o.badge})]})},o.path))})}),a.jsx("div",{className:`px-4 pt-2 pb-2 ${t?"flex flex-col items-center gap-2":""}`,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-indigo-400 font-bold",children:"E"}),a.jsx("span",{className:"text-green-400 font-bold",children:"C"}),a.jsx("span",{className:"text-yellow-400 font-bold",children:"A"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 font-semibold text-indigo-700 flex items-center gap-2",children:[a.jsx(ny,{className:"w-4 h-4 text-indigo-500"}),"Roadmap"]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-50 to-blue-50/50 rounded-lg px-3 py-2",children:[a.jsx(Dm,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Email Integration"}),a.jsx("span",{className:"ml-auto text-xs bg-gradient-to-r from-blue-500/10 to-blue-400/10 text-blue-700 px-2 py-0.5 rounded-full font-semibold",children:"Q3 2024"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-green-50 to-green-50/50 rounded-lg px-3 py-2",children:[a.jsx(Ka,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Client Portal"}),a.jsx("span",{className:"ml-auto text-xs bg-gradient-to-r from-green-500/10 to-green-400/10 text-green-700 px-2 py-0.5 rounded-full font-semibold",children:"Q3 2024"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-50 to-yellow-50/50 rounded-lg px-3 py-2",children:[a.jsx(uO,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Automation"}),a.jsx("span",{className:"ml-auto text-xs bg-gradient-to-r from-yellow-500/10 to-yellow-400/10 text-yellow-700 px-2 py-0.5 rounded-full font-semibold",children:"Q4 2024"})]})]})]})}),a.jsxs("div",{className:`px-4 py-4 border-t border-gray-200 text-xs text-gray-400 bg-gradient-to-b from-white to-indigo-50/30 mt-auto ${t?"px-2":""}`,children:[!t&&a.jsx("div",{className:"mb-2 font-semibold text-gray-500",children:"SETTINGS"}),a.jsxs(rt,{to:"/settings",className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer hover:bg-indigo-50/50 hover:text-indigo-600 text-gray-500 transition-colors ${t?"justify-center":""}`,children:[a.jsx(ty,{className:"w-5 h-5"}),!t&&a.jsx("span",{children:"Settings"})]})]})]})}),a.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"md:ml-20":"md:ml-64"}`})]})}function Ine(){const[t,e]=y.useState({totalClients:0,activeDisputes:0,pendingTasks:0,successRate:0,activeClients:0,resolvedDisputes:0,highPriorityTasks:0,overdueTasks:0}),[n,r]=y.useState(!0);y.useEffect(()=>{(async()=>{r(!0);const o=await nn(lt(Le,"clients")),l=await nn(An(lt(Le,"clients"),zr("status","==","Active"))),c=await nn(An(lt(Le,"disputes"),zr("status","==","In Progress"))),u=await nn(An(lt(Le,"disputes"),zr("status","==","Resolved"))),d=await nn(An(lt(Le,"tasks"),zr("status","==","todo"))),h=await nn(An(lt(Le,"tasks"),zr("status","==","in_progress"))),p=await nn(An(lt(Le,"tasks"),zr("priority","in",["high","urgent"]))),m=new Date,x=await nn(lt(Le,"tasks"));let w=0;x.forEach(v=>{const T=v.data();T.dueDate&&new Date(T.dueDate)<m&&T.status!=="Completed"&&w++});const S=c.size+u.size,_=S>0?Math.round(u.size/S*100):0;e({totalClients:o.size,activeDisputes:c.size,pendingTasks:d.size+h.size,successRate:_,activeClients:l.size,resolvedDisputes:u.size,highPriorityTasks:p.size,overdueTasks:w}),r(!1)})()},[]);const s=[{label:"Total Clients",value:t.totalClients,icon:a.jsx(Ro,{className:"w-6 h-6"}),iconBg:"bg-indigo-100 text-indigo-600"},{label:"Active Disputes",value:t.activeDisputes,icon:a.jsx(Ts,{className:"w-6 h-6"}),iconBg:"bg-blue-100 text-blue-600"},{label:"Pending Tasks",value:t.pendingTasks,icon:a.jsx(qH,{className:"w-6 h-6"}),iconBg:"bg-purple-100 text-purple-600"},{label:"Success Rate",value:n?"...":`${t.successRate}%`,icon:a.jsx(Ic,{className:"w-6 h-6"}),iconBg:"bg-green-100 text-green-600"},{label:"Active Clients",value:t.activeClients,icon:a.jsx(Ka,{className:"w-6 h-6"}),iconBg:"bg-green-100 text-green-600"},{label:"Resolved Disputes",value:t.resolvedDisputes,icon:a.jsx(D1,{className:"w-6 h-6"}),iconBg:"bg-green-100 text-green-600"},{label:"High Priority Tasks",value:t.highPriorityTasks,icon:a.jsx($H,{className:"w-6 h-6"}),iconBg:"bg-orange-100 text-orange-600"},{label:"Overdue Tasks",value:t.overdueTasks,icon:a.jsx(mW,{className:"w-6 h-6"}),iconBg:"bg-red-100 text-red-600"}];return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:s.map(i=>a.jsxs("div",{className:"flex items-center p-5 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow group cursor-pointer border border-gray-100",children:[a.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-full text-2xl font-bold mr-4 ${i.iconBg} group-hover:scale-105 transition-transform`,children:i.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n?"...":i.value}),a.jsx("div",{className:"text-sm text-gray-500 font-medium",children:i.label})]})]},i.label))})}const Ane=["All","Pending","Completed"];function Pne(){const[t,e]=y.useState("All"),[n,r]=y.useState(!0),[s,i]=y.useState([]);return y.useEffect(()=>{(async()=>{r(!0);let l=An(lt(Le,"tasks"),Va("createdAt","desc"),Od(6));t==="Pending"?l=An(lt(Le,"tasks"),zr("status","==","Pending"),Va("createdAt","desc"),Od(6)):t==="Completed"&&(l=An(lt(Le,"tasks"),zr("status","==","Completed"),Va("createdAt","desc"),Od(6)));const c=await nn(l);i(c.docs.map(u=>({id:u.id,...u.data()}))),r(!1)})()},[t]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"font-semibold text-lg flex-1 text-gray-900",children:"Recent Tasks"}),a.jsx("div",{className:"space-x-2",children:Ane.map(o=>a.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-semibold transition-colors duration-150 border-none outline-none focus:ring-2 focus:ring-indigo-300 focus:bg-indigo-50 ${t===o?"bg-indigo-600 text-white shadow":"bg-gray-100 text-gray-700 hover:bg-indigo-50"}`,onClick:()=>e(o),children:o},o))})]}),n?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((o,l)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},l))}):s.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"📝"}),a.jsx("span",{children:"No recent tasks yet."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.map(o=>a.jsxs("div",{className:"flex items-center p-4 bg-indigo-50 rounded-xl cursor-pointer hover:bg-indigo-100 transition-colors group",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-indigo-200 rounded-full mr-3 text-indigo-700 font-bold text-lg group-hover:scale-105 transition-transform",children:o.title?o.title[0]:"?"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-xs text-gray-500",children:o.type||""})]})]},o.id))})]})}function Rne(t){return t.split(" ").map(e=>e[0]).join("").toUpperCase()}function One(){const[t,e]=y.useState(!0),[n,r]=y.useState([]);y.useEffect(()=>{(async()=>{try{const o=lt(Le,"clients"),l=An(o,Va("createdAt","desc"),Od(5)),u=(await nn(l)).docs.map(d=>({id:d.id,...d.data()}));r(u)}catch(o){console.error("Error fetching recent clients:",o)}finally{e(!1)}})()},[]);const s=i=>{const o=new Date(i),c=Math.floor((new Date().getTime()-o.getTime())/1e3);return c<60?"just now":c<3600?`${Math.floor(c/60)}m ago`:c<86400?`${Math.floor(c/3600)}h ago`:c<604800?`${Math.floor(c/86400)}d ago`:o.toLocaleDateString()};return a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg min-h-[180px] flex flex-col justify-center",children:[a.jsx("div",{className:"font-semibold text-lg mb-4 text-gray-900",children:"Recent Clients"}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((i,o)=>a.jsx("div",{className:"h-8 bg-gray-100 rounded animate-pulse"},o))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"👥"}),a.jsx("span",{children:"No recent clients yet."})]}):a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs",children:[a.jsx("th",{className:"text-left font-normal pb-2",children:"Name"}),a.jsx("th",{className:"text-left font-normal pb-2",children:"Email"}),a.jsx("th",{className:"text-left font-normal pb-2",children:"Status"}),a.jsx("th",{className:"text-left font-normal pb-2",children:"Added"})]})}),a.jsx("tbody",{children:n.map(i=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"py-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold text-xs",children:Rne(`${i.firstName} ${i.lastName}`)}),a.jsx("span",{className:"font-medium text-gray-900",children:`${i.firstName} ${i.lastName}`})]}),a.jsx("td",{className:"py-3 text-gray-700",children:i.email}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${i.status==="Active"?"bg-green-100 text-green-700":i.status==="Inactive"?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:i.status})}),a.jsx("td",{className:"py-3 text-gray-500",children:s(i.createdAt||i.joinDate)})]},i.id))})]})]})}function Dne(){const[t,e]=y.useState(!0),[n,r]=y.useState(null);return y.useEffect(()=>{setTimeout(()=>{r(null),e(!1)},1200)},[]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg min-h-[120px] flex flex-col justify-center",children:[a.jsx("div",{className:"font-semibold text-lg mb-4 text-gray-900",children:"Analytics"}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((s,i)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},i))}):n?a.jsxs("div",{children:[a.jsxs("div",{className:"flex space-x-4 mb-2",children:[a.jsxs("div",{className:"flex-1 bg-blue-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-xs text-blue-700 font-semibold mb-1 uppercase tracking-wide",children:"Lead Conversion"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[n.leadConversion,"%"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[n.totalLeads," of ",n.totalLeads," leads"]})]}),a.jsxs("div",{className:"flex-1 bg-green-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-xs text-green-700 font-semibold mb-1 uppercase tracking-wide",children:"Dispute Success"}),a.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[n.disputeSuccess,"%"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["0 of ",n.totalDisputes," disputes"]})]})]}),a.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Lead to Client Conversion"})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"📊"}),a.jsx("span",{children:"No analytics data yet."})]})]})}function Lne(){const[t,e]=y.useState("6m"),[n,r]=y.useState(!0),[s,i]=y.useState([]);return ee.useEffect(()=>{setTimeout(()=>{i([]),r(!1)},1200)},[t]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg min-h-[180px] flex flex-col justify-center",children:[a.jsx("div",{className:"font-semibold text-lg mb-4 text-gray-900",children:"Client Growth"}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-semibold shadow ${t==="6m"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-indigo-50"}`,onClick:()=>e("6m"),children:"6 Months"}),a.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-semibold shadow ${t==="1y"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-indigo-50"}`,onClick:()=>e("1y"),children:"1 Year"})]}),n?a.jsx("div",{className:"flex gap-2 w-full mb-2",children:[...Array(t==="6m"?6:12)].map((o,l)=>a.jsx("div",{className:"w-6 h-20 bg-gray-100 rounded animate-pulse"},l))}):s.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"📈"}),a.jsx("span",{children:"No client growth data yet."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-36 flex items-end gap-2 w-full mb-2",children:s.map(o=>a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsx("div",{className:"w-6 rounded-t-lg bg-indigo-400 transition-all",style:{height:`${o.value*12}px`}}),a.jsx("span",{className:"text-xs text-gray-500 mt-1",children:o.month})]},o.month))}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[a.jsxs("span",{children:["Clients: ",s[0].value]}),a.jsxs("span",{children:["Clients: ",s[s.length-1].value]})]})]})]})}function Mne(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];$a(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const yj={};function Aw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];$a(e[0])&&yj[e[0]]||($a(e[0])&&(yj[e[0]]=new Date),Mne(...e))}const BL=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},xj=(t,e,n)=>{t.loadNamespaces(e,BL(t,n))},vj=(t,e,n,r)=>{$a(n)&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,BL(t,r))},Vne=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=e.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))},Fne=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Aw("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):Vne(t,e,n)},$a=t=>typeof t=="string",$ne=t=>typeof t=="object"&&t!==null,Une=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Bne={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},zne=t=>Bne[t],Hne=t=>t.replace(Une,zne);let Pw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Hne};const Wne=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pw={...Pw,...t}},qne=()=>Pw;let zL;const Kne=t=>{zL=t},Gne=()=>zL,Yne={type:"3rdParty",init(t){Wne(t.options.react),Kne(t)}},Qne=y.createContext();class Zne{constructor(){xt(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const Xne=(t,e)=>{const n=y.useRef();return y.useEffect(()=>{n.current=t},[t,e]),n.current},HL=(t,e,n,r)=>t.getFixedT(e,n,r),Jne=(t,e,n,r)=>y.useCallback(HL(t,e,n,r),[t,e,n,r]),ere=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=y.useContext(Qne)||{},i=n||r||Gne();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Zne),!i){Aw("You will need to pass in an i18next instance by using initReactI18next");const k=(O,N)=>$a(N)?N:$ne(N)&&$a(N.defaultValue)?N.defaultValue:Array.isArray(O)?O[O.length-1]:O,P=[k,{},!1];return P.t=k,P.i18n={},P.ready=!1,P}i.options.react&&i.options.react.wait!==void 0&&Aw("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...qne(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=t;u=$a(u)?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(k=>Fne(k,i,o)),h=Jne(i,e.lng||null,o.nsMode==="fallback"?u:u[0],c),p=()=>h,m=()=>HL(i,e.lng||null,o.nsMode==="fallback"?u:u[0],c),[x,w]=y.useState(p);let S=u.join();e.lng&&(S=`${e.lng}${S}`);const _=Xne(S),v=y.useRef(!0);y.useEffect(()=>{const{bindI18n:k,bindI18nStore:P}=o;v.current=!0,!d&&!l&&(e.lng?vj(i,e.lng,u,()=>{v.current&&w(m)}):xj(i,u,()=>{v.current&&w(m)})),d&&_&&_!==S&&v.current&&w(m);const O=()=>{v.current&&w(m)};return k&&i&&i.on(k,O),P&&i&&i.store.on(P,O),()=>{v.current=!1,k&&i&&k.split(" ").forEach(N=>i.off(N,O)),P&&i&&P.split(" ").forEach(N=>i.store.off(N,O))}},[i,S]),y.useEffect(()=>{v.current&&d&&w(p)},[i,c,d]);const T=[x,i,d];if(T.t=x,T.i18n=i,T.ready=d,d||!d&&!l)return T;throw new Promise(k=>{e.lng?vj(i,e.lng,u,()=>k()):xj(i,u,()=>k())})},tre=t=>{const{t:e}=ere(t),n=y.useCallback((l,c)=>{const u=typeof l=="string"?new Date(l):l;return new Intl.DateTimeFormat("en-US",c).format(u)},[]),r=y.useCallback((l,c)=>new Intl.NumberFormat("en-US",c).format(l),[]),s=y.useCallback((l,c="USD",u)=>new Intl.NumberFormat("en-US",{style:"currency",currency:c,...u}).format(l),[]),i=y.useCallback((l,c)=>new Intl.NumberFormat("en-US",{style:"percent",...c}).format(l/100),[]),o=y.useCallback(l=>{const c=typeof l=="string"?new Date(l):l,d=Math.floor((new Date().getTime()-c.getTime())/1e3);if(d<60)return e("time.now");const h=Math.floor(d/60);if(h<60)return e("time.minutes",{count:h});const p=Math.floor(h/60);if(p<24)return e("time.hours",{count:p});const m=Math.floor(p/24);if(m<7)return e("time.days",{count:m});const x=Math.floor(m/7);if(x<4)return e("time.weeks",{count:x});const w=Math.floor(m/30);if(w<12)return e("time.months",{count:w});const S=Math.floor(m/365);return e("time.years",{count:S})},[e]);return{t:e,formatDate:n,formatNumber:r,formatCurrency:s,formatPercentage:i,formatRelativeTime:o}},nre=()=>{const t=Os(),{t:e}=tre("common");return a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("button",{onClick:()=>t("/clients"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:a.jsx("span",{children:e("quickActions.newClient")})}),a.jsx("button",{onClick:()=>t("/tasks"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:a.jsx("span",{children:e("quickActions.newTask")})}),a.jsx("button",{onClick:()=>t("/reports"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:a.jsx("span",{children:e("quickActions.viewReports")})})]})},rre=[{type:"urgent",icon:"⚠️",message:"Overdue Task: Follow up with John Doe",time:"2h ago"},{type:"info",icon:"📄",message:"New Dispute Filed for Jane Smith",time:"4h ago"},{type:"reminder",icon:"📅",message:"Upcoming Appointment: Call with Mike D",time:"Tomorrow 10:00am"},{type:"warning",icon:"🗂️",message:"Document Expiry: Proof of Address for Sarah Lee",time:"3 days left"}];function sre({open:t}){return t?a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-100 z-50",children:[a.jsxs("div",{className:"font-semibold text-base px-4 pt-4 pb-2 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-yellow-500 text-lg",children:"🔔"})," Alerts & Notifications"]}),a.jsx("ul",{className:"divide-y divide-gray-100 px-2 pb-2",children:rre.map((e,n)=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:`text-xl ${e.type==="urgent"?"text-red-500":e.type==="warning"?"text-yellow-500":e.type==="reminder"?"text-indigo-500":"text-blue-500"}`,children:e.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:e.message}),a.jsx("div",{className:"text-xs text-gray-400",children:e.time})]})]},n))})]}):null}const ire=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([]);y.useEffect(()=>{(async()=>{try{const l=lt(Le,"activity"),c=An(l,Va("timestamp","desc"),Od(5)),d=(await nn(c)).docs.map(h=>{var p;return{id:h.id,...h.data(),timestamp:(p=h.data().timestamp)==null?void 0:p.toDate()}});r(d)}catch(l){console.error("Error fetching activities:",l)}finally{e(!1)}})()},[]);const s=o=>{switch(o){case"client_added":return a.jsx(Ro,{className:"w-5 h-5"});case"dispute_filed":return a.jsx($1,{className:"w-5 h-5"});case"payment_received":return a.jsx(kc,{className:"w-5 h-5"});case"letter_sent":return a.jsx(fh,{className:"w-5 h-5"});default:return a.jsx(Ro,{className:"w-5 h-5"})}},i=o=>{const c=Math.floor((new Date().getTime()-o.getTime())/1e3);return c<60?"just now":c<3600?`${Math.floor(c/60)}m ago`:c<86400?`${Math.floor(c/3600)}h ago`:c<604800?`${Math.floor(c/86400)}d ago`:o.toLocaleDateString()};return a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-indigo-500 text-xl",children:"🕒"})," Recent Activity"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((o,l)=>a.jsx("div",{className:"h-8 bg-gray-100 rounded animate-pulse"},l))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"🕒"}),a.jsx("span",{children:"No recent activity yet."})]}):a.jsx("ul",{className:"divide-y divide-gray-100",children:n.map(o=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:"text-2xl text-indigo-500",children:s(o.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:o.description}),a.jsxs("div",{className:"text-xs text-gray-400",children:[o.user," • ",i(o.timestamp)]})]})]},o.id))})]})},ore=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([]);y.useEffect(()=>{(async()=>{try{const l=new Date,c=lt(Le,"tasks"),u=An(c,zr("type","==","Appointment"),zr("status","in",["Pending","In Progress"])),h=(await nn(u)).docs.map(p=>{var m;return{id:p.id,...p.data(),dueDate:(m=p.data().dueDate)==null?void 0:m.toDate()}}).filter(p=>p.dueDate>=l).sort((p,m)=>p.dueDate-m.dueDate).slice(0,3);r(h)}catch(l){console.error("Error fetching appointments:",l)}finally{e(!1)}})()},[]);const s=o=>{switch(o){case"Phone Call":return a.jsx(dW,{className:"w-5 h-5"});case"Consultation":return a.jsx(cW,{className:"w-5 h-5"});default:return a.jsx(WH,{className:"w-5 h-5"})}},i=o=>{const l=new Date,c=new Date(l);return c.setDate(c.getDate()+1),o.toDateString()===l.toDateString()?`Today, ${o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:o.toDateString()===c.toDateString()?`Tomorrow, ${o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:o.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-indigo-500 text-xl",children:"📅"})," Upcoming Appointments"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((o,l)=>a.jsx("div",{className:"h-8 bg-gray-100 rounded animate-pulse"},l))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"📅"}),a.jsx("span",{children:"No upcoming appointments."})]}):a.jsx("ul",{className:"divide-y divide-gray-100",children:n.map(o=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:"text-2xl text-indigo-500",children:s(o.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:o.client}),a.jsxs("div",{className:"text-xs text-gray-500",children:[o.type," • ",i(o.dueDate)]})]})]},o.id))})]})},are=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([{label:"Dispute Success",value:"0%",trend:"+0%",icon:a.jsx(Ic,{className:"w-5 h-5"}),color:"text-green-600",chart:"bar"},{label:"Client Growth",value:"0",trend:"+0",icon:a.jsx(Ka,{className:"w-5 h-5"}),color:"text-blue-600",chart:"line"},{label:"Revenue",value:"$0",trend:"+$0",icon:a.jsx(kc,{className:"w-5 h-5"}),color:"text-indigo-600",chart:"bar"}]);return y.useEffect(()=>{(async()=>{e(!0);const i=await nn(An(lt(Le,"disputes"),zr("status","==","Resolved"))),o=await nn(lt(Le,"disputes")),l=o.size>0?Math.round(i.size/o.size*100):0,c=new Date,u=new Date(c.getFullYear(),c.getMonth(),c.getDate()-30),h=(await nn(lt(Le,"clients"))).docs.filter(x=>{const w=x.data();return w.joinDate&&new Date(w.joinDate)>=u}).length;let p=0;(await nn(lt(Le,"payments"))).docs.forEach(x=>{const w=x.data();w.date&&new Date(w.date)>=u&&(p+=Number(w.amount)||0)}),r([{label:"Dispute Success",value:`${l}%`,trend:"",icon:a.jsx(Ic,{className:"w-5 h-5"}),color:"text-green-600",chart:"bar"},{label:"Client Growth",value:`${h}`,trend:"",icon:a.jsx(Ka,{className:"w-5 h-5"}),color:"text-blue-600",chart:"line"},{label:"Revenue",value:`$${p.toLocaleString()}`,trend:"",icon:a.jsx(kc,{className:"w-5 h-5"}),color:"text-indigo-600",chart:"bar"}]),e(!1)})()},[]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500 text-xl",children:"📊"})," Performance Trends"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((s,i)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},i))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"📊"}),a.jsx("span",{children:"No performance trends yet."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map((s,i)=>a.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50",children:[a.jsx("span",{className:`text-2xl ${s.color}`,children:s.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:s.label}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("span",{className:"text-xl font-bold text-gray-900",children:s.value}),s.trend&&a.jsx("span",{className:"text-xs font-semibold text-green-500",children:s.trend})]}),a.jsx("div",{className:"h-2 mt-2 bg-gradient-to-r from-indigo-200 to-indigo-400 rounded-full w-2/3"})]})]},i))})]})},lre=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState([]);return y.useEffect(()=>{setTimeout(()=>{r([]),e(!1)},1200)},[]),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 min-h-[120px] flex flex-col justify-center",children:[a.jsxs("div",{className:"font-semibold text-lg mb-4 text-gray-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-indigo-500 text-xl",children:"🏆"})," Client Leaderboard"]}),t?a.jsx("div",{className:"space-y-2",children:[...Array(2)].map((s,i)=>a.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},i))}):n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx("span",{className:"text-4xl mb-2",children:"🏆"}),a.jsx("span",{children:"No leaderboard data yet."})]}):a.jsx("ul",{className:"divide-y divide-gray-100",children:n.map((s,i)=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:"text-2xl bg-indigo-100 rounded-full w-10 h-10 flex items-center justify-center",children:s.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 font-medium",children:s.name}),a.jsx("div",{className:"text-xs text-gray-500",children:s.metric})]}),a.jsx("span",{className:"font-bold text-indigo-600 text-sm",children:s.value})]},i))})]})};function cre(){const[t,e]=y.useState(!0);return a.jsxs("div",{className:"space-y-12",children:[t&&a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl px-6 py-4 flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-indigo-600 text-2xl",children:"🚀"}),a.jsxs("span",{className:"text-indigo-900 font-semibold",children:["Welcome to your new dashboard! Explore quick actions, analytics, and more. Need help? Click any ",a.jsx("span",{className:"underline",children:"info"})," icon."]})]}),a.jsx("button",{className:"ml-4 px-3 py-1 rounded bg-indigo-100 text-indigo-700 font-semibold hover:bg-indigo-200 transition",onClick:()=>e(!1),children:"Dismiss"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Overview"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(Ine,{})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsx(nre,{})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7},children:a.jsx(ore,{})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.8},children:a.jsx(Pne,{})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.9},children:a.jsx(ire,{})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsx(Dne,{})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7},children:a.jsx(are,{})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.8},children:a.jsx(lre,{})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.9},children:a.jsx(Lne,{})})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Recent Clients"}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:1},children:a.jsx(One,{})})]})]})}const WL=y.createContext(void 0);function ure({children:t}){const[e,n]=y.useState(null),r=()=>n(null);return a.jsx(WL.Provider,{value:{user:e,setUser:n,logout:r},children:t})}function tE(){const t=y.useContext(WL);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}var nE={};nE.match=gre;nE.parse=qL;var dre=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,hre=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,fre=/^(?:(min|max)-)?(.+)/,pre=/(em|rem|px|cm|mm|in|pt|pc)?$/,mre=/(dpi|dpcm|dppx)?$/;function gre(t,e){return qL(t).some(function(n){var r=n.inverse,s=n.type==="all"||e.type===n.type;if(s&&r||!(s||r))return!1;var i=n.expressions.every(function(o){var l=o.feature,c=o.modifier,u=o.value,d=e[l];if(!d)return!1;switch(l){case"orientation":case"scan":return d.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=_j(u),d=_j(d);break;case"resolution":u=bj(u),d=bj(d);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=wj(u),d=wj(d);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,d=parseInt(d,10)||0;break}switch(c){case"min":return d>=u;case"max":return d<=u;default:return d===u}});return i&&!r||!i&&r})}function qL(t){return t.split(",").map(function(e){e=e.trim();var n=e.match(dre),r=n[1],s=n[2],i=n[3]||"",o={};return o.inverse=!!r&&r.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map(function(l){var c=l.match(hre),u=c[1].toLowerCase().match(fre);return{modifier:u[1],feature:u[2],value:c[2]}}),o})}function wj(t){var e=Number(t),n;return e||(n=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=n[1]/n[2]),e}function bj(t){var e=parseFloat(t),n=String(t).match(mre)[1];switch(n){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function _j(t){var e=parseFloat(t),n=String(t).match(pre)[1];switch(n){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var yre=nE.match,Ej=typeof window<"u"?window.matchMedia:null;function xre(t,e,n){var r=this,s;Ej&&!n&&(s=Ej.call(window,t)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=yre(t,e),this.media=t),this.addListener=i,this.removeListener=o,this.dispose=c;function i(u){s&&s.addListener(u)}function o(u){s&&s.removeListener(u)}function l(u){r.matches=u.matches,r.media=u.media}function c(){s&&s.removeListener(l)}}function vre(t,e,n){return new xre(t,e,n)}var wre=vre;const bre=zo(wre);var _re=/[A-Z]/g,Ere=/^ms-/,dx={};function Nre(t){return"-"+t.toLowerCase()}function KL(t){if(dx.hasOwnProperty(t))return dx[t];var e=t.replace(_re,Nre);return dx[t]=Ere.test(e)?"-"+e:e}function Sre(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),s=n.length;if(r.length!==s)return!1;for(let i=0;i<s;i++){const o=n[i];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}const jn=H.oneOfType([H.string,H.number]),GL={all:H.bool,grid:H.bool,aural:H.bool,braille:H.bool,handheld:H.bool,print:H.bool,projection:H.bool,screen:H.bool,tty:H.bool,tv:H.bool,embossed:H.bool},Tre={orientation:H.oneOf(["portrait","landscape"]),scan:H.oneOf(["progressive","interlace"]),aspectRatio:H.string,deviceAspectRatio:H.string,height:jn,deviceHeight:jn,width:jn,deviceWidth:jn,color:H.bool,colorIndex:H.bool,monochrome:H.bool,resolution:jn,type:Object.keys(GL)},{type:cae,...Cre}=Tre,jre={minAspectRatio:H.string,maxAspectRatio:H.string,minDeviceAspectRatio:H.string,maxDeviceAspectRatio:H.string,minHeight:jn,maxHeight:jn,minDeviceHeight:jn,maxDeviceHeight:jn,minWidth:jn,maxWidth:jn,minDeviceWidth:jn,maxDeviceWidth:jn,minColor:H.number,maxColor:H.number,minColorIndex:H.number,maxColorIndex:H.number,minMonochrome:H.number,maxMonochrome:H.number,minResolution:jn,maxResolution:jn,...Cre},kre={...GL,...jre};var Ire={all:kre};const Are=t=>`not ${t}`,Pre=(t,e)=>{const n=KL(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?Are(n):`(${n}: ${e})`},Rre=t=>t.join(" and "),Ore=t=>{const e=[];return Object.keys(Ire.all).forEach(n=>{const r=t[n];r!=null&&e.push(Pre(n,r))}),Rre(e)},Dre=y.createContext(void 0),Lre=t=>t.query||Ore(t),Nj=t=>t?Object.keys(t).reduce((n,r)=>(n[KL(r)]=t[r],n),{}):void 0,YL=()=>{const t=y.useRef(!1);return y.useEffect(()=>{t.current=!0},[]),t.current},Mre=t=>{const e=y.useContext(Dre),n=()=>Nj(t)||Nj(e),[r,s]=y.useState(n);return y.useEffect(()=>{const i=n();Sre(r,i)||s(i)},[t,e]),r},Vre=t=>{const e=()=>Lre(t),[n,r]=y.useState(e);return y.useEffect(()=>{const s=e();n!==s&&r(s)},[t]),n},Fre=(t,e)=>{const n=()=>bre(t,e||{},!!e),[r,s]=y.useState(n),i=YL();return y.useEffect(()=>{if(i){const o=n();return s(o),()=>{o&&o.dispose()}}},[t,e]),r},$re=t=>{const[e,n]=y.useState(t.matches);return y.useEffect(()=>{const r=s=>{n(s.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},Ure=(t,e,n)=>{const r=Mre(e),s=Vre(t);if(!s)throw new Error("Invalid or missing MediaQuery!");const i=Fre(s,r),o=$re(i);return YL(),y.useEffect(()=>{},[o]),y.useEffect(()=>()=>{i&&i.dispose()},[]),o},Sj={"/":"Dashboard","/why-credexis":"Why Credexis","/clients":"Clients","/disputes":"Disputes","/tasks":"Tasks","/payments":"Payments","/documents":"Documents","/letter-templates":"Letter Templates","/marketing":"Marketing","/credit-tools":"Credit Tools","/settings":"Settings","/reports":"Reports"};function Bre({onHelpClick:t,onQuickStartClick:e,userData:n}){const[r,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=y.useRef(null),d=y.useRef(null),h=il(),p=Os(),{user:m}=tE(),x=Ure({maxWidth:768}),w=Sj[h.pathname]||"Dashboard";y.useEffect(()=>{function _(v){u.current&&!u.current.contains(v.target)&&o(!1),d.current&&!d.current.contains(v.target)&&s(!1)}return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const S=()=>{p("/"),o(!1)};return a.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 shadow-sm sticky top-0 z-10",children:[a.jsx("div",{className:"h-full px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[x&&a.jsxs("button",{onClick:()=>c(!l),className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[a.jsx("span",{className:"sr-only",children:"Open main menu"}),l?a.jsx(En,{className:"h-6 w-6","aria-hidden":"true"}):a.jsx(F1,{className:"h-6 w-6","aria-hidden":"true"})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center sm:justify-start",children:a.jsx("h1",{className:"text-xl font-bold tracking-tight text-gray-900 sm:text-2xl",children:w})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-indigo-50 transition-colors","aria-label":"Quick Start Guide",children:a.jsx(hO,{className:"h-5 w-5 text-gray-600"})}),a.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-indigo-50 transition-colors","aria-label":"Help & Documentation",children:a.jsx(M1,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"relative",ref:d,children:[a.jsxs("button",{className:"relative p-2 rounded-full hover:bg-indigo-50 transition-colors",onClick:()=>s(_=>!_),"aria-label":"View notifications",children:[a.jsx("span",{role:"img","aria-label":"bell",className:"text-xl",children:"🔔"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})]}),a.jsx(sre,{open:r})]}),a.jsxs("div",{className:"relative",ref:u,children:[a.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-indigo-50 transition-colors","aria-expanded":i,"aria-haspopup":"true",children:[a.jsx("span",{className:"hidden sm:block font-medium text-gray-700",children:n?`${n.firstName||""} ${n.lastName||""}`.trim():(m==null?void 0:m.email)||"User"}),a.jsx("span",{className:"w-9 h-9 bg-indigo-200 rounded-full flex items-center justify-center font-bold text-indigo-700 ring-2 ring-indigo-400",children:n&&n.firstName?n.firstName[0].toUpperCase():n&&n.email?n.email[0].toUpperCase():"U"}),a.jsx(fO,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[a.jsx("p",{className:"font-medium text-gray-900",children:n?`${n.firstName||""} ${n.lastName||""}`.trim():m==null?void 0:m.email}),a.jsx("p",{className:"text-sm text-gray-500",children:(n==null?void 0:n.email)||(m==null?void 0:m.email)})]}),a.jsxs("div",{className:"py-1",children:[a.jsxs(rt,{to:"/settings",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",onClick:()=>o(!1),children:[a.jsx(Ro,{className:"w-4 h-4"}),a.jsx("span",{children:"Your Profile"})]}),a.jsxs(rt,{to:"/settings",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",onClick:()=>o(!1),children:[a.jsx(ty,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:S,className:"w-full flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(gO,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]})]})]})]})]})}),x&&l&&a.jsx("div",{className:"sm:hidden",children:a.jsx("div",{className:"pt-2 pb-3 space-y-1",children:Object.entries(Sj).map(([_,v])=>a.jsx(rt,{to:_,className:`block px-3 py-2 rounded-md text-base font-medium ${h.pathname===_?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(!1),children:v},_))})})]})}const zre=[{icon:a.jsx($1,{className:"w-8 h-8 text-indigo-600"}),title:"Automate Disputes",desc:"Save time and reduce errors with automated dispute workflows."},{icon:a.jsx(Ka,{className:"w-8 h-8 text-indigo-600"}),title:"Client Management",desc:"Easily manage all your clients, notes, and documents in one place."},{icon:a.jsx(dO,{className:"w-8 h-8 text-indigo-600"}),title:"Analytics & Growth",desc:"Track your business performance and client progress with real-time analytics."},{icon:a.jsx(vO,{className:"w-8 h-8 text-indigo-600"}),title:"Secure & Compliant",desc:"Your data is protected with industry-leading security and compliance."},{icon:a.jsx(Ts,{className:"w-8 h-8 text-indigo-600"}),title:"Document Automation",desc:"Generate, store, and send documents with a click."},{icon:a.jsx(Ic,{className:"w-8 h-8 text-indigo-600"}),title:"Business Growth",desc:"Tools to help you scale your credit repair business."}];function Hre(){return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 space-y-16",children:[a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Credexis?"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Credexis empowers credit specialists and professionals with modern tools to automate, manage, and grow their business—all in one beautiful platform."})]})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7},children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:zre.map(t=>a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-2",children:t.icon}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),a.jsx("p",{className:"text-gray-500",children:t.desc})]}))})}),a.jsx(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.9},children:a.jsx("div",{className:"text-center mt-12",children:a.jsx("button",{className:"px-6 py-3 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 transition text-lg",children:"Get Started with Credexis"})})})]})}const Wre=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),[s,i]=y.useState(null);y.useEffect(()=>{r(!0);const u=An(lt(Le,"clients"),Va("createdAt","desc")),d=H_(u,h=>{e(h.docs.map(p=>({id:p.id,...p.data()}))),r(!1)},h=>{i(h.message),r(!1)});return()=>d()},[]);const o=y.useCallback(async u=>{r(!0),i(null);try{const d={};Object.entries(u).forEach(([h,p])=>{p!==void 0&&(d[h]=p)}),await lf(lt(Le,"clients"),{...d,createdAt:Fa(),updatedAt:Fa()})}catch(d){i(d.message)}finally{r(!1)}},[]),l=y.useCallback(async(u,d)=>{r(!0),i(null);try{const h={};Object.entries(d).forEach(([p,m])=>{m!==void 0&&(h[p]=m)}),await ou(hr(Le,"clients",u),{...h,updatedAt:Fa()})}catch(h){i(h.message)}finally{r(!1)}},[]),c=y.useCallback(async u=>{r(!0),i(null);try{await Ay(hr(Le,"clients",u))}catch(d){i(d.message)}finally{r(!1)}},[]);return{clients:t,loading:n,error:s,createClient:o,updateClient:l,deleteClient:c}};class qre{constructor(){xt(this,"collection",lt(Le,"activity"))}async logActivity(e){try{await lf(this.collection,{...e,timestamp:Fa()})}catch(n){console.error("Error logging activity:",n)}}async logClientAdded(e,n){await this.logActivity({type:"client_added",description:`Added new client: ${e}`,user:n})}async logClientUpdated(e,n){await this.logActivity({type:"client_updated",description:`Updated client: ${e}`,user:n})}async logDisputeFiled(e,n,r){await this.logActivity({type:"dispute_filed",description:`Filed dispute for ${e} with ${n}`,user:r})}async logPaymentReceived(e,n,r){await this.logActivity({type:"payment_received",description:`Received payment of $${n} from ${e}`,user:r,metadata:{amount:n}})}async logTaskCreated(e,n){await this.logActivity({type:"task_created",description:`Created new task: ${e}`,user:n})}async logTaskCompleted(e,n){await this.logActivity({type:"task_completed",description:`Completed task: ${e}`,user:n})}async logAppointmentScheduled(e,n,r){await this.logActivity({type:"appointment_scheduled",description:`Scheduled appointment with ${e}`,user:r,metadata:{date:n}})}async logDocumentUploaded(e,n,r){await this.logActivity({type:"document_uploaded",description:`Uploaded ${n} for ${e}`,user:r})}}const Tj=new qre,hx={firstName:"",lastName:"",email:"",phone:"",address:"",status:"Active",creditScore:500,goalScore:750,joinDate:new Date().toISOString().split("T")[0],disputes:0,progress:0,nextAction:"",totalPaid:0,dateOfBirth:"",ssn:"",notes:"",monthlyFee:0,servicePlan:"Basic"};function Cj(t){return{firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||"",address:t.address||"",status:t.status||"Active",creditScore:t.creditScore??500,goalScore:t.goalScore??750,joinDate:t.joinDate||new Date().toISOString().split("T")[0],disputes:t.disputes??0,progress:t.progress??0,nextAction:t.nextAction||"",totalPaid:t.totalPaid??0,dateOfBirth:t.dateOfBirth||"",ssn:t.ssn||"",notes:t.notes||"",monthlyFee:t.monthlyFee??0,servicePlan:t.servicePlan||"Basic"}}function Kre({isOpen:t,onClose:e,onSave:n,client:r}){const{user:s}=tE(),[i,o]=y.useState(r?Cj(r):hx),[l,c]=y.useState({}),[u,d]=y.useState(1),[h,p]=y.useState(!1),m=3;y.useEffect(()=>{o(r?Cj(r):hx),c({}),d(1)},[r,t]);const x=P=>{const O={};return P===1?(i.firstName.trim()||(O.firstName="First name is required"),i.lastName.trim()||(O.lastName="Last name is required"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(O.email="Invalid email format"):O.email="Email is required",i.phone.trim()||(O.phone="Phone number is required"),i.address&&!i.address.trim()&&(O.address="Address cannot be empty if provided")):P===2&&(i.creditScore!==void 0&&(i.creditScore<300||i.creditScore>850)&&(O.creditScore="Credit score must be between 300 and 850"),i.goalScore!==void 0&&((i.goalScore<300||i.goalScore>850)&&(O.goalScore="Goal score must be between 300 and 850"),i.goalScore!==void 0&&i.creditScore!==void 0&&i.goalScore<=i.creditScore&&(O.goalScore="Goal score must be higher than current credit score"))),c(O),Object.keys(O).length===0},w=()=>{x(u)&&d(u+1)},S=()=>{d(u-1)},_=async P=>{P.preventDefault();try{if(!x(u))return;p(!0),await new Promise(N=>setTimeout(N,1e3));const O={...i,...r!=null&&r.id?{id:r.id}:{},joinDate:(r==null?void 0:r.joinDate)||i.joinDate};await n(O),r?await Tj.logClientUpdated(`${O.firstName} ${O.lastName}`,(s==null?void 0:s.id)||""):await Tj.logClientAdded(`${O.firstName} ${O.lastName}`,(s==null?void 0:s.id)||""),p(!1),o(hx),e()}catch(O){console.error("Error submitting client:",O),He.error("Failed to save client"),p(!1)}},v=(P,O)=>{o(N=>({...N,[P]:O})),l[P]&&c(N=>({...N,[P]:""}))},T=P=>{const O=P.replace(/\D/g,"");return O.length<=10?O.length<=3?O:O.length<=6?`(${O.slice(0,3)}) ${O.slice(3)}`:`(${O.slice(0,3)}) ${O.slice(3,6)}-${O.slice(6)}`:P},k=()=>{switch(u){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Ro,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),a.jsx("p",{className:"text-gray-500",children:"Basic client details and contact information"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),a.jsx("input",{type:"text",value:i.firstName,onChange:P=>v("firstName",P.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.firstName?"border-red-300":"border-gray-300"}`,placeholder:"John"}),l.firstName&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(_r,{className:"w-4 h-4 mr-1"}),l.firstName]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),a.jsx("input",{type:"text",value:i.lastName,onChange:P=>v("lastName",P.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Smith"}),l.lastName&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(_r,{className:"w-4 h-4 mr-1"}),l.lastName]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",value:i.email,onChange:P=>v("email",P.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.email?"border-red-300":"border-gray-300"}`,placeholder:"john.smith@email.com"})]}),l.email&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(_r,{className:"w-4 h-4 mr-1"}),l.email]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(xO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",value:i.phone,onChange:P=>v("phone",T(P.target.value)),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.phone?"border-red-300":"border-gray-300"}`,placeholder:"(555) 123-4567"})]}),l.phone&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(_r,{className:"w-4 h-4 mr-1"}),l.phone]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(yO,{className:"absolute left-3 top-3 text-gray-400 w-5 h-5"}),a.jsx("textarea",{value:i.address,onChange:P=>v("address",P.target.value),rows:2,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${l.address?"border-red-300":"border-gray-300"}`,placeholder:"123 Main St, Miami, FL 33101"})]}),l.address&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(_r,{className:"w-4 h-4 mr-1"}),l.address]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:i.status,onChange:P=>v("status",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ny,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Credit Information"}),a.jsx("p",{className:"text-gray-500",children:"Current credit status and goals"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Credit Score"}),a.jsx("input",{type:"number",min:"300",max:"850",value:i.creditScore===void 0?"":i.creditScore,onChange:P=>v("creditScore",P.target.value?parseInt(P.target.value):void 0),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),l.creditScore&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.creditScore})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Goal Score"}),a.jsx("input",{type:"number",min:"300",max:"850",value:i.goalScore===void 0?"":i.goalScore,onChange:P=>v("goalScore",P.target.value?parseInt(P.target.value):void 0),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),l.goalScore&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.goalScore})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Credit Score Improvement"}),a.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:["+",i.goalScore-i.creditScore," points"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Target improvement from ",i.creditScore," to ",i.goalScore]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Action Plan"}),a.jsx("textarea",{value:i.nextAction,onChange:P=>v("nextAction",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Initial credit report review and dispute strategy development..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:i.notes||"",onChange:P=>v("notes",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Additional client notes and special considerations..."})]})]});case 3:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(kc,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Billing"}),a.jsx("p",{className:"text-gray-500",children:"Payment information"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Payment"}),a.jsxs("div",{className:"relative",children:[a.jsx(kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"number",min:"0",value:i.totalPaid,onChange:P=>v("totalPaid",parseFloat(P.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0.00"})]})]}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(hh,{className:"w-5 h-5 text-green-600 mr-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-900",children:"Ready to Create Client"}),a.jsx("p",{className:"text-sm text-green-700",children:"All information has been validated and is ready to save."})]})]})})]});default:return null}};return t?a.jsx(wn,{children:a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Client":"Add New Client"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",u," of ",m]})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(En,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:Array.from({length:m},(P,O)=>O+1).map(P=>a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${P<=u?"bg-indigo-600 text-white":"bg-gray-200 text-gray-500"}`,children:P<u?a.jsx(hh,{className:"w-4 h-4"}):P},P))}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${u/m*100}%`}})})]}),a.jsx("div",{className:"p-6",children:k()}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[a.jsx("button",{onClick:S,disabled:u===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-3",children:u<m?a.jsx("button",{onClick:w,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:"Next"}):a.jsx("button",{onClick:_,disabled:h,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:h?"Saving...":r?"Update Client":"Create Client"})})]})]})})}):null}function Gre({trapFocus:t=!1,autoFocus:e=!1,restoreFocus:n=!1,onEscape:r}={}){const s=y.useRef(null),i=y.useRef(null);y.useEffect(()=>(n&&(i.current=document.activeElement),()=>{n&&i.current&&i.current.focus()}),[n]),y.useEffect(()=>{if(e&&s.current){const l=s.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');l.length>0&&l[0].focus()}},[e]);const o=y.useCallback(l=>{if(!s.current)return;if(l.key==="Escape"&&r){r();return}if(!t)return;const c=s.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),u=c[0],d=c[c.length-1];l.key==="Tab"&&(l.shiftKey?document.activeElement===u&&(l.preventDefault(),d.focus()):document.activeElement===d&&(l.preventDefault(),u.focus()))},[t,r]);return y.useEffect(()=>{if(t)return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t,o]),{containerRef:s,role:"dialog","aria-modal":t?!0:void 0,tabIndex:-1}}function QL({isOpen:t,onClose:e,title:n,children:r,description:s,size:i="md"}){const{containerRef:o,...l}=Gre({trapFocus:!0,autoFocus:!0,restoreFocus:!0,onEscape:e});if(!t)return null;const c={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":s?"modal-description":void 0,children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e,"aria-hidden":"true"}),a.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:a.jsxs("div",{ref:o,className:`relative w-full ${c[i]} rounded-lg bg-white shadow-xl`,...l,children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:n}),s&&a.jsx("p",{id:"modal-description",className:"mt-1 text-sm text-gray-500",children:s})]}),a.jsx("button",{onClick:e,className:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2","aria-label":"Close modal",children:a.jsx(En,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-6 py-4",children:r})]})})]})}const Yre=[{value:"all",label:"All"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Completed",label:"Completed"}],Qre=()=>{const{clients:t,createClient:e,updateClient:n,deleteClient:r}=Wre(),[s,i]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[d,h]=y.useState(null),[p,m]=y.useState(null),x=t.filter(k=>{const P=k.firstName.toLowerCase().includes(s.toLowerCase())||k.lastName.toLowerCase().includes(s.toLowerCase())||k.email.toLowerCase().includes(s.toLowerCase()),O=o==="all"?!0:k.status===o;return P&&O}),w=async k=>{d?(await n(d.id,k),h(null)):await e(k),u(!1)},S=k=>{h(k),u(!0)},_=k=>{m(k)},v=async()=>{p&&(await r(p.id),m(null))},T=()=>m(null);return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clients"}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx("input",{type:"text",placeholder:"Search clients...",value:s,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx(Zh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsx("select",{value:o,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Yre.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))}),a.jsxs("button",{onClick:()=>{u(!0),h(null)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[a.jsx(ph,{className:"w-5 h-5"})," New Client"]})]})]}),a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[x.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No clients found."})}),x.map(k=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:k.firstName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:k.lastName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:k.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${k.status==="Active"?"bg-green-100 text-green-800":k.status==="Inactive"?"bg-yellow-100 text-yellow-800":(k.status==="Completed","bg-gray-100 text-gray-800")}`,children:k.status})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap flex gap-2",children:[a.jsx("button",{onClick:()=>S(k),className:"text-gray-600 hover:text-gray-800",children:a.jsx(Xh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_(k),className:"text-red-600 hover:text-red-800",children:a.jsx(wi,{className:"w-4 h-4"})})]})]},k.id))]})]})}),c&&a.jsx(Kre,{isOpen:c,onClose:()=>{u(!1),h(null)},onSave:w,client:d}),p&&a.jsx(QL,{isOpen:!!p,onClose:T,title:"Delete Client",description:"Are you sure you want to delete this client? This action cannot be undone.",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"text-gray-900 font-semibold",children:[p.firstName," ",p.lastName]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:T,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})};function Zre(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),[s,i]=y.useState(null);return y.useEffect(()=>{const d=An(lt(Le,"disputes"),Va("createdAt","desc")),h=H_(d,p=>{const m=p.docs.map(x=>({id:x.id,...x.data()}));e(m),r(!1)},p=>{console.error("Error fetching disputes:",p),i("Failed to fetch disputes"),r(!1)});return()=>h()},[]),{disputes:t,loading:n,error:s,addDispute:async d=>{try{const h={...d,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()};await lf(lt(Le,"disputes"),h),He.success("Dispute added successfully")}catch(h){throw console.error("Error adding dispute:",h),He.error("Failed to add dispute"),h}},updateDispute:async(d,h)=>{try{const p=hr(Le,"disputes",d);await ou(p,{...h,lastUpdated:new Date().toISOString()}),He.success("Dispute updated successfully")}catch(p){throw console.error("Error updating dispute:",p),He.error("Failed to update dispute"),p}},deleteDispute:async d=>{try{await Ay(hr(Le,"disputes",d)),He.success("Dispute deleted successfully")}catch(h){throw console.error("Error deleting dispute:",h),He.error("Failed to delete dispute"),h}},getDisputeStats:()=>{const d=t.filter(x=>x.status==="In Progress").length,h=t.filter(x=>x.status==="Resolved").length,p=t.length,m=p>0?Math.round(h/p*100):0;return{activeDisputes:d,resolvedDisputes:h,totalDisputes:p,successRate:m}}}}const zu={client:"",type:"",creditor:"",bureau:"Experian",status:"Draft",submitted:"",lastUpdated:new Date().toISOString(),priority:"Medium",notes:"",creditImpact:0,disputeReason:"",nextAction:""},Xre=[{id:"1",name:"Late Payment Removal",description:"Template for disputing late payments with supporting documentation",bureau:"All",type:"Late Payment",successRate:85,avgImpact:25,steps:["Gather payment receipts","Write dispute letter","Submit to credit bureaus","Follow up after 30 days"]},{id:"2",name:"Collection Account Removal",description:"Template for removing collection accounts with validation request",bureau:"All",type:"Collection",successRate:75,avgImpact:35,steps:["Request debt validation","Prepare dispute letter","Submit to collection agency","Monitor credit report"]},{id:"3",name:"Identity Theft Dispute",description:"Comprehensive template for identity theft cases",bureau:"All",type:"Identity Theft",successRate:90,avgImpact:50,steps:["File police report","Submit identity theft affidavit","Notify all credit bureaus","Place fraud alerts"]}];function jj(t){switch(t){case"In Progress":return a.jsx(Dm,{className:"w-4 h-4 text-blue-500"});case"Resolved":return a.jsx(O1,{className:"w-4 h-4 text-green-500"});case"Submitted":return a.jsx(Dm,{className:"w-4 h-4 text-yellow-500"});case"Draft":return a.jsx(nW,{className:"w-4 h-4 text-gray-500"});case"Rejected":return a.jsx(_r,{className:"w-4 h-4 text-red-500"});default:return null}}function Jre(){const{disputes:t,loading:e,addDispute:n,updateDispute:r,deleteDispute:s,getDisputeStats:i}=Zre(),[o,l]=y.useState(""),[c,u]=y.useState(null),[d,h]=y.useState(!1),[p,m]=y.useState({...zu}),[x,w]=y.useState(""),[S,_]=y.useState(null),[v,T]=y.useState([]),[k,P]=y.useState(1),[O,N]=y.useState(!1),[E,j]=y.useState({status:"",bureau:"",priority:"",dateRange:"all"}),[R,D]=y.useState(!1),L=i(),I=t.filter($=>{const Z=$.client.toLowerCase().includes(o.toLowerCase())||$.creditor.toLowerCase().includes(o.toLowerCase())||$.type.toLowerCase().includes(o.toLowerCase()),We=(!E.status||$.status===E.status)&&(!E.bureau||$.bureau===E.bureau)&&(!E.priority||$.priority===E.priority)&&(E.dateRange==="all"||E.dateRange==="week"&&new Date($.lastUpdated)>new Date(Date.now()-7*24*60*60*1e3)||E.dateRange==="month"&&new Date($.lastUpdated)>new Date(Date.now()-30*24*60*60*1e3));return Z&&We}),te=10,_e=Math.ceil(I.length/te),Ie=I.slice((k-1)*te,k*te),Ce=Ie.length>0&&Ie.every($=>v.includes($.id));async function K($){if($.preventDefault(),!p.client.trim()||!p.creditor.trim()||!p.type.trim()){w("Client, Creditor, and Type are required."),Pt.error("Client, Creditor, and Type are required.");return}try{S?(await r(S,p),Pt.success("Dispute updated!")):(await n(p),Pt.success("Dispute added!")),h(!1),m({...zu}),w(""),_(null)}catch(Z){console.error("Error saving dispute:",Z),Pt.error("Failed to save dispute")}}function oe($){const{id:Z,createdAt:We,...ut}=$;m(ut),_(Z),h(!0)}function pe($,Z){T(We=>Z?[...We,$]:We.filter(ut=>ut!==$))}function Me($){T($?Ie.map(Z=>Z.id):v.filter(Z=>!Ie.map(We=>We.id).includes(Z)))}async function Ve(){try{await Promise.all(v.map($=>s($))),T([]),Pt.success("Selected disputes deleted!")}catch($){console.error("Error deleting disputes:",$),Pt.error("Failed to delete disputes")}}const G=$=>{const Z=[{date:$.submitted,action:"Dispute Submitted",status:"completed"},{date:new Date($.submitted).getTime()+6048e5,action:"Bureau Acknowledgment",status:"completed"},{date:new Date($.submitted).getTime()+2592e6,action:"Investigation Complete",status:$.status==="Resolved"?"completed":"pending"},{date:new Date($.submitted).getTime()+3888e6,action:"Results Updated",status:"pending"}];return a.jsx("div",{className:"space-y-4",children:Z.map((We,ut)=>a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${We.status==="completed"?"bg-green-500":"bg-gray-300"}`}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:We.action}),a.jsx("div",{className:"text-sm text-gray-500",children:new Date(We.date).toLocaleDateString()})]})]},ut))})};return a.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Disputes"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track credit dispute cases"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(ph,{size:20}),"New Dispute"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Active Disputes"}),a.jsx("h3",{className:"text-2xl font-bold mt-1",children:L.activeDisputes})]}),a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:a.jsx(Ts,{size:24})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("h3",{className:"text-2xl font-bold mt-1",children:[L.successRate,"%"]})]}),a.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:a.jsx(Ic,{size:24})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Disputes"}),a.jsx("h3",{className:"text-2xl font-bold mt-1",children:L.totalDisputes})]}),a.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:a.jsx(Ts,{size:24})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Resolved Disputes"}),a.jsx("h3",{className:"text-2xl font-bold mt-1",children:L.resolvedDisputes})]}),a.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:a.jsx(O1,{size:24})})]})})]}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx(Ts,{size:20}),"Use Template"]}),a.jsxs("button",{onClick:()=>N(!O),className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx(rW,{size:20}),"Filters",O?a.jsx(GH,{size:20}):a.jsx(fO,{size:20})]})]})]}),a.jsx(wn,{children:O&&a.jsx(ce.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-white rounded-xl p-4 mb-6 shadow-sm border border-gray-100 overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:E.status,onChange:$=>j(Z=>({...Z,status:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Submitted",children:"Submitted"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bureau"}),a.jsxs("select",{value:E.bureau,onChange:$=>j(Z=>({...Z,bureau:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"All Bureaus"}),a.jsx("option",{value:"Experian",children:"Experian"}),a.jsx("option",{value:"Equifax",children:"Equifax"}),a.jsx("option",{value:"TransUnion",children:"TransUnion"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:E.priority,onChange:$=>j(Z=>({...Z,priority:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),a.jsxs("select",{value:E.dateRange,onChange:$=>j(Z=>({...Z,dateRange:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"week",children:"Last 7 Days"}),a.jsx("option",{value:"month",children:"Last 30 Days"})]})]})]})})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search disputes...",value:o,onChange:$=>l($.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[v.length," selected"]}),a.jsxs("button",{onClick:Ve,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[a.jsx(wi,{size:20}),"Delete Selected"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[a.jsx("th",{className:"px-6 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:Ce,onChange:$=>Me($.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creditor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bureau"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:e?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-4",children:a.jsx("div",{className:"animate-pulse flex space-x-4",children:a.jsx("div",{className:"flex-1 space-y-4 py-1",children:[...Array(5)].map(($,Z)=>a.jsx("div",{className:"h-12 bg-gray-100 rounded"},Z))})})})}):Ie.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"No disputes found"})}):Ie.map($=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("input",{type:"checkbox",checked:v.includes($.id),onChange:Z=>pe($.id,Z.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:$.client.charAt(0)}),a.jsx("div",{className:"ml-3",children:a.jsx("div",{className:"font-medium text-gray-900",children:$.client})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:$.type})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:$.creditor}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:$.bureau}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.status==="Resolved"?"bg-green-100 text-green-800":$.status==="In Progress"?"bg-blue-100 text-blue-800":$.status==="Rejected"?"bg-red-100 text-red-800":$.status==="Submitted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[jj($.status),$.status]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.priority==="High"?"bg-red-100 text-red-800":$.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:$.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:$.lastUpdated}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>u($),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(Pi,{size:20})}),a.jsx("button",{onClick:()=>oe($),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(Xh,{size:20})}),a.jsx("button",{onClick:()=>s($.id),className:"p-1 text-gray-400 hover:text-red-600",children:a.jsx(wi,{size:20})})]})})]},$.id))})]})}),!e&&Ie.length>0&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(k-1)*te+1," to ",Math.min(k*te,I.length)," of ",I.length," disputes"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>P($=>Math.max(1,$-1)),disabled:k===1,className:"px-3 py-1 rounded-lg border border-gray-200 text-sm disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>P($=>Math.min(_e,$+1)),disabled:k===_e,className:"px-3 py-1 rounded-lg border border-gray-200 text-sm disabled:opacity-50",children:"Next"})]})]})]}),a.jsx(wn,{children:c&&a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx(ce.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dispute Details"})}),a.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(En,{size:20})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Client"}),a.jsx("p",{className:"text-gray-900",children:c.client})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Type"}),a.jsx("p",{className:"text-gray-900",children:c.type})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Creditor"}),a.jsx("p",{className:"text-gray-900",children:c.creditor})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Bureau"}),a.jsx("p",{className:"text-gray-900",children:c.bureau})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="Resolved"?"bg-green-100 text-green-800":c.status==="In Progress"?"bg-blue-100 text-blue-800":c.status==="Rejected"?"bg-red-100 text-red-800":c.status==="Submitted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[jj(c.status),c.status]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Priority"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.priority==="High"?"bg-red-100 text-red-800":c.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:c.priority})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Timeline"}),a.jsx("div",{className:"space-y-4",children:G(c)})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-900",children:c.notes})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Next Action"}),a.jsx("p",{className:"text-gray-900",children:c.nextAction})]})]})})})}),a.jsx(wn,{children:d&&a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx(ce.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:K,className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:S!==null?"Edit Dispute":"New Dispute"}),a.jsx("p",{className:"text-gray-600 mt-1",children:S!==null?"Update dispute details":"Create a new dispute case"})]}),a.jsx("button",{type:"button",onClick:()=>{h(!1),m({...zu}),w(""),_(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(En,{size:20})})]}),x&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg",children:x}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),a.jsx("input",{type:"text",value:p.client,onChange:$=>m(Z=>({...Z,client:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:p.type,onChange:$=>m(Z=>({...Z,type:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"Late Payment",children:"Late Payment"}),a.jsx("option",{value:"Collection Account",children:"Collection Account"}),a.jsx("option",{value:"Credit Utilization",children:"Credit Utilization"}),a.jsx("option",{value:"Identity Theft",children:"Identity Theft"}),a.jsx("option",{value:"Duplicate Account",children:"Duplicate Account"}),a.jsx("option",{value:"Inquiry Removal",children:"Inquiry Removal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creditor"}),a.jsx("input",{type:"text",value:p.creditor,onChange:$=>m(Z=>({...Z,creditor:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter creditor name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bureau"}),a.jsxs("select",{value:p.bureau,onChange:$=>m(Z=>({...Z,bureau:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Experian",children:"Experian"}),a.jsx("option",{value:"Equifax",children:"Equifax"}),a.jsx("option",{value:"TransUnion",children:"TransUnion"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:p.status,onChange:$=>m(Z=>({...Z,status:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Submitted",children:"Submitted"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:p.priority,onChange:$=>m(Z=>({...Z,priority:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:p.notes,onChange:$=>m(Z=>({...Z,notes:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter dispute notes"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Action"}),a.jsx("input",{type:"text",value:p.nextAction,onChange:$=>m(Z=>({...Z,nextAction:$.target.value})),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter next action"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{h(!1),m({...zu}),w(""),_(null)},className:"px-4 py-2 text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:S!==null?"Update Dispute":"Create Dispute"})]})]})})})}),a.jsx(wn,{children:R&&a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx(ce.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dispute Templates"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Choose a template to start a new dispute"})]}),a.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(En,{size:20})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Xre.map($=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-500 transition-colors cursor-pointer",onClick:()=>{m({...zu,type:$.type,notes:$.description,nextAction:$.steps[0]}),D(!1),h(!0)},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:$.name}),a.jsx("span",{className:"text-sm text-gray-500",children:$.bureau})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:$.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(Ic,{size:16}),$.successRate,"% Success"]}),a.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[a.jsx(ny,{size:16}),"+",$.avgImpact," pts"]})]})]},$.id))})]})})})})]})}const ese=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),[s,i]=y.useState(null);y.useEffect(()=>{r(!0);const u=lt(Le,"tasks"),d=H_(u,h=>{e(h.docs.map(p=>({id:p.id,...p.data()}))),r(!1)},h=>{i(h.message),r(!1)});return()=>d()},[]);const o=y.useCallback(async u=>{r(!0),i(null);try{const d={};Object.entries(u).forEach(([h,p])=>{p!==void 0&&(d[h]=p)}),await lf(lt(Le,"tasks"),{...d,createdAt:Fa(),updatedAt:Fa()})}catch(d){i(d.message)}finally{r(!1)}},[]),l=y.useCallback(async(u,d)=>{r(!0),i(null);try{const h={};Object.entries(d).forEach(([p,m])=>{m!==void 0&&(h[p]=m)}),await ou(hr(Le,"tasks",u),{...h,updatedAt:Fa()})}catch(h){i(h.message)}finally{r(!1)}},[]),c=y.useCallback(async u=>{r(!0),i(null);try{await Ay(hr(Le,"tasks",u))}catch(d){i(d.message)}finally{r(!1)}},[]);return{tasks:t,loading:n,error:s,addTask:o,editTask:l,removeTask:c}},tse={apiUrl:"http://localhost:3000",cdnUrl:"http://localhost:3000/static",environment:"development",enableMonitoring:!0,enableLogging:!0,cacheTTL:5*60*1e3,maxRetries:3,timeout:5e3},nse={apiUrl:"https://staging-api.credexispro.com/api",cdnUrl:"https://staging-cdn.credexispro.com",environment:"staging",enableMonitoring:!0,enableLogging:!0,cacheTTL:15*60*1e3,maxRetries:3,timeout:1e4},rse={apiUrl:"https://api.credexispro.com/api",cdnUrl:"https://cdn.credexispro.com",environment:"production",enableMonitoring:!0,enableLogging:!1,cacheTTL:30*60*1e3,maxRetries:2,timeout:15e3},sse=()=>{switch("production"){case"production":return rse;case"staging":return nse;default:return tse}},Hu=sse(),va=class va{constructor(){xt(this,"memoryCache");xt(this,"defaultTTL",5*60*1e3);this.memoryCache=new Map,this.startCleanupInterval()}static getInstance(){return va.instance||(va.instance=new va),va.instance}startCleanupInterval(){setInterval(()=>this.cleanup(),6e4)}cleanup(){const e=Date.now();for(const[n,r]of this.memoryCache.entries())this.isExpired(r,e)&&this.memoryCache.delete(n);if(typeof window<"u")for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r!=null&&r.startsWith("cache_"))try{const s=JSON.parse(localStorage.getItem(r)||"");this.isExpired(s,e)&&localStorage.removeItem(r)}catch{localStorage.removeItem(r)}}}isExpired(e,n){return e.ttl?n-e.timestamp>e.ttl:!1}getStorageKey(e){return`cache_${e}`}async get(e,n={}){const{useLocalStorage:r=!1}=n,s=Date.now(),i=this.memoryCache.get(e);if(i&&!this.isExpired(i,s))return i.value;if(r&&typeof window<"u")try{const o=this.getStorageKey(e),l=localStorage.getItem(o);if(l){const c=JSON.parse(l);if(!this.isExpired(c,s))return this.memoryCache.set(e,c),c.value}}catch(o){console.error("Error reading from localStorage:",o)}return null}async set(e,n,r={}){const{ttl:s=this.defaultTTL,useLocalStorage:i=!1}=r,o={value:n,timestamp:Date.now(),ttl:s};if(this.memoryCache.set(e,o),i&&typeof window<"u")try{const l=this.getStorageKey(e);localStorage.setItem(l,JSON.stringify(o))}catch(l){console.error("Error writing to localStorage:",l)}}async delete(e,n={}){const{useLocalStorage:r=!1}=n;if(this.memoryCache.delete(e),r&&typeof window<"u")try{const s=this.getStorageKey(e);localStorage.removeItem(s)}catch(s){console.error("Error removing from localStorage:",s)}}async clear(e={}){const{useLocalStorage:n=!1}=e;if(this.memoryCache.clear(),n&&typeof window<"u")try{for(let r=localStorage.length-1;r>=0;r--){const s=localStorage.key(r);s!=null&&s.startsWith("cache_")&&localStorage.removeItem(s)}}catch(r){console.error("Error clearing localStorage:",r)}}};xt(va,"instance");let Rw=va;const xa=Rw.getInstance(),ise=()=>{if(typeof window<"u"&&window.performance)return window.performance;try{return require("perf_hooks").performance}catch{return{now:()=>Date.now()}}},fx=ise();var bs;let ose=(bs=class{constructor(){xt(this,"logBuffer",[]);xt(this,"maxBufferSize",100);xt(this,"flushInterval",6e4);xt(this,"isDevelopment",!1);setInterval(()=>this.flush(),this.flushInterval)}static getInstance(){return bs.instance||(bs.instance=new bs),bs.instance}formatLogEntry(e){const{timestamp:n,level:r,message:s,context:i,duration:o,error:l}=e;let c=`[${n}] ${r}: ${s}`;return o&&(c+=` (${o.toFixed(2)}ms)`),i&&(c+=`
Context: ${JSON.stringify(i,null,2)}`),l&&(c+=`
Error: ${l.message}
Stack: ${l.stack}`),c}async flush(){if(this.logBuffer.length!==0)try{this.isDevelopment||await fetch("/api/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.logBuffer)}),this.logBuffer=[]}catch(e){console.error("Failed to flush logs:",e)}}log(e,n,r,s){const i={timestamp:new Date().toISOString(),level:e,message:n,context:r,error:s};if(this.logBuffer.push(i),this.isDevelopment){const o=this.formatLogEntry(i);switch(e){case"DEBUG":console.debug(o);break;case"INFO":console.info(o);break;case"WARN":console.warn(o);break;case"ERROR":case"FATAL":console.error(o);break}}this.logBuffer.length>=this.maxBufferSize&&this.flush()}debug(e,n){this.log("DEBUG",e,n)}info(e,n){this.log("INFO",e,n)}warn(e,n){this.log("WARN",e,n)}error(e,n,r){this.log("ERROR",e,r,n)}fatal(e,n,r){this.log("FATAL",e,r,n)}async measure(e,n,r){const s=fx.now();try{const i=await n(),o=fx.now()-s;return this.info(`${e} completed`,{...r,duration:o}),i}catch(i){const o=fx.now()-s;throw this.error(`${e} failed`,i,{...r,duration:o}),i}}},xt(bs,"instance"),bs);const ms=ose.getInstance(),wa=class wa{constructor(){xt(this,"metrics",[]);xt(this,"interactions",[]);xt(this,"maxInteractions",100);xt(this,"flushInterval",6e4);this.startFlushInterval(),this.setupErrorHandling(),this.setupPerformanceObserver()}static getInstance(){return wa.instance||(wa.instance=new wa),wa.instance}startFlushInterval(){setInterval(()=>this.flush(),this.flushInterval)}setupErrorHandling(){window.addEventListener("error",e=>{this.reportError({error:e.error||new Error(e.message),context:{filename:e.filename,lineno:e.lineno,colno:e.colno}})}),window.addEventListener("unhandledrejection",e=>{this.reportError({error:e.reason instanceof Error?e.reason:new Error(String(e.reason)),context:{type:"unhandledrejection"}})})}setupPerformanceObserver(){"PerformanceObserver"in window&&(new PerformanceObserver(s=>{s.getEntries().forEach(i=>{this.recordMetric({name:"long_task",value:i.duration,tags:{name:i.name}})})}).observe({entryTypes:["longtask"]}),new PerformanceObserver(s=>{s.getEntries().forEach(i=>{i.hadRecentInput||this.recordMetric({name:"layout_shift",value:i.value,tags:{name:i.name}})})}).observe({entryTypes:["layout-shift"]}),new PerformanceObserver(s=>{s.getEntries().forEach(i=>{this.recordMetric({name:"first_input_delay",value:i.duration,tags:{name:i.name}})})}).observe({entryTypes:["first-input"]}))}recordMetric(e){this.metrics.push(e),ms.info("Performance metric recorded",{metric:e})}recordInteraction(e){this.interactions.push(e),this.interactions.length>this.maxInteractions&&this.interactions.shift(),ms.info("User interaction recorded",{interaction:e})}reportError(e){ms.error("Error reported",new Error(JSON.stringify({message:e.error.message,stack:e.error.stack,context:e.context,user:e.user})))}async flush(){if(!(this.metrics.length===0&&this.interactions.length===0))try{ms.info("Monitoring data flushed",{metricsCount:this.metrics.length,interactionsCount:this.interactions.length}),this.metrics=[],this.interactions=[]}catch(e){const n=e instanceof Error?e.message:String(e);ms.error("Failed to flush monitoring data",new Error(n))}}getMetrics(){return[...this.metrics]}getInteractions(){return[...this.interactions]}};xt(wa,"instance");let Ow=wa;const io=Ow.getInstance(),ba=class ba{constructor(){xt(this,"baseUrl");this.baseUrl=Hu.apiUrl}static getInstance(){return ba.instance||(ba.instance=new ba),ba.instance}async fetchWithRetry(e,n,r=0){try{const s=await fetch(e,{method:n.method||"GET",headers:{"Content-Type":"application/json",...n.headers},body:n.body?JSON.stringify(n.body):void 0});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s}catch(s){if(n.retryOnError!==!1&&r<Hu.maxRetries){const i=Math.pow(2,r)*1e3;return await new Promise(o=>setTimeout(o,i)),this.fetchWithRetry(e,n,r+1)}throw s}}getCacheKey(e,n){const r=n.method||"GET",s=n.body?JSON.stringify(n.body):"";return`${r}:${e}:${s}`}async request(e,n={}){const r=`${this.baseUrl}${e}`,s=performance.now();try{if(n.method==="GET"&&n.useCache!==!1){const c=this.getCacheKey(r,n),u=await xa.get(c,{ttl:n.cacheTTL||Hu.cacheTTL});if(u)return io.recordMetric({name:"cache_hit",value:1,tags:{endpoint:e}}),{data:u,status:200,headers:new Headers}}const i=await this.fetchWithRetry(r,n),o=await i.json();if(n.method==="GET"&&n.useCache!==!1){const c=this.getCacheKey(r,n);await xa.set(c,o,{ttl:n.cacheTTL||Hu.cacheTTL})}const l=performance.now()-s;return io.recordMetric({name:"api_request_duration",value:l,tags:{endpoint:e,method:n.method||"GET"}}),{data:o,status:i.status,headers:i.headers}}catch(i){throw io.reportError({error:i instanceof Error?i:new Error(String(i)),context:{url:r,method:n.method||"GET",retryCount:n.retryOnError!==!1?Hu.maxRetries:0}}),i}}async get(e,n={}){return this.request(e,{...n,method:"GET"})}async post(e,n,r={}){return this.request(e,{...r,method:"POST",body:n})}async put(e,n,r={}){return this.request(e,{...r,method:"PUT",body:n})}async patch(e,n,r={}){return this.request(e,{...r,method:"PATCH",body:n})}async delete(e,n={}){return this.request(e,{...n,method:"DELETE"})}};xt(ba,"instance");let Dw=ba;const vs=Dw.getInstance();function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ase=typeof Symbol=="function"&&Symbol.observable||"@@observable",kj=ase,px=()=>Math.random().toString(36).substring(7).split("").join("."),lse={INIT:`@@redux/INIT${px()}`,REPLACE:`@@redux/REPLACE${px()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${px()}`},gg=lse;function rE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ZL(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(ZL)(t,e)}let r=t,s=e,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((S,_)=>{o.set(_,S)}))}function d(){if(c)throw new Error(Xt(3));return s}function h(S){if(typeof S!="function")throw new Error(Xt(4));if(c)throw new Error(Xt(5));let _=!0;u();const v=l++;return o.set(v,S),function(){if(_){if(c)throw new Error(Xt(6));_=!1,u(),o.delete(v),i=null}}}function p(S){if(!rE(S))throw new Error(Xt(7));if(typeof S.type>"u")throw new Error(Xt(8));if(typeof S.type!="string")throw new Error(Xt(17));if(c)throw new Error(Xt(9));try{c=!0,s=r(s,S)}finally{c=!1}return(i=o).forEach(v=>{v()}),S}function m(S){if(typeof S!="function")throw new Error(Xt(10));r=S,p({type:gg.REPLACE})}function x(){const S=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Xt(11));function v(){const k=_;k.next&&k.next(d())}return v(),{unsubscribe:S(v)}},[kj](){return this}}}return p({type:gg.INIT}),{dispatch:p,subscribe:h,getState:d,replaceReducer:m,[kj]:x}}function cse(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:gg.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:gg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function use(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{cse(n)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],p=n[h],m=o[h],x=p(m,l);if(typeof x>"u")throw l&&l.type,new Error(Xt(14));u[h]=x,c=c||x!==m}return c=c||r.length!==Object.keys(o).length,c?u:o}}function yg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function dse(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(Xt(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(o));return i=yg(...l)(s.dispatch),{...s,dispatch:i}}}function hse(t){return rE(t)&&"type"in t&&typeof t.type=="string"}var XL=Symbol.for("immer-nothing"),Ij=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function qr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bc=Object.getPrototypeOf;function tl(t){return!!t&&!!t[fr]}function ki(t){var e;return t?JL(t)||Array.isArray(t)||!!t[Ij]||!!((e=t.constructor)!=null&&e[Ij])||Vy(t)||Fy(t):!1}var fse=Object.prototype.constructor.toString();function JL(t){if(!t||typeof t!="object")return!1;const e=Bc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===fse}function xg(t,e){My(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function My(t){const e=t[fr];return e?e.type_:Array.isArray(t)?1:Vy(t)?2:Fy(t)?3:0}function Lw(t,e){return My(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function e5(t,e,n){const r=My(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pse(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Vy(t){return t instanceof Map}function Fy(t){return t instanceof Set}function ga(t){return t.copy_||t.base_}function Mw(t,e){if(Vy(t))return new Map(t);if(Fy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=JL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[fr];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Bc(t),r)}else{const r=Bc(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function sE(t,e=!1){return $y(t)||tl(t)||!ki(t)||(My(t)>1&&(t.set=t.add=t.clear=t.delete=mse),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>sE(r,!0))),t}function mse(){qr(2)}function $y(t){return Object.isFrozen(t)}var gse={};function nl(t){const e=gse[t];return e||qr(0,t),e}var kh;function t5(){return kh}function yse(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Aj(t,e){e&&(nl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Vw(t){Fw(t),t.drafts_.forEach(xse),t.drafts_=null}function Fw(t){t===kh&&(kh=t.parent_)}function Pj(t){return kh=yse(kh,t)}function xse(t){const e=t[fr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Rj(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[fr].modified_&&(Vw(e),qr(4)),ki(t)&&(t=vg(e,t),e.parent_||wg(e,t)),e.patches_&&nl("Patches").generateReplacementPatches_(n[fr].base_,t,e.patches_,e.inversePatches_)):t=vg(e,n,[]),Vw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==XL?t:void 0}function vg(t,e,n){if($y(e))return e;const r=e[fr];if(!r)return xg(e,(s,i)=>Oj(t,r,e,s,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return wg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),xg(i,(l,c)=>Oj(t,r,s,l,c,n,o)),wg(t,s,!1),n&&t.patches_&&nl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Oj(t,e,n,r,s,i,o){if(tl(s)){const l=i&&e&&e.type_!==3&&!Lw(e.assigned_,r)?i.concat(r):void 0,c=vg(t,s,l);if(e5(n,r,c),tl(c))t.canAutoFreeze_=!1;else return}else o&&n.add(s);if(ki(s)&&!$y(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;vg(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&wg(t,s)}}function wg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&sE(e,n)}function vse(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:t5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=iE;n&&(s=[r],i=Ih);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return r.draft_=l,r.revoke_=o,l}var iE={get(t,e){if(e===fr)return t;const n=ga(t);if(!Lw(n,e))return wse(t,n,e);const r=n[e];return t.finalized_||!ki(r)?r:r===mx(t.base_,e)?(gx(t),t.copy_[e]=Uw(r,t)):r},has(t,e){return e in ga(t)},ownKeys(t){return Reflect.ownKeys(ga(t))},set(t,e,n){const r=n5(ga(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=mx(ga(t),e),i=s==null?void 0:s[fr];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(pse(n,s)&&(n!==void 0||Lw(t.base_,e)))return!0;gx(t),$w(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,gx(t),$w(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ga(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){qr(11)},getPrototypeOf(t){return Bc(t.base_)},setPrototypeOf(){qr(12)}},Ih={};xg(iE,(t,e)=>{Ih[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ih.deleteProperty=function(t,e){return Ih.set.call(this,t,e,void 0)};Ih.set=function(t,e,n){return iE.set.call(this,t[0],e,n,t[0])};function mx(t,e){const n=t[fr];return(n?ga(n):t)[e]}function wse(t,e,n){var s;const r=n5(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function n5(t,e){if(!(e in t))return;let n=Bc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Bc(n)}}function $w(t){t.modified_||(t.modified_=!0,t.parent_&&$w(t.parent_))}function gx(t){t.copy_||(t.copy_=Mw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bse=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const o=this;return function(c=i,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&qr(6),r!==void 0&&typeof r!="function"&&qr(7);let s;if(ki(e)){const i=Pj(this),o=Uw(e,void 0);let l=!0;try{s=n(o),l=!1}finally{l?Vw(i):Fw(i)}return Aj(i,r),Rj(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===XL&&(s=void 0),this.autoFreeze_&&sE(s,!0),r){const i=[],o=[];nl("Patches").generateReplacementPatches_(e,s,i,o),r(i,o)}return s}else qr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,s;return[this.produce(e,n,(o,l)=>{r=o,s=l}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ki(t)||qr(8),tl(t)&&(t=_se(t));const e=Pj(this),n=Uw(t,void 0);return n[fr].isManual_=!0,Fw(e),n}finishDraft(t,e){const n=t&&t[fr];(!n||!n.isManual_)&&qr(9);const{scope_:r}=n;return Aj(r,e),Rj(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=nl("Patches").applyPatches_;return tl(t)?r(t,e):this.produce(t,s=>r(s,e))}};function Uw(t,e){const n=Vy(t)?nl("MapSet").proxyMap_(t,e):Fy(t)?nl("MapSet").proxySet_(t,e):vse(t,e);return(e?e.scope_:t5()).drafts_.push(n),n}function _se(t){return tl(t)||qr(10,t),r5(t)}function r5(t){if(!ki(t)||$y(t))return t;const e=t[fr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Mw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Mw(t,!0);return xg(n,(r,s)=>{e5(n,r,r5(s))}),e&&(e.finalized_=!1),n}var pr=new bse,s5=pr.produce;pr.produceWithPatches.bind(pr);pr.setAutoFreeze.bind(pr);pr.setUseStrictShallowCopy.bind(pr);pr.applyPatches.bind(pr);pr.createDraft.bind(pr);pr.finishDraft.bind(pr);function i5(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var Ese=i5(),Nse=i5,Sse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yg:yg.apply(null,arguments)},Tse=t=>t&&typeof t.match=="function";function Ld(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(fi(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>hse(r)&&r.type===t,n}var o5=class dd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dd.prototype)}static get[Symbol.species](){return dd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dd(...e[0].concat(this)):new dd(...e.concat(this))}};function Dj(t){return ki(t)?s5(t,()=>{}):t}function gp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Cse(t){return typeof t=="boolean"}var jse=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let o=new o5;return n&&(Cse(n)?o.push(Ese):o.push(Nse(n.extraArgument))),o},kse="RTK_autoBatch",Lj=t=>e=>{setTimeout(e,t)},Ise=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Lj(10):t.type==="callback"?t.queueNotification:Lj(t.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>s&&d(),p=r.subscribe(h);return l.add(d),()=>{p(),l.delete(d)}},dispatch(d){var h;try{return s=!((h=d==null?void 0:d.meta)!=null&&h[kse]),i=!s,i&&(o||(o=!0,c(u))),r.dispatch(d)}finally{s=!0}}})},Ase=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new o5(t);return r&&s.push(Ise(typeof r=="object"?r:void 0)),s};function Pse(t){const e=jse(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(rE(n))l=use(n);else throw new Error(fi(1));let c;typeof r=="function"?c=r(e):c=e();let u=yg;s&&(u=Sse({trace:!1,...typeof s=="object"&&s}));const d=dse(...c),h=Ase(d);let p=typeof o=="function"?o(h):h();const m=u(...p);return ZL(l,i,m)}function a5(t){const e={},n=[];let r;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(fi(28));if(l in e)throw new Error(fi(29));return e[l]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function Rse(t){return typeof t=="function"}function Ose(t,e){let[n,r,s]=a5(e),i;if(Rse(t))i=()=>Dj(t());else{const l=Dj(t);i=()=>l}function o(l=i(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,h)=>{if(h)if(tl(d)){const m=h(d,c);return m===void 0?d:m}else{if(ki(d))return s5(d,p=>h(p,c));{const p=h(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},l)}return o.getInitialState=i,o}var Dse=(t,e)=>Tse(t)?t.match(e):t(e);function Lse(...t){return e=>t.some(n=>Dse(n,e))}var Mse="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vse=(t=21)=>{let e="",n=t;for(;n--;)e+=Mse[Math.random()*64|0];return e},Fse=["name","message","stack","code"],yx=class{constructor(t,e){xt(this,"_type");this.payload=t,this.meta=e}},Mj=class{constructor(t,e){xt(this,"_type");this.payload=t,this.meta=e}},$se=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of Fse)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Vj="External signal was aborted",lu=(()=>{function t(e,n,r){const s=Ld(e+"/fulfilled",(c,u,d,h)=>({payload:c,meta:{...h||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),i=Ld(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),o=Ld(e+"/rejected",(c,u,d,h,p)=>({payload:h,error:(r&&r.serializeError||$se)(c||"Rejected"),meta:{...p||{},arg:d,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,h,p)=>{const m=r!=null&&r.idGenerator?r.idGenerator(c):Vse(),x=new AbortController;let w,S;function _(T){S=T,x.abort()}u&&(u.aborted?_(Vj):u.addEventListener("abort",()=>_(Vj),{once:!0}));const v=async function(){var P,O;let T;try{let N=(P=r==null?void 0:r.condition)==null?void 0:P.call(r,c,{getState:h,extra:p});if(Bse(N)&&(N=await N),N===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((j,R)=>{w=()=>{R({name:"AbortError",message:S||"Aborted"})},x.signal.addEventListener("abort",w)});d(i(m,c,(O=r==null?void 0:r.getPendingMeta)==null?void 0:O.call(r,{requestId:m,arg:c},{getState:h,extra:p}))),T=await Promise.race([E,Promise.resolve(n(c,{dispatch:d,getState:h,extra:p,requestId:m,signal:x.signal,abort:_,rejectWithValue:(j,R)=>new yx(j,R),fulfillWithValue:(j,R)=>new Mj(j,R)})).then(j=>{if(j instanceof yx)throw j;return j instanceof Mj?s(j.payload,m,c,j.meta):s(j,m,c)})])}catch(N){T=N instanceof yx?o(null,m,c,N.payload,N.meta):o(N,m,c)}finally{w&&x.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition||d(T),T}();return Object.assign(v,{abort:_,requestId:m,arg:c,unwrap(){return v.then(Use)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,settled:Lse(o,s),typePrefix:e})}return t.withTypes=()=>t,t})();function Use(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Bse(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zse=Symbol.for("rtk-slice-createasyncthunk");function Hse(t,e){return`${t}/${e}`}function Wse({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[zse];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(fi(11));const l=(typeof s.reducers=="function"?s.reducers(Kse()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,P){const O=typeof k=="string"?k:k.type;if(!O)throw new Error(fi(12));if(O in u.sliceCaseReducersByType)throw new Error(fi(13));return u.sliceCaseReducersByType[O]=P,d},addMatcher(k,P){return u.sliceMatchers.push({matcher:k,reducer:P}),d},exposeAction(k,P){return u.actionCreators[k]=P,d},exposeCaseReducer(k,P){return u.sliceCaseReducersByName[k]=P,d}};c.forEach(k=>{const P=l[k],O={reducerName:k,type:Hse(i,k),createNotation:typeof s.reducers=="function"};Yse(P)?Zse(O,P,d,e):Gse(O,P,d)});function h(){const[k={},P=[],O=void 0]=typeof s.extraReducers=="function"?a5(s.extraReducers):[s.extraReducers],N={...k,...u.sliceCaseReducersByType};return Ose(s.initialState,E=>{for(let j in N)E.addCase(j,N[j]);for(let j of u.sliceMatchers)E.addMatcher(j.matcher,j.reducer);for(let j of P)E.addMatcher(j.matcher,j.reducer);O&&E.addDefaultCase(O)})}const p=k=>k,m=new Map,x=new WeakMap;let w;function S(k,P){return w||(w=h()),w(k,P)}function _(){return w||(w=h()),w.getInitialState()}function v(k,P=!1){function O(E){let j=E[k];return typeof j>"u"&&P&&(j=gp(x,O,_)),j}function N(E=p){const j=gp(m,P,()=>new WeakMap);return gp(j,E,()=>{const R={};for(const[D,L]of Object.entries(s.selectors??{}))R[D]=qse(L,E,()=>gp(x,E,_),P);return R})}return{reducerPath:k,getSelectors:N,get selectors(){return N(O)},selectSlice:O}}const T={name:i,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...v(o),injectInto(k,{reducerPath:P,...O}={}){const N=P??o;return k.inject({reducerPath:N,reducer:S},O),{...T,...v(N,!0)}}};return T}}function qse(t,e,n,r){function s(i,...o){let l=e(i);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return s.unwrapped=t,s}var Uy=Wse();function Kse(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Gse({type:t,reducerName:e,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!Qse(r))throw new Error(fi(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?Ld(t,o):Ld(t))}function Yse(t){return t._reducerDefinitionType==="asyncThunk"}function Qse(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Zse({type:t,reducerName:e},n,r,s){if(!s)throw new Error(fi(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,h=s(t,i,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),l&&r.addCase(h.pending,l),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||yp,pending:l||yp,rejected:c||yp,settled:u||yp})}function yp(){}function fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Xs={DASHBOARD:"/dashboard",CLIENTS:"/clients",TASKS:"/tasks",SETTINGS:"/settings",PRIVACY_POLICY:"/privacy-policy",COOKIE_POLICY:"/cookie-policy",TERMS_OF_SERVICE:"/terms-of-service",GDPR:"/gdpr"},Fr={TOKEN_KEY:"auth_token",REFRESH_TOKEN_KEY:"refresh_token"},cu={TASKS:{LIST:"/api/tasks",CREATE:"/api/tasks",UPDATE:"/api/tasks",DELETE:"/api/tasks",TEMPLATES:"/api/tasks/templates"}},Xse={user:null,token:localStorage.getItem(Fr.TOKEN_KEY),refreshToken:localStorage.getItem(Fr.REFRESH_TOKEN_KEY),isAuthenticated:!!localStorage.getItem(Fr.TOKEN_KEY),loading:!1,error:null,emailVerified:!1,passwordResetRequested:!1},l5=Uy({name:"auth",initialState:Xse,reducers:{loginStart:t=>{t.loading=!0,t.error=null},loginSuccess:(t,e)=>{t.loading=!1,t.isAuthenticated=!0,t.user={...e.payload.user,createdAt:e.payload.user.createdAt||new Date().toISOString(),updatedAt:e.payload.user.updatedAt||new Date().toISOString()},t.token=e.payload.token,t.refreshToken=e.payload.refreshToken,t.error=null,localStorage.setItem(Fr.TOKEN_KEY,e.payload.token),localStorage.setItem(Fr.REFRESH_TOKEN_KEY,e.payload.refreshToken)},loginFailure:(t,e)=>{t.loading=!1,t.error=e.payload},logout:t=>{t.user=null,t.token=null,t.refreshToken=null,t.isAuthenticated=!1,t.error=null,localStorage.removeItem(Fr.TOKEN_KEY),localStorage.removeItem(Fr.REFRESH_TOKEN_KEY)},updateUser:(t,e)=>{t.user=e.payload},refreshTokenStart:t=>{t.loading=!0,t.error=null},refreshTokenSuccess:(t,e)=>{t.loading=!1,t.token=e.payload.token,t.refreshToken=e.payload.refreshToken,t.error=null,localStorage.setItem(Fr.TOKEN_KEY,e.payload.token),localStorage.setItem(Fr.REFRESH_TOKEN_KEY,e.payload.refreshToken)},refreshTokenFailure:(t,e)=>{t.loading=!1,t.error=e.payload,t.isAuthenticated=!1,t.token=null,t.refreshToken=null,localStorage.removeItem(Fr.TOKEN_KEY),localStorage.removeItem(Fr.REFRESH_TOKEN_KEY)},requestPasswordReset:t=>{t.loading=!0,t.error=null},requestPasswordResetSuccess:t=>{t.loading=!1,t.passwordResetRequested=!0,t.error=null},requestPasswordResetFailure:(t,e)=>{t.loading=!1,t.error=e.payload},verifyEmailStart:t=>{t.loading=!0,t.error=null},verifyEmailSuccess:t=>{t.loading=!1,t.emailVerified=!0,t.error=null},verifyEmailFailure:(t,e)=>{t.loading=!1,t.error=e.payload}}}),{loginStart:uae,loginSuccess:Jse,loginFailure:dae,logout:Fj,updateUser:hae,refreshTokenStart:fae,refreshTokenSuccess:pae,refreshTokenFailure:mae,requestPasswordReset:gae,requestPasswordResetSuccess:yae,requestPasswordResetFailure:xae,verifyEmailStart:vae,verifyEmailSuccess:wae,verifyEmailFailure:bae}=l5.actions,eie=l5.reducer,Wu="auth_token",xp="auth_refresh_token",qu="auth_user",tie=()=>{const t=Os(),e=CA(),[n,r]=y.useState({user:null,isAuthenticated:!1,isLoading:!0,error:null}),s=y.useCallback(async()=>{try{const d=localStorage.getItem(Wu),h=await xa.get(qu);r(d&&h?{user:h,isAuthenticated:!0,isLoading:!1,error:null}:{user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(d){const h=d instanceof Error?d.message:String(d);ms.error("Failed to load stored auth",new Error(h),{action:"loadStoredAuth"}),r({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to load authentication state"})}},[]);y.useEffect(()=>{s()},[s]);const i=y.useCallback(async d=>{r(h=>({...h,isLoading:!0,error:null}));try{const h=await vs.post("/auth/login",d),{token:p,refreshToken:m,user:x}=h.data;localStorage.setItem(Wu,p),localStorage.setItem(xp,m),await xa.set(qu,x),r({user:x,isAuthenticated:!0,isLoading:!1,error:null}),io.recordInteraction({type:"login",target:"auth",timestamp:Date.now(),metadata:{userId:x.id}}),t("/dashboard")}catch(h){const p=h instanceof Error?h.message:"Login failed";r(m=>({...m,isLoading:!1,error:p})),io.reportError({error:h instanceof Error?h:new Error(p),context:{action:"login"}}),ms.error("Login failed",new Error(p),{action:"login"})}},[t,e]),o=y.useCallback(async d=>{r(h=>({...h,isLoading:!0,error:null}));try{const h=await vs.post("/auth/register",d),{token:p,refreshToken:m,user:x}=h.data;localStorage.setItem(Wu,p),localStorage.setItem(xp,m),await xa.set(qu,x),r({user:x,isAuthenticated:!0,isLoading:!1,error:null}),io.recordInteraction({type:"register",target:"auth",timestamp:Date.now(),metadata:{userId:x.id}}),t("/dashboard")}catch(h){const p=h instanceof Error?h.message:"Registration failed";r(m=>({...m,isLoading:!1,error:p})),io.reportError({error:h instanceof Error?h:new Error(p),context:{action:"register"}}),ms.error("Registration failed",new Error(p),{action:"register"})}},[t]),l=y.useCallback(async()=>{try{await vs.post("/auth/logout",{})}catch(d){const h=d instanceof Error?d.message:String(d);ms.error("Logout request failed",new Error(h),{action:"logout"})}finally{localStorage.removeItem(Wu),localStorage.removeItem(xp),await xa.delete(qu),r({user:null,isAuthenticated:!1,isLoading:!1,error:null}),io.recordInteraction({type:"logout",target:"auth",timestamp:Date.now()}),t("/login")}},[t]),c=y.useCallback(async()=>{try{const d=localStorage.getItem(xp);if(!d)throw new Error("No refresh token available");const h=await vs.post("/auth/refresh",{refreshToken:d}),{token:p,user:m}=h.data;localStorage.setItem(Wu,p),await xa.set(qu,m),r(x=>({...x,user:m,isAuthenticated:!0}))}catch(d){const h=d instanceof Error?d.message:String(d);ms.error("Token refresh failed",new Error(h),{action:"refreshToken"}),await l()}},[l]);return{...n,login:i,register:o,logout:l,refreshToken:c,isTestLoginAvailable:!1}},nie=["general","dispute","client","document","payment"],rie=["low","medium","high","urgent"],sie=["todo","in_progress","review","completed","blocked"],iie=({isOpen:t,onClose:e,onSubmit:n,task:r,currentUser:s})=>{const[i,o]=ee.useState({title:"",description:"",dueDate:"",priority:"medium",status:"todo",type:"general",assignee:s||void 0,category:"other",notes:"",...r});ee.useEffect(()=>{o({title:"",description:"",dueDate:"",priority:"medium",status:"todo",type:"general",assignee:s||void 0,category:"other",notes:"",...r})},[r,s,t]);const l=c=>{c.preventDefault(),console.log("TaskModal handleSubmit fired",i);const u={...i,assignee:i.assignee||s||void 0,dependencies:[],comments:[],tags:[],createdBy:s||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(u),e()};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:r?"Edit Task":"New Task"}),a.jsxs("form",{onSubmit:l,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),a.jsx("input",{type:"text",value:i.title,onChange:c=>o({...i,title:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type *"}),a.jsx("select",{value:i.type,onChange:c=>o({...i,type:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:nie.map(c=>a.jsx("option",{value:c,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{value:i.description,onChange:c=>o({...i,description:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date *"}),a.jsx("input",{type:"datetime-local",value:i.dueDate||"",onChange:c=>o({...i,dueDate:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority *"}),a.jsx("select",{value:i.priority,onChange:c=>o({...i,priority:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:rie.map(c=>a.jsx("option",{value:c,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status *"}),a.jsx("select",{value:i.status,onChange:c=>o({...i,status:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:sie.map(c=>a.jsx("option",{value:c,children:c.replace("_"," ").replace(/\b\w/g,u=>u.toUpperCase())},c))})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),a.jsx("textarea",{value:i.notes,onChange:c=>o({...i,notes:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:2})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",onClick:c=>{console.log("Create Task button clicked"),l(c)},children:r?"Update Task":"Create Task"})]})]})]})}):null},oie=[{value:"all",label:"All"},{value:"todo",label:"To Do"},{value:"in_progress",label:"In Progress"},{value:"review",label:"Review"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}],aie=()=>{const{tasks:t,loading:e,error:n,addTask:r,editTask:s,removeTask:i}=ese(),{user:o}=tie(),[l,c]=y.useState(!1),[u,d]=y.useState(null),[h,p]=y.useState(""),[m,x]=y.useState("all"),[w,S]=y.useState(null),_=t.filter(N=>{const E=N.title.toLowerCase().includes(h.toLowerCase())||N.description&&N.description.toLowerCase().includes(h.toLowerCase()),j=m==="all"?!0:N.status===m;return E&&j}),v=async N=>{await r(N),c(!1)},T=async N=>{u&&(await s(u.id,N),d(null),c(!1))},k=N=>{S(N)},P=async()=>{w&&(await i(w.id),S(null))},O=()=>S(null);return e?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):n?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-red-500",children:["Error loading tasks: ",n]})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tasks"}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx("input",{type:"text",placeholder:"Search tasks...",value:h,onChange:N=>p(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx(Zh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsx("select",{value:m,onChange:N=>x(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:oie.map(N=>a.jsx("option",{value:N.value,children:N.label},N.value))}),a.jsxs("button",{onClick:()=>{c(!0),d(null)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[a.jsx(ph,{className:"w-5 h-5"})," New Task"]})]})]}),a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[_.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No tasks found."})}),_.map(N=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:N.title}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 capitalize",children:N.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${N.priority==="high"?"bg-red-100 text-red-800":N.priority==="medium"?"bg-yellow-100 text-yellow-800":N.priority==="urgent"?"bg-pink-100 text-pink-800":"bg-green-100 text-green-800"}`,children:N.priority.charAt(0).toUpperCase()+N.priority.slice(1)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${N.status==="completed"?"bg-green-100 text-green-800":N.status==="in_progress"?"bg-blue-100 text-blue-800":N.status==="blocked"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:N.status.replace("_"," ").replace(/\b\w/g,E=>E.toUpperCase())})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:N.dueDate?new Date(N.dueDate).toLocaleDateString():"—"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap flex gap-2",children:[a.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-800",children:a.jsx(Pi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{d(N),c(!0)},className:"text-gray-600 hover:text-gray-800",children:a.jsx(Xh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>k(N),className:"text-red-600 hover:text-red-800",children:a.jsx(wi,{className:"w-4 h-4"})})]})]},N.id))]})]})}),l&&a.jsx(iie,{isOpen:l,onClose:()=>{c(!1),d(null)},onSubmit:u?T:v,currentUser:o||void 0,task:u||void 0}),w&&a.jsx(QL,{isOpen:!!w,onClose:O,title:"Delete Task",description:"Are you sure you want to delete this task? This action cannot be undone.",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("div",{className:"text-gray-900 font-semibold",children:w.title}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:O,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})},vp={id:"",client:"",amount:0,type:"Credit Card",status:"Pending",date:"",reference:"",notes:""},xx=10;function lie(){const[t,e]=y.useState(!0),[n,r]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,h]=y.useState({...vp}),[p,m]=y.useState(""),[x,w]=y.useState(null),[S,_]=y.useState(1),[v,T]=y.useState("all");y.useEffect(()=>{setTimeout(()=>{r([]),e(!1)},1200)},[]);const k=n.filter(I=>{const te=I.client.toLowerCase().includes(s.toLowerCase())||I.reference.toLowerCase().includes(s.toLowerCase())||I.type.toLowerCase().includes(s.toLowerCase()),_e=v==="all"||v==="completed"&&I.status==="Completed"||v==="pending"&&I.status==="Pending"||v==="failed"&&I.status==="Failed";return te&&_e}),P=Math.ceil(k.length/xx),O=k.slice((S-1)*xx,S*xx);function N(I){if(I.preventDefault(),!d.client.trim()||!d.amount||!d.date){m("Client, Amount, and Date are required."),Pt.error("Client, Amount, and Date are required.");return}if(x!==null)r(te=>te.map((_e,Ie)=>Ie===x?{...d}:_e)),Pt.success("Payment updated!");else{const te={...d,id:Math.random().toString(36).substr(2,9),reference:`PAY-${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`};r([te,...n]),Pt.success("Payment added!")}u(!1),h({...vp}),m(""),w(null)}function E(I){switch(I){case"Completed":return a.jsx(O1,{className:"w-4 h-4 text-green-500"});case"Pending":return a.jsx(_r,{className:"w-4 h-4 text-yellow-500"});case"Failed":return a.jsx(_r,{className:"w-4 h-4 text-red-500"});default:return null}}function j(I){switch(I){case"Credit Card":return a.jsx(jc,{className:"w-4 h-4 text-indigo-500"});case"Bank Transfer":return a.jsx(HH,{className:"w-4 h-4 text-green-500"});default:return a.jsx(kc,{className:"w-4 h-4 text-gray-500"})}}function R(I){return new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function D(I){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I)}function L(I){switch(I){case"paid":case"Paid":return"bg-green-100 text-green-800";case"pending":case"Pending":return"bg-yellow-100 text-yellow-800";case"failed":case"Failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}return a.jsx(wn,{mode:"wait",children:a.jsxs(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsxs(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Payments & Billing"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"View payment history, manage invoices, and update payment methods"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base w-full sm:w-auto",onClick:()=>u(!0),children:[a.jsx(Lm,{className:"w-5 h-5"})," New Payment"]})]}),a.jsxs(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-2",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("input",{className:"w-full pl-10 pr-3 py-2 rounded-lg border border-gray-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none text-base bg-white shadow-sm placeholder-gray-400",placeholder:"Search payments...",value:s,onChange:I=>i(I.target.value)}),a.jsx(Zh,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["all","paid","pending","failed"].map(I=>a.jsx("button",{className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-base font-semibold border transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-indigo-400 ${v===I?"bg-indigo-600 text-white border-indigo-600 shadow":"bg-white text-gray-700 border-gray-200 hover:bg-indigo-50 hover:border-indigo-400"}`,onClick:()=>T(I),children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]}),a.jsxs(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:[t?a.jsx("div",{className:"space-y-4 p-6",children:[...Array(6)].map((I,te)=>a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1+te*.07,duration:.4},className:"h-12 w-full rounded-lg relative overflow-hidden bg-gray-100",style:{position:"relative"},children:a.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%)",backgroundSize:"400px 100%",animation:"shimmer 1.2s infinite"}})},te))}):O.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[a.jsx(jc,{className:"w-16 h-16 text-indigo-200 mb-4"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-500 mb-2",children:"No payments found"}),a.jsx("div",{className:"text-gray-400 mb-6",children:"Add your first payment to get started."}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base",onClick:()=>u(!0),children:[a.jsx(Lm,{className:"w-5 h-5"})," New Payment"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ce.table,{className:"w-full text-base bg-white rounded-2xl shadow-xl",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-4 px-4 font-semibold tracking-wide",children:"Date"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Amount"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Status"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Method"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Actions"})]})}),a.jsx("tbody",{children:a.jsx(wn,{children:O.map((I,te)=>a.jsxs(ce.tr,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{delay:.05*te,duration:.4},className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors group",children:[a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:R(I.date)}),a.jsxs("td",{className:"py-4 px-4 font-medium text-gray-900 whitespace-nowrap",children:["$",I.amount.toFixed(2)]}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${L(I.status)} shadow-sm`,children:I.status})}),a.jsx("td",{className:"py-4 px-4 text-gray-700 whitespace-nowrap",children:I.type}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 rounded hover:bg-indigo-100 focus:bg-indigo-200 transition shadow-sm",title:"View",onClick:()=>l(I),children:a.jsx(Pi,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("button",{className:"p-2 rounded hover:bg-red-100 focus:bg-red-200 transition shadow-sm",title:"Delete",onClick:()=>{r(_e=>_e.filter(Ie=>Ie.id!==I.id)),Pt.success("Payment deleted!")},children:a.jsx(wi,{className:"w-5 h-5 text-red-500"})})]})})]},I.id))})})]})}),!t&&P>1&&a.jsxs(ce.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},className:"flex justify-center items-center gap-2 mt-8",children:[a.jsx("button",{className:"px-3 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 focus:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition",disabled:S===1,onClick:()=>_(I=>Math.max(1,I-1)),children:"Previous"}),a.jsxs("span",{className:"text-base text-gray-500",children:["Page ",S," of ",P]}),a.jsx("button",{className:"px-3 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 focus:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition",disabled:S===P,onClick:()=>_(I=>Math.min(P,I+1)),children:"Next"})]})]}),a.jsxs(wn,{children:[o&&a.jsxs(ce.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full sm:w-[400px] bg-white shadow-2xl z-50 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("div",{className:"font-bold text-lg text-gray-900",children:"Payment Details"}),a.jsx("button",{onClick:()=>l(null),className:"p-2 rounded hover:bg-gray-100",children:a.jsx(En,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Client"}),a.jsx("div",{className:"font-semibold text-gray-900",children:o.client})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Amount"}),a.jsx("div",{className:"text-gray-700",children:D(o.amount)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Type"}),a.jsxs("div",{className:"flex items-center gap-1",children:[j(o.type),a.jsx("span",{className:"text-gray-700",children:o.type})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-1",children:[E(o.status),a.jsx("span",{className:"text-gray-700",children:o.status})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Date"}),a.jsx("div",{className:"text-gray-500",children:R(o.date)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Reference"}),a.jsx("div",{className:"text-gray-500",children:o.reference})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Notes"}),a.jsx("div",{className:"text-gray-700",children:o.notes})]})]})]}),c&&a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8 relative",children:[a.jsx("button",{onClick:()=>{u(!1),w(null),h({...vp})},className:"absolute top-4 right-4 p-2 rounded hover:bg-gray-100",children:a.jsx(En,{className:"w-5 h-5 text-gray-500"})}),a.jsx("div",{className:"font-bold text-lg text-gray-900 mb-4",children:x!==null?"Edit Payment":"Record Payment"}),a.jsxs("form",{className:"space-y-4",onSubmit:N,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Client *"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 text-sm",value:d.client,onChange:I=>h(te=>({...te,client:I.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Amount *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full border rounded px-3 py-2 text-sm",value:d.amount,onChange:I=>h(te=>({...te,amount:parseFloat(I.target.value)})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Type"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:d.type,onChange:I=>h(te=>({...te,type:I.target.value})),children:[a.jsx("option",{value:"Credit Card",children:"Credit Card"}),a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Status"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:d.status,onChange:I=>h(te=>({...te,status:I.target.value})),children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Failed",children:"Failed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date *"}),a.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:d.date,onChange:I=>h(te=>({...te,date:I.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Notes"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm",value:d.notes,onChange:I=>h(te=>({...te,notes:I.target.value}))})]}),p&&a.jsx("div",{className:"text-xs text-red-500",children:p}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition",onClick:()=>{u(!1),w(null),h({...vp})},children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition",children:x!==null?"Save Changes":"Record Payment"})]})]})]})})]})]},"payments-page")})}const _a=class _a{constructor(){xt(this,"notificationPermission","default");this.initialize()}static getInstance(){return _a.instance||(_a.instance=new _a),_a.instance}async initialize(){"Notification"in window&&(this.notificationPermission=await Notification.requestPermission())}async requestPermission(){"Notification"in window&&(this.notificationPermission=await Notification.requestPermission())}showTaskNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("New Task Assigned",{body:`You have been assigned to: ${e.title}`,icon:"/logo.png"}),He.success(`New task assigned: ${e.title}`)}showTaskDueNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("Task Due Soon",{body:`Task "${e.title}" is due soon`,icon:"/logo.png"}),He(`Task due soon: ${e.title}`,{icon:"⚠️"})}showTaskCompletedNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("Task Completed",{body:`Task "${e.title}" has been completed`,icon:"/logo.png"}),He.success(`Task completed: ${e.title}`)}showTaskBlockedNotification(e){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("Task Blocked",{body:`Task "${e.title}" is blocked by dependencies`,icon:"/logo.png"}),He.error(`Task blocked: ${e.title}`)}showTaskCommentNotification(e,n){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("New Task Comment",{body:`${n} commented on task "${e.title}"`,icon:"/logo.png"}),He(`New comment on task: ${e.title}`,{icon:"💬"})}showFileUploadNotification(e,n){this.notificationPermission==="granted"&&"Notification"in window&&new Notification("File Uploaded",{body:`File "${e}" (${n}) has been uploaded successfully`,icon:"/logo.png"}),He.success(`File "${e}" uploaded successfully`)}};xt(_a,"instance");let Bw=_a;const cie=Bw.getInstance(),Ku=10;function uie(){const[t,e]=y.useState(!0),[n,r]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,h]=y.useState({id:"",name:"",type:"PDF",category:"",client:"",uploaded:"",size:"",status:"Pending",notes:"",url:""}),[p,m]=y.useState(""),[x,w]=y.useState(null),[S,_]=y.useState([]),[v,T]=y.useState(1),[k,P]=y.useState(!1),[O,N]=y.useState(""),[E,j]=y.useState(""),R=y.useRef(null);y.useEffect(()=>{(async()=>{e(!0);const $=await nn(lt(Le,"documents"));r($.docs.map(Z=>({id:Z.id,...Z.data()}))),e(!1)})()},[]);const D=n.filter(G=>G.name.toLowerCase().includes(s.toLowerCase())||G.client.toLowerCase().includes(s.toLowerCase())||G.category.toLowerCase().includes(s.toLowerCase())),L=Math.ceil(D.length/Ku),I=D.slice((v-1)*Ku,v*Ku),te=async G=>{if(!G)return;const $=Array.from(G).map(Z=>{var Ln;const We=`${(Z.size/1048576).toFixed(1)} MB`,ut={id:Math.random().toString(36).substr(2,9),name:Z.name,type:Z.type.includes("pdf")?"PDF":Z.type.includes("image")?"JPG":((Ln=Z.type.split("/")[1])==null?void 0:Ln.toUpperCase())||"FILE",category:E||"Uncategorized",client:O||"Unassigned",uploaded:"just now",size:We,status:"Pending",notes:"",url:URL.createObjectURL(Z),file:Z};return cie.showFileUploadNotification(Z.name,We),ut});r(Z=>[...$,...Z]),N(""),j("")},_e=G=>{G.preventDefault(),G.stopPropagation(),G.type==="dragenter"||G.type==="dragover"?P(!0):G.type==="dragleave"&&P(!1)},Ie=G=>{G.preventDefault(),G.stopPropagation(),P(!1),G.dataTransfer.files&&G.dataTransfer.files.length>0&&te(G.dataTransfer.files)};async function Ce(G){if(G.preventDefault(),!d.name.trim()||!d.client.trim()||!d.category.trim()){m("Name, Client, and Category are required."),Pt.error("Name, Client, and Category are required.");return}if(x!==null&&o)await ou(hr(Le,"documents",o.id),d),r($=>$.map(Z=>Z.id===o.id?{...d,id:o.id}:Z)),Pt.success("Document updated!");else{const $=await lf(lt(Le,"documents"),d);r(Z=>[{...d,id:$.id},...Z]),Pt.success("Document added!")}u(!1),h({id:"",name:"",type:"PDF",category:"",client:"",uploaded:"",size:"",status:"Pending",notes:"",url:""}),m(""),w(null),l(null)}function K(G,$){h(G),w($),l(G),u(!0)}function oe(G,$){_(Z=>$?[...Z,G]:Z.filter(We=>We!==G))}function pe(G){_(G?I.map($=>$.id):S.filter($=>!I.map(Z=>Z.id).includes($)))}function Me(G){switch(G){case"PDF":return a.jsx(Ts,{className:"w-4 h-4 text-red-500"});case"DOCX":return a.jsx(tW,{className:"w-4 h-4 text-blue-500"});case"JPG":case"PNG":return a.jsx(JH,{className:"w-4 h-4 text-green-500"});case"ZIP":case"RAR":return a.jsx(XH,{className:"w-4 h-4 text-yellow-500"});default:return a.jsx(mO,{className:"w-4 h-4 text-gray-500"})}}async function Ve(G){await Ay(hr(Le,"documents",G)),r($=>$.filter(Z=>Z.id!==G)),Pt.success("Document deleted!")}return a.jsx(wn,{mode:"wait",children:a.jsxs(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsxs(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Documents"})}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base w-full sm:w-auto",onClick:()=>u(!0),children:[a.jsx(Lm,{className:"w-5 h-5"})," Upload Document"]})]}),a.jsx(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-2",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx("input",{className:"w-full pl-10 pr-3 py-2 rounded-lg border border-gray-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none text-base bg-white shadow-sm placeholder-gray-400",placeholder:"Search documents...",value:s,onChange:G=>i(G.target.value)}),a.jsx(Zh,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]})}),a.jsx(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-xl shadow-sm overflow-hidden",children:t?a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((G,$)=>a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},$))})}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto w-24 h-24 text-gray-300",children:a.jsx(eW,{className:"w-full h-full"})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No documents"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Get started by uploading your first document."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx(Lm,{className:"w-5 h-5 mr-2"}),"Upload Document"]})})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsx("input",{type:"checkbox",checked:S.length===I.length,onChange:G=>pe(G.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map((G,$)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:S.includes(G.id),onChange:Z=>oe(G.id,Z.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:Me(G.type)}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),a.jsx("div",{className:"text-sm text-gray-500",children:G.size})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.category}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.client}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="Processed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:G.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>window.open(G.url,"_blank"),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Pi,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>K(G,$),className:"text-blue-600 hover:text-blue-900",children:a.jsx(Xh,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>Ve(G.id),className:"text-red-600 hover:text-red-900",children:a.jsx(wi,{className:"w-5 h-5"})})]})})]},G.id))})]})})}),n.length>0&&a.jsxs(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>T(G=>Math.max(1,G-1)),disabled:v===1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Previous"}),a.jsx("button",{onClick:()=>T(G=>Math.min(L,G+1)),disabled:v===L,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:(v-1)*Ku+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(v*Ku,D.length)})," of"," ",a.jsx("span",{className:"font-medium",children:D.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs("button",{onClick:()=>T(G=>Math.max(1,G-1)),disabled:v===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})]}),[...Array(L)].map((G,$)=>a.jsx("button",{onClick:()=>T($+1),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${v===$+1?"z-10 bg-indigo-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"}`,children:$+1},$)),a.jsxs("button",{onClick:()=>T(G=>Math.min(L,G+1)),disabled:v===L,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})]})]})})]})]}),c&&a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",children:a.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:a.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[a.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:a.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:()=>u(!1),children:[a.jsx("span",{className:"sr-only",children:"Close"}),a.jsx(En,{className:"h-6 w-6"})]})}),a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:x!==null?"Edit Document":"Upload Document"}),a.jsx("div",{className:"mt-4",children:a.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",id:"name",value:d.name,onChange:G=>h({...d,name:G.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700",children:"Client"}),a.jsx("input",{type:"text",id:"client",value:d.client,onChange:G=>h({...d,client:G.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),a.jsx("input",{type:"text",id:"category",value:d.category,onChange:G=>h({...d,category:G.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),a.jsx("textarea",{id:"notes",value:d.notes,onChange:G=>h({...d,notes:G.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:p}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 sm:ml-3 sm:w-auto",children:x!==null?"Update":"Upload"}),a.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>u(!1),children:"Cancel"})]})]})})]})})]})})})}),a.jsxs(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:`mt-4 border-2 border-dashed rounded-lg p-8 text-center ${k?"border-indigo-500 bg-indigo-50":"border-gray-300"}`,onDragEnter:_e,onDragLeave:_e,onDragOver:_e,onDrop:Ie,children:[a.jsx("input",{ref:R,type:"file",multiple:!0,className:"hidden",onChange:G=>te(G.target.files)}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(gW,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{var G;return(G=R.current)==null?void 0:G.click()},children:"Upload a file"})," ","or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOCX, JPG, PNG up to 10MB"})]})]})]},"documents-page")})}function die(){const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState({name:"",type:"Dispute",content:"",fields:[]}),[d,h]=y.useState(!1),[p,m]=y.useState({}),[x,w]=y.useState(null);function S(N){const E=N.match(/\[([^\]]+)\]/g)||[];return Array.from(new Set(E.map(j=>j.replace(/\[|\]/g,""))))}function _(N){N.preventDefault();const E=S(c.content);e(o!==null?j=>j.map((R,D)=>D===o?{...c,fields:E,id:R.id,created:R.created}:R):[{...c,fields:E,id:Math.random().toString(36).substr(2,9),created:new Date().toISOString().split("T")[0]},...t]),i(!1),u({name:"",type:"Dispute",content:"",fields:[]}),l(null)}function v(N,E){u({...N}),l(E),i(!0)}function T(N){e(E=>E.filter((j,R)=>R!==N))}function k(N){w(N);const E={};N.fields.forEach(j=>{E[j]=j+" Example"}),m(E),h(!0)}function P(N,E){let j=N;return Object.entries(E).forEach(([R,D])=>{j=j.replace(new RegExp(`\\[${R.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]`,"g"),D)}),j}function O(N,E){r(j=>[{id:Math.random().toString(36).substr(2,9),templateName:N.name,generatedFor:E["Client Name"]||"Unknown",date:new Date().toISOString().split("T")[0],preview:P(N.content,E).slice(0,60)+"..."},...j])}return a.jsx(wn,{mode:"wait",children:a.jsxs(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsxs(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Letter Templates"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"Create, manage, and use templates for dispute and goodwill letters"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base w-full sm:w-auto",onClick:()=>{i(!0),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},children:[a.jsx(ph,{className:"w-5 h-5"})," New Template"]})]}),a.jsx(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:t.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[a.jsx(Ts,{className:"w-16 h-16 text-indigo-200 mb-4"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-500 mb-2",children:"No templates found"}),a.jsx("div",{className:"text-gray-400 mb-6",children:"Create your first template to get started."}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base",onClick:()=>{i(!0),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},children:[a.jsx(ph,{className:"w-5 h-5"})," New Template"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ce.table,{className:"w-full text-base bg-white rounded-2xl shadow-xl",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-4 px-4 font-semibold tracking-wide",children:"Name"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Type"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Fields"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Created"}),a.jsx("th",{className:"text-left font-semibold py-4 px-4 tracking-wide",children:"Actions"})]})}),a.jsx("tbody",{children:a.jsx(wn,{children:t.map((N,E)=>a.jsxs(ce.tr,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{delay:.05*E,duration:.4},className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors group",children:[a.jsx("td",{className:"py-4 px-4 font-medium text-gray-900 whitespace-nowrap",children:N.name}),a.jsx("td",{className:"py-4 px-4 text-gray-700 whitespace-nowrap",children:N.type}),a.jsx("td",{className:"py-4 px-4 text-gray-700 whitespace-nowrap",children:N.fields.length}),a.jsx("td",{className:"py-4 px-4 text-gray-500 whitespace-nowrap",children:N.created}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 rounded hover:bg-indigo-100 focus:bg-indigo-200 transition shadow-sm",title:"Preview",onClick:()=>k(N),children:a.jsx(Pi,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("button",{className:"p-2 rounded hover:bg-indigo-100 focus:bg-indigo-200 transition shadow-sm",title:"Edit",onClick:()=>v(N,E),children:a.jsx(Xh,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("button",{className:"p-2 rounded hover:bg-red-100 focus:bg-red-200 transition shadow-sm",title:"Delete",onClick:()=>T(E),children:a.jsx(wi,{className:"w-5 h-5 text-red-500"})})]})})]},N.id))})})]})})}),a.jsx(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Letter History"}),n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx(iW,{className:"w-12 h-12 text-indigo-200 mb-2"}),a.jsx("div",{className:"text-lg font-semibold text-gray-500 mb-2",children:"No letter history yet"}),a.jsx("div",{className:"text-gray-400",children:"Generated letters will appear here."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-base",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Template"}),a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Client"}),a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Date"}),a.jsx("th",{className:"py-3 px-4 font-semibold tracking-wide",children:"Preview"})]})}),a.jsx("tbody",{children:n.map(N=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 text-gray-900 whitespace-nowrap",children:N.templateName}),a.jsx("td",{className:"py-3 px-4 text-gray-700 whitespace-nowrap",children:N.generatedFor}),a.jsx("td",{className:"py-3 px-4 text-gray-500 whitespace-nowrap",children:N.date}),a.jsx("td",{className:"py-3 px-4 text-gray-500 whitespace-pre-line max-w-xs truncate",children:N.preview})]},N.id))})]})})]})}),a.jsx(wn,{children:s&&a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl p-8 relative",children:[a.jsx("button",{onClick:()=>{i(!1),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},className:"absolute top-4 right-4 p-2 rounded hover:bg-gray-100",children:a.jsx(En,{className:"w-5 h-5 text-gray-500"})}),a.jsx("div",{className:"font-bold text-lg text-gray-900 mb-4",children:o!==null?"Edit Template":"New Template"}),a.jsxs("form",{className:"space-y-6",onSubmit:_,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name *"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 text-sm",value:c.name,onChange:N=>u(E=>({...E,name:N.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm",value:c.type,onChange:N=>u(E=>({...E,type:N.target.value})),children:[a.jsx("option",{value:"Dispute",children:"Dispute"}),a.jsx("option",{value:"Goodwill",children:"Goodwill"}),a.jsx("option",{value:"Validation",children:"Validation"}),a.jsx("option",{value:"Identity Theft",children:"Identity Theft"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Content *"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm font-mono min-h-[120px]",value:c.content,onChange:N=>u(E=>({...E,content:N.target.value})),placeholder:`e.g. To Whom It May Concern,

I am writing to dispute...`,required:!0}),a.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Use [Field Name] for customizable fields (e.g., [Client Name], [Account Number])."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-white border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 transition-colors",onClick:()=>{i(!1),l(null),u({name:"",type:"Dispute",content:"",fields:[]})},children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition-colors",children:o!==null?"Save Changes":"Create Template"})]})]})]})})}),a.jsx(wn,{children:d&&x&&a.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl p-8 relative",children:[a.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 p-2 rounded hover:bg-gray-100",children:a.jsx(En,{className:"w-5 h-5 text-gray-500"})}),a.jsx("div",{className:"font-bold text-lg text-gray-900 mb-4",children:"Letter Preview"}),a.jsx("div",{className:"mb-4",children:x.fields.map(N=>a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-xs font-semibold mb-1",children:N}),a.jsx("input",{className:"w-full border rounded px-2 py-1 text-sm",value:p[N]||"",onChange:E=>m(j=>({...j,[N]:E.target.value}))})]},N))}),a.jsx("div",{className:"bg-gray-50 border rounded p-4 font-mono whitespace-pre-wrap text-sm text-gray-800 mb-4 min-h-[120px]",children:P(x.content,p)}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition-colors",onClick:()=>{O(x,p),h(!1)},children:"Save to History"}),a.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition-colors",onClick:()=>h(!1),children:"Close"})]})]})})})]},"letter-templates-page")})}function hie(){return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Marketing page is under construction."})})}function fie(){return a.jsx(wn,{mode:"wait",children:a.jsxs(ce.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{duration:.5,type:"spring",stiffness:80,damping:20},className:"space-y-8 p-4 sm:p-8 bg-gray-50 min-h-screen",children:[a.jsx(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight",children:"Credit Tools"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"Access calculators, simulators, and resources to help clients improve credit"})]})}),a.jsx(ce.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"bg-white rounded-2xl shadow-xl p-0.5",children:a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 shadow-sm border border-indigo-100",children:[a.jsx("h2",{className:"text-lg font-bold text-indigo-900 mb-2",children:"Credit Score Simulator"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Estimate how actions like paying down debt or removing negative items could impact a credit score."}),a.jsx("button",{className:"px-4 py-2 rounded bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition",children:"Try Simulator"})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-6 shadow-sm border border-green-100",children:[a.jsx("h2",{className:"text-lg font-bold text-green-900 mb-2",children:"Debt-to-Income Calculator"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Quickly calculate a client's debt-to-income ratio to assess creditworthiness."}),a.jsx("button",{className:"px-4 py-2 rounded bg-green-600 text-white font-semibold shadow hover:bg-green-700 focus:ring-2 focus:ring-green-400 focus:outline-none transition",children:"Use Calculator"})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-6 shadow-sm border border-yellow-100",children:[a.jsx("h2",{className:"text-lg font-bold text-yellow-900 mb-2",children:"Resource Library"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Access educational guides, sample letters, and credit improvement resources."}),a.jsx("button",{className:"px-4 py-2 rounded bg-yellow-500 text-white font-semibold shadow hover:bg-yellow-600 focus:ring-2 focus:ring-yellow-300 focus:outline-none transition",children:"Browse Resources"})]})]})})]},"credit-tools-page")})}const pie=[{id:"profile",label:"Profile",icon:a.jsx(Ro,{className:"w-5 h-5"})},{id:"notifications",label:"Notifications",icon:a.jsx(zH,{className:"w-5 h-5"})},{id:"security",label:"Security",icon:a.jsx(V1,{className:"w-5 h-5"})},{id:"billing",label:"Billing",icon:a.jsx(jc,{className:"w-5 h-5"})},{id:"preferences",label:"Preferences",icon:a.jsx(sW,{className:"w-5 h-5"})},{id:"privacy",label:"Privacy",icon:a.jsx(ll,{className:"w-5 h-5"})},{id:"help",label:"Help & Support",icon:a.jsx(M1,{className:"w-5 h-5"})}],mie=[{id:"basic",name:"Basic",price:29,description:"Perfect for individuals and small businesses",features:["Up to 50 clients","Basic dispute management","Email support","Standard templates","Basic analytics"],limitations:["No priority support","No custom branding","Limited API access"],popular:!1},{id:"pro",name:"Pro",price:49,description:"Ideal for growing businesses",features:["Up to 200 clients","Advanced dispute management","Priority email support","Custom templates","Advanced analytics","API access","Custom branding"],limitations:["No dedicated account manager","Limited automation"],popular:!0},{id:"enterprise",name:"Enterprise",price:99,description:"For large organizations with advanced needs",features:["Unlimited clients","Enterprise dispute management","24/7 priority support","Custom templates & workflows","Advanced analytics & reporting","Full API access","Custom branding & white-labeling","Dedicated account manager","Advanced automation","Custom integrations"],limitations:[],popular:!1}];function gie({isOpen:t,onClose:e,currentPlan:n}){return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choose Your Plan"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(En,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Select the plan that best fits your needs"})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:mie.map(r=>a.jsxs("div",{className:`relative rounded-xl border ${r.popular?"border-indigo-500 shadow-lg":"border-gray-200"} p-6 flex flex-col`,children:[r.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-indigo-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",r.price]}),a.jsx("span",{className:"text-gray-500",children:"/month"})]}),a.jsx("p",{className:"text-gray-500 mt-2",children:r.description}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Features"}),a.jsx("ul",{className:"space-y-2",children:r.features.map((s,i)=>a.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(hh,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{children:s})]},i))})]}),r.limitations.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Limitations"}),a.jsx("ul",{className:"space-y-2",children:r.limitations.map((s,i)=>a.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(En,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{children:s})]},i))})]})]})]}),a.jsx("button",{className:`mt-6 w-full py-2 px-4 rounded-lg font-medium transition-colors ${n===r.id?"bg-gray-100 text-gray-500 cursor-not-allowed":r.popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,disabled:n===r.id,children:n===r.id?"Current Plan":"Select Plan"})]},r.id))})})]})}):null}function yie({userData:t}){if(!t)return a.jsx("div",{children:"Loading..."});const[e,n]=y.useState("profile"),[r,s]=y.useState(!1),[i]=y.useState("pro"),o=Os(),l=["admin","manager","user"],[c,u]=y.useState(t.id||""),[d,h]=y.useState(t.firstName||""),[p,m]=y.useState(t.lastName||""),[x,w]=y.useState(t.email||""),[S,_]=y.useState(!1),v=async()=>{_(!0);try{const T=hr(Le,"users",t.id||t.uid);await ou(T,{firstName:d,lastName:p,email:x}),Pt.success("Profile updated!")}catch(T){Pt.error("Failed to update profile: "+T.message)}finally{_(!1)}};return a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 p-6 max-w-[1400px] mx-auto",children:[a.jsxs("div",{className:"w-full md:w-72 bg-white rounded-xl shadow-sm border border-gray-100 p-4 flex flex-col justify-between min-h-[600px]",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 mb-6",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-3xl font-bold",children:d?d[0]:x[0]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[d," ",p]}),a.jsx("div",{className:"text-sm text-gray-500",children:x}),a.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 rounded-full text-xs bg-blue-50 text-blue-700 font-medium",children:[t.plan," Plan"]})]})]}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Settings"}),a.jsx("nav",{className:"space-y-1",children:pie.map(T=>a.jsxs("button",{onClick:()=>n(T.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 ${e===T.id?"bg-gradient-to-r from-blue-500/10 to-blue-500/5 text-blue-700 font-semibold shadow":"text-gray-600 hover:bg-blue-50/50 hover:text-blue-600"}`,children:[a.jsx("span",{className:`${e===T.id?"text-blue-600":"text-gray-500"}`,children:T.icon}),a.jsx("span",{children:T.label})]},T.id))})]}),a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 mt-8 text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:()=>{o("/")},children:[a.jsx(gO,{size:20}),"Log Out"]})]}),a.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[600px]",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Account Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your profile, preferences, security, and more"})]}),a.jsxs("div",{children:[e==="profile"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-3xl font-bold",children:d?d[0]:x[0]}),a.jsx("button",{type:"button",className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Change Avatar"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),a.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",value:d,onChange:T=>h(T.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),a.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",value:p,onChange:T=>m(T.target.value)})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm",value:x,onChange:T=>w(T.target.value)})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",onClick:v,disabled:S,children:S?"Saving...":"Save Changes"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}),t.role==="admin"&&a.jsx("div",{className:"mt-10 mb-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 flex flex-col gap-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-2 text-indigo-700 flex items-center gap-2",children:[a.jsx(YH,{className:"w-6 h-6 text-indigo-400"}),"Change User Role"]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),a.jsx("select",{value:c,onChange:T=>u(T.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-base bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:l.map(T=>a.jsx("option",{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsx("select",{value:t.role,onChange:()=>{},className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-base bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:l.map(T=>a.jsx("option",{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"h-12 w-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-xl font-bold",children:[d," ",p]}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[d," ",p]}),a.jsx("div",{className:"text-sm text-gray-500",children:x})]})]}),a.jsx("button",{className:"mt-4 w-full sm:w-auto px-6 py-2 rounded-lg bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition text-base",onClick:()=>Pt.success("User role updated!"),children:"Save Changes"})]}),a.jsx("span",{className:"text-xs text-gray-400",children:"Admins can change roles for any user in the organization."})]})})]}),e==="notifications"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notifications"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(fh,{size:18})," Email Notifications"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary",defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(uW,{size:18})," SMS Notifications"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(hW,{size:18})," Push Notifications"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary"})]})]})]}),e==="security"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsx("input",{type:"password",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Change Password"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),e==="billing"&&a.jsxs("div",{className:"max-w-2xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing & Plans"}),a.jsx("button",{onClick:()=>s(!0),className:"mb-6 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Change Plan"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100 mb-4",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Current Plan"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-blue-50 text-blue-700 font-medium",children:t.plan}),a.jsx("span",{className:"text-gray-500",children:"$49/mo"})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jc,{size:20,className:"text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:"Visa ending in 1234"}),a.jsx("button",{className:"ml-auto px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Update"})]})]})]}),e==="preferences"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preferences"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(pW,{size:18})," Theme"]}),a.jsxs("select",{className:"rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{children:"System"}),a.jsx("option",{children:"Light"}),a.jsx("option",{children:"Dark"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ZH,{size:18})," Language"]}),a.jsxs("select",{className:"rounded-lg border border-gray-200 px-3 py-2 text-sm",children:[a.jsx("option",{children:"English"}),a.jsx("option",{children:"Spanish"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(FH,{size:18})," Accessibility"]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary"})]})]})]}),e==="privacy"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Privacy & Data"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(pO,{size:18})," Export Data"]}),a.jsx("button",{className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Export"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(wi,{size:18})," Delete Account"]}),a.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})]}),e==="help"&&a.jsxs("div",{className:"max-w-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Help & Support"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(M1,{size:18}),a.jsx("span",{children:"Need help? Contact our support team or browse the FAQ."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fh,{size:18}),a.jsx("span",{children:"support@credexispro.com"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vO,{size:18}),a.jsx("span",{children:"Secure & Private"})]})]})]})]})]}),a.jsx(wn,{children:r&&a.jsx(gie,{isOpen:r,onClose:()=>s(!1),currentPlan:i})})]})}function xie(){const[t]=y.useState([]),[e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState(""),o=e.filter(l=>{const c=t.find(p=>p.id===String(l.clientId)),u=c?`${c.firstName} ${c.lastName}`:"",d=l.invoiceNumber.toLowerCase().includes(n.toLowerCase())||u.toLowerCase().includes(n.toLowerCase()),h=!s||l.status===s;return d&&h});return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-8 gap-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),a.jsx("button",{className:"px-6 py-2 rounded-full bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 transition text-base",children:"New Invoice"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-6",children:[a.jsx("input",{className:"w-full max-w-xs px-4 py-2 rounded-lg border border-gray-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none text-sm bg-white",placeholder:"Search invoices or clients...",value:n,onChange:l=>r(l.target.value)}),a.jsxs("select",{className:"rounded-lg border border-gray-200 px-4 py-2 text-sm",value:s,onChange:l=>i(l.target.value),children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Sent",children:"Sent"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-x-auto",children:e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No invoices"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Get started by creating your first invoice."}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Invoice"})})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-400 text-xs bg-gray-50",children:[a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Invoice #"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Client"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Status"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Total"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Due Date"}),a.jsx("th",{className:"py-3 px-4 text-left font-normal",children:"Actions"})]})}),a.jsx("tbody",{children:o.map(l=>{const c=t.find(u=>u.id===String(l.clientId));return a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-indigo-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:l.invoiceNumber}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:c?`${c.firstName} ${c.lastName}`:""}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${l.status==="Paid"?"bg-green-100 text-green-800":l.status==="Overdue"?"bg-red-100 text-red-800":l.status==="Sent"?"bg-blue-100 text-blue-800":(l.status==="Draft","bg-gray-100 text-gray-800")}`,children:l.status})}),a.jsxs("td",{className:"py-3 px-4 text-gray-700",children:["$",l.total.toFixed(2)]}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:new Date(l.dueDate).toLocaleDateString()}),a.jsxs("td",{className:"py-3 px-4 flex gap-2",children:[a.jsx("button",{className:"text-indigo-500 hover:text-indigo-700",title:"View",children:"View"}),a.jsx("button",{className:"text-blue-500 hover:text-blue-700",title:"Edit",children:"Edit"}),a.jsx("button",{className:"text-red-500 hover:text-red-700",title:"Delete",children:"Delete"})]})]},l.id)})})]})})]})}const vie=()=>a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Reports page is under construction."})}),c5=y.createContext(void 0);function wie({children:t}){const[e,n]=y.useState([]),r=o=>{n(l=>[...l,{...o,sentAt:new Date().toISOString(),status:"pending"}])},s=o=>{n(l=>l.filter(c=>c.token!==o))},i=o=>e.find(l=>l.token===o);return a.jsx(c5.Provider,{value:{invites:e,addInvite:r,removeInvite:s,getInviteByToken:i},children:t})}function bie(){const t=y.useContext(c5);if(!t)throw new Error("useInvites must be used within InviteProvider");return t}const $j=["admin","manager","user"],Uj=["basic","pro","enterprise"],_ie=["active","suspended"],Bj=["viewUsers","editUsers","deleteUsers","manageOrgs","viewBilling","manageInvites","viewAudit","manageRoles"],Eie={viewUsers:"View Users",editUsers:"Edit Users",deleteUsers:"Delete Users",manageOrgs:"Manage Organizations",viewBilling:"View Billing",manageInvites:"Manage Invites",viewAudit:"View Audit Logs",manageRoles:"Manage Roles"};function vx(t,e,n,r){const s=[r.join(","),...e.map(l=>n.map(c=>{let u=l[c];return typeof u=="string"&&(u=u.replace(/"/g,'""'),(u.includes(",")||u.includes('"')||u.includes(`
`))&&(u=`"${u}"`)),u}).join(","))].join(`
`),i=new Blob([s],{type:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function Nie(){const{invites:t,addInvite:e,removeInvite:n}=bie(),{setUser:r}=tE(),[s,i]=y.useState("users"),[o,l]=y.useState([]),[c,u]=y.useState(""),[d,h]=y.useState(""),[p,m]=y.useState(""),[x,w]=y.useState(null),[S,_]=y.useState(null),[v,T]=y.useState(null),[k,P]=y.useState(!1),[O,N]=y.useState(""),[E,j]=y.useState("user"),[R,D]=y.useState(""),[L,I]=y.useState("asc"),[te,_e]=y.useState(!1),[Ie,Ce]=y.useState(""),[K,oe]=y.useState(""),[pe,Me]=y.useState([]),[Ve,G]=y.useState([]),[$,Z]=y.useState(1),[We,ut]=y.useState(10),[Ln,Zn]=y.useState(1),[Mn,Je]=y.useState(10),[Ct,jt]=y.useState(""),[ln,Vs]=y.useState(""),[Fs,gl]=y.useState(""),[na,Oi]=y.useState(""),[M,F]=y.useState(""),[z,se]=y.useState(""),[J,Q]=y.useState(""),[ie,Te]=y.useState(""),[qe,qt]=y.useState(""),[$s,yr]=y.useState(""),[ss,Us]=y.useState(""),[Bs,Di]=y.useState(""),[ra,yl]=y.useState(""),[Li,ff]=y.useState(""),[uu,Mi]=y.useState(""),[xl,vl]=y.useState(""),[is,du]=y.useState(""),[sa,hu]=y.useState(""),[Vi,fu]=y.useState(""),[Qt,pf]=y.useState([]),[Fi,ia]=y.useState(""),[Pr,pu]=y.useState(null),[Xn,wl]=y.useState(!1),Rr=o.flatMap(C=>C.members.map(re=>({...re,org:C.name,organizationId:C.id}))).filter(C=>{const re=C.name.toLowerCase().includes(c.toLowerCase())||C.email.toLowerCase().includes(c.toLowerCase()),be=Ct?C.status===Ct:!0,nt=ln?C.role===ln:!0,la=Fs?C.plan===Fs:!0;return re&&be&&nt&&la}),zs=o.filter(C=>{const re=C.name.toLowerCase().includes(d.toLowerCase()),be=na?C.status===na:!0,nt=M?C.plan===M:!0;return re&&be&&nt}),bl=[],$i=[],os=[],mf=[],gf=[],mu=[],gu=[],yf=[],xf=[],zy=[],_l=[],vf=(C,re,be)=>[...C].sort((nt,la)=>be==="asc"?nt[re]>la[re]?1:-1:nt[re]<la[re]?1:-1),Vn=C=>{R===C?I(L==="asc"?"desc":"asc"):(D(C),I("asc"))},as=C=>R?vf(C,R,L):C,Hs=()=>{l(C=>C.map(re=>({...re,members:re.members.map(be=>be.id===x.id?{...be,...x}:be)}))),w(null),Jn("User updated successfully")},yu=()=>{l(C=>C.map(re=>re.id===S.id?{...re,...S}:re)),_(null),Jn("Organization updated successfully")},Hy=C=>{l(re=>re.map(be=>({...be,members:be.members.map(nt=>nt.id===C?{...nt,status:nt.status==="active"?"suspended":"active"}:nt)}))),Jn("User status updated successfully")},wf=C=>{l(re=>re.map(be=>be.id===C?{...be,status:be.status==="active"?"suspended":"active"}:be)),Jn("Organization status updated successfully")},bf=C=>{window.confirm("Are you sure you want to delete this user?")&&(l(re=>re.map(be=>({...be,members:be.members.filter(nt=>nt.id!==C)}))),Jn("User deleted successfully"))},_f=C=>{window.confirm("Are you sure you want to delete this organization?")&&(l(re=>re.filter(be=>be.id!==C)),Jn("Organization deleted successfully"))},Jn=C=>{Ce(C),_e(!0),setTimeout(()=>_e(!1),3e3)},xu=C=>{C.preventDefault();const re={email:O,role:E,token:Math.random().toString(36).substring(7),org:K,sentAt:new Date().toISOString(),status:"pending",acceptedAt:null,expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};e(re),P(!1),N(""),j("member"),Jn("Invite sent successfully")},Ef=C=>{Jn(`Invite resent to ${C.email}`)},Nf=C=>{window.confirm(`Are you sure you want to revoke the invite for ${C.email}?`)&&(n(C.token),Jn(`Invite revoked for ${C.email}`))},El=C=>new Date(C).toLocaleString(),Sf=t.filter(C=>C.email.toLowerCase().includes(p.toLowerCase())||C.role.toLowerCase().includes(p.toLowerCase())||C.org.toLowerCase().includes(p.toLowerCase())),vu=C=>{C==="users"?Me(re=>re.length===Rr.length?[]:Rr.map(be=>be.id)):G(re=>re.length===zs.length?[]:zs.map(be=>be.id))},wu=(C,re)=>{C==="users"?Me(be=>be.includes(re)?be.filter(nt=>nt!==re):[...be,re]):G(be=>be.includes(re)?be.filter(nt=>nt!==re):[...be,re])};function Tf(C,re,be){const nt=(re-1)*be;return C.slice(nt,nt+be)}const Ws=Tf(as(Rr),$,We),Or=Tf(as(zs),Ln,Mn),qs=Math.ceil(Rr.length/We),Ks=Math.ceil(zs.length/Mn),Cf=()=>{const C=["name","email","role","plan","status","org"],re=["Name","Email","Role","Plan","Status","Organization"];vx("users.csv",as(Rr),C,re)},ot=()=>{const C=["name","plan","status"],re=["Name","Plan","Status"];vx("organizations.csv",as(zs),C,re)},Nl=()=>{window.confirm("Are you sure you want to revoke this session?")},oa=()=>{vx("audit_trails.csv",$i,["timestamp","actor","eventType","resource","resourceId","ip","details"],["Timestamp","Actor","Event Type","Resource","Resource ID","IP Address","Details"])},aa=(C,re)=>{pf(be=>be.map(nt=>nt.role===C?{...nt,permissions:{...nt.permissions,[re]:!nt.permissions[re]}}:nt))},Wy=C=>{ia(C);const re=o.find(be=>be.id===C);pu(re?{...re}:null),wl(!1)},Ui=(C,re)=>{pu(be=>({...be,[C]:re}))},qy=()=>{l(C=>C.map(re=>re.id===Pr.id?{...re,...Pr}:re)),wl(!1)},Ky=()=>{const C=o.find(re=>re.id===Fi);pu(C?{...C}:null),wl(!1)},jf=[];return a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Panel"}),te&&a.jsx("div",{className:"fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded z-50",children:Ie}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsx("button",{className:`px-4 py-2 rounded ${s==="users"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("users"),children:"Users"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="orgs"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("orgs"),children:"Organizations"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="invites"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("invites"),children:"Invites"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="activity"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("activity"),children:"Activity Logs"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="sessions"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("sessions"),children:"Sessions"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="audit"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("audit"),children:"Audit Trails"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="roles"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("roles"),children:"Role Permissions"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="orgSettings"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("orgSettings"),children:"Organization Settings"}),a.jsx("button",{className:`px-4 py-2 rounded ${s==="apiKeys"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>i("apiKeys"),children:"API Keys"})]}),s==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2 gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{type:"text",placeholder:"Search users...",value:c,onChange:C=>u(C.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:Ct,onChange:C=>jt(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]}),a.jsxs("select",{value:ln,onChange:C=>Vs(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Roles"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]}),a.jsxs("select",{value:Fs,onChange:C=>gl(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Plans"}),a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),(Ct||ln||Fs)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{jt(""),Vs(""),gl("")},children:"Clear Filters"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>P(!0),className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm",children:"Invite User"}),a.jsx("button",{className:"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200",onClick:Cf,children:"Export CSV"})]})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:a.jsx("input",{type:"checkbox",checked:pe.length===Rr.length,onChange:()=>vu("users"),className:"rounded border-gray-300"})}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("name"),children:["Name ",R==="name"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("email"),children:["Email ",R==="email"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("org"),children:["Org ",R==="org"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("role"),children:["Role ",R==="role"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("plan"),children:["Plan ",R==="plan"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("status"),children:["Status ",R==="status"&&(L==="asc"?"↑":"↓")]}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:Ws.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"checkbox",checked:pe.includes(C.id),onChange:()=>wu("users",C.id),className:"rounded border-gray-300"})}),a.jsx("td",{className:"p-2",children:C.name}),a.jsx("td",{className:"p-2",children:C.email}),a.jsx("td",{className:"p-2",children:C.org}),a.jsx("td",{className:"p-2 capitalize",children:C.role}),a.jsx("td",{className:"p-2 capitalize",children:C.plan}),a.jsx("td",{className:"p-2 capitalize",children:C.status}),a.jsxs("td",{className:"p-2 flex gap-2",children:[a.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>w(C),children:"Edit"}),a.jsx("button",{className:"text-yellow-600 hover:underline",onClick:()=>r({id:C.id,email:C.email,name:C.name,role:C.role,organizationId:C.organizationId,plan:C.plan}),children:"Impersonate"}),a.jsx("button",{className:"text-gray-600 hover:underline",onClick:()=>Hy(C.id),children:C.status==="active"?"Suspend":"Activate"}),a.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>bf(C.id),children:"Delete"})]})]},C.id))})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm mr-2",children:"Rows per page:"}),a.jsx("select",{value:We,onChange:C=>{ut(Number(C.target.value)),Z(1)},className:"border rounded px-2 py-1 text-sm",children:[10,25,50].map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:$===1,onClick:()=>Z(C=>Math.max(1,C-1)),children:"Prev"}),Array.from({length:qs},(C,re)=>a.jsx("button",{className:`px-2 py-1 border rounded text-sm ${$===re+1?"bg-indigo-100 font-bold":""}`,onClick:()=>Z(re+1),children:re+1},re)),a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:$===qs||qs===0,onClick:()=>Z(C=>Math.min(qs,C+1)),children:"Next"})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit User"}),a.jsxs("form",{className:"space-y-4",onSubmit:C=>{C.preventDefault(),Hs()},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),a.jsx("input",{type:"text",value:x.name,className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),a.jsx("input",{type:"email",value:x.email,className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),a.jsx("select",{value:x.role,onChange:C=>w({...x,role:C.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:$j.map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Plan"}),a.jsx("select",{value:x.plan,onChange:C=>w({...x,plan:C.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:Uj.map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>w(null),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})})]}),s==="orgs"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-2 gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:C=>h(C.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:na,onChange:C=>Oi(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]}),a.jsxs("select",{value:M,onChange:C=>F(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Plans"}),a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),(na||M)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Oi(""),F("")},children:"Clear Filters"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{className:"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200",onClick:ot,children:"Export CSV"})})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:a.jsx("input",{type:"checkbox",checked:Ve.length===zs.length,onChange:()=>vu("orgs"),className:"rounded border-gray-300"})}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("name"),children:["Name ",R==="name"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("plan"),children:["Plan ",R==="plan"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("status"),children:["Status ",R==="status"&&(L==="asc"?"↑":"↓")]}),a.jsxs("th",{className:"p-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>Vn("members"),children:["Members ",R==="members"&&(L==="asc"?"↑":"↓")]}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:Or.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"checkbox",checked:Ve.includes(C.id),onChange:()=>wu("orgs",C.id),className:"rounded border-gray-300"})}),a.jsx("td",{className:"p-2",children:C.name}),a.jsx("td",{className:"p-2 capitalize",children:C.plan}),a.jsx("td",{className:"p-2 capitalize",children:C.status}),a.jsx("td",{className:"p-2",children:C.members.length}),a.jsxs("td",{className:"p-2 flex gap-2",children:[a.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>_(C),children:"Edit"}),a.jsx("button",{className:"text-indigo-600 hover:underline",onClick:()=>T(C.members),children:"View Members"}),a.jsx("button",{className:"text-gray-600 hover:underline",onClick:()=>wf(C.id),children:C.status==="active"?"Suspend":"Activate"}),a.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>_f(C.id),children:"Delete"})]})]},C.id))})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm mr-2",children:"Rows per page:"}),a.jsx("select",{value:Mn,onChange:C=>{Je(Number(C.target.value)),Zn(1)},className:"border rounded px-2 py-1 text-sm",children:[10,25,50].map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:Ln===1,onClick:()=>Zn(C=>Math.max(1,C-1)),children:"Prev"}),Array.from({length:Ks},(C,re)=>a.jsx("button",{className:`px-2 py-1 border rounded text-sm ${Ln===re+1?"bg-indigo-100 font-bold":""}`,onClick:()=>Zn(re+1),children:re+1},re)),a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:Ln===Ks||Ks===0,onClick:()=>Zn(C=>Math.min(Ks,C+1)),children:"Next"})]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit Organization"}),a.jsxs("form",{className:"space-y-4",onSubmit:C=>{C.preventDefault(),yu()},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),a.jsx("input",{type:"text",value:S.name,className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Plan"}),a.jsx("select",{value:S.plan,onChange:C=>_({...S,plan:C.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:Uj.map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),a.jsx("select",{value:S.status,onChange:C=>_({...S,status:C.target.value}),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:_ie.map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>_(null),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Organization Members"}),a.jsx("ul",{className:"space-y-2",children:v.map(C=>a.jsxs("li",{className:"flex items-center gap-2 border-b pb-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:C.name}),a.jsx("span",{className:"text-xs text-gray-500",children:C.email}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-indigo-50 text-indigo-700 ml-auto",children:C.role})]},C.id))}),a.jsx("button",{onClick:()=>T(null),className:"mt-4 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"})]})})]}),s==="invites"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("input",{type:"text",placeholder:"Search invites...",value:p,onChange:C=>m(C.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsx("button",{onClick:()=>P(!0),className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm",children:"New Invite"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pending Invites"}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Email"}),a.jsx("th",{className:"p-2 text-left",children:"Role"}),a.jsx("th",{className:"p-2 text-left",children:"Organization"}),a.jsx("th",{className:"p-2 text-left",children:"Sent At"}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:Sf.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:C.email}),a.jsx("td",{className:"p-2 capitalize",children:C.role}),a.jsx("td",{className:"p-2",children:C.org}),a.jsx("td",{className:"p-2",children:El(C.sentAt||new Date().toISOString())}),a.jsxs("td",{className:"p-2 flex gap-2",children:[a.jsx("button",{onClick:()=>Ef(C),className:"text-blue-600 hover:underline",children:"Resend"}),a.jsx("button",{onClick:()=>Nf(C),className:"text-red-600 hover:underline",children:"Revoke"}),a.jsx("a",{href:`${window.location.origin}/invite/${C.token}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"View Link"})]})]},C.token))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Invite History"}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Email"}),a.jsx("th",{className:"p-2 text-left",children:"Role"}),a.jsx("th",{className:"p-2 text-left",children:"Organization"}),a.jsx("th",{className:"p-2 text-left",children:"Status"}),a.jsx("th",{className:"p-2 text-left",children:"Sent At"}),a.jsx("th",{className:"p-2 text-left",children:"Accepted/Expired At"})]})}),a.jsx("tbody",{children:Sf.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:C.email}),a.jsx("td",{className:"p-2 capitalize",children:C.role}),a.jsx("td",{className:"p-2",children:C.org}),a.jsx("td",{className:"p-2",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${C.status==="accepted"?"bg-green-100 text-green-800":C.status==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:C.status})}),a.jsx("td",{className:"p-2",children:El(C.sentAt)}),a.jsx("td",{className:"p-2",children:C.acceptedAt?El(C.acceptedAt):C.expiresAt?El(C.expiresAt):"-"})]},C.id))})]})]})]}),s==="activity"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search activity logs...",value:z,onChange:C=>se(C.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:J,onChange:C=>Q(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Actions"}),os.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsxs("select",{value:ie,onChange:C=>Te(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Actors"}),mf.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsxs("select",{value:qe,onChange:C=>qt(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Targets"}),gf.map(C=>a.jsx("option",{value:C,children:C},C))]}),(J||ie||qe)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Q(""),Te(""),qt("")},children:"Clear Filters"})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Timestamp"}),a.jsx("th",{className:"p-2 text-left",children:"Actor"}),a.jsx("th",{className:"p-2 text-left",children:"Action"}),a.jsx("th",{className:"p-2 text-left",children:"Target"}),a.jsx("th",{className:"p-2 text-left",children:"Details"})]})}),a.jsx("tbody",{children:bl.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-400",children:"No activity found."})}):bl.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(C.timestamp).toLocaleString()}),a.jsx("td",{className:"p-2",children:C.actor}),a.jsx("td",{className:"p-2",children:C.action}),a.jsx("td",{className:"p-2",children:C.target}),a.jsx("td",{className:"p-2",children:C.details})]},C.id))})]})]}),s==="sessions"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search sessions...",value:$s,onChange:C=>yr(C.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:ss,onChange:C=>Us(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Users"}),mu.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsxs("select",{value:Bs,onChange:C=>Di(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Devices"}),gu.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsxs("select",{value:ra,onChange:C=>yl(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),yf.map(C=>a.jsx("option",{value:C,children:C.charAt(0).toUpperCase()+C.slice(1)},C))]}),(ss||Bs||ra)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Us(""),Di(""),yl("")},children:"Clear Filters"})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"User"}),a.jsx("th",{className:"p-2 text-left",children:"Device/Browser"}),a.jsx("th",{className:"p-2 text-left",children:"IP Address"}),a.jsx("th",{className:"p-2 text-left",children:"Login Time"}),a.jsx("th",{className:"p-2 text-left",children:"Last Active"}),a.jsx("th",{className:"p-2 text-left",children:"Status"}),a.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:jf.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-400",children:"No sessions found."})}):jf.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:C.user}),a.jsx("td",{className:"p-2",children:C.device}),a.jsx("td",{className:"p-2",children:C.ip}),a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(C.loginTime).toLocaleString()}),a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(C.lastActive).toLocaleString()}),a.jsx("td",{className:"p-2",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${C.status==="active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500"}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})}),a.jsx("td",{className:"p-2",children:C.status==="active"&&a.jsx("button",{className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200",onClick:()=>Nl(),children:"Revoke"})})]},C.id))})]})]}),s==="audit"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search audit trails...",value:Li,onChange:C=>ff(C.target.value),className:"px-3 py-2 rounded border border-gray-200 text-sm w-64"}),a.jsxs("select",{value:uu,onChange:C=>Mi(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Event Types"}),xf.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsxs("select",{value:xl,onChange:C=>vl(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Actors"}),zy.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsxs("select",{value:is,onChange:C=>du(C.target.value),className:"px-2 py-1 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Resources"}),_l.map(C=>a.jsx("option",{value:C,children:C},C))]}),a.jsx("input",{type:"date",value:sa,onChange:C=>hu(C.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"From"}),a.jsx("input",{type:"date",value:Vi,onChange:C=>fu(C.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"To"}),a.jsx("button",{className:"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200",onClick:oa,children:"Export CSV"}),(uu||xl||is||sa||Vi)&&a.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{Mi(""),vl(""),du(""),hu(""),fu("")},children:"Clear Filters"})]}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Timestamp"}),a.jsx("th",{className:"p-2 text-left",children:"Actor"}),a.jsx("th",{className:"p-2 text-left",children:"Event Type"}),a.jsx("th",{className:"p-2 text-left",children:"Resource"}),a.jsx("th",{className:"p-2 text-left",children:"Resource ID"}),a.jsx("th",{className:"p-2 text-left",children:"IP Address"}),a.jsx("th",{className:"p-2 text-left",children:"Details"})]})}),a.jsx("tbody",{children:$i.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-400",children:"No audit events found."})}):$i.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(C.timestamp).toLocaleString()}),a.jsx("td",{className:"p-2",children:C.actor}),a.jsx("td",{className:"p-2",children:C.eventType}),a.jsx("td",{className:"p-2",children:C.resource}),a.jsx("td",{className:"p-2",children:C.resourceId}),a.jsx("td",{className:"p-2",children:C.ip}),a.jsx("td",{className:"p-2",children:C.details})]},C.id))})]})]}),s==="roles"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-4",children:"Role Permissions"}),a.jsxs("table",{className:"w-full text-sm bg-white rounded shadow border",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"p-2 text-left",children:"Role"}),Bj.map(C=>a.jsx("th",{className:"p-2 text-center",children:Eie[C]},C))]})}),a.jsx("tbody",{children:Qt.map(C=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2 font-semibold",children:C.role}),Bj.map(re=>a.jsx("td",{className:"p-2 text-center",children:a.jsx("input",{type:"checkbox",checked:!!C.permissions[re],onChange:()=>aa(C.role,re),className:"form-checkbox h-4 w-4 text-indigo-600",disabled:C.role==="Admin"&&re==="viewUsers"})},re))]},C.role))})]})]}),s==="orgSettings"&&a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-1/4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Organizations"}),a.jsx("ul",{children:o.map(C=>a.jsx("li",{children:a.jsx("button",{className:`w-full text-left px-3 py-2 rounded mb-1 ${Fi===C.id?"bg-indigo-100 font-bold":"hover:bg-gray-100"}`,onClick:()=>Wy(C.id),children:C.name})},C.id))})]}),a.jsx("div",{className:"flex-1",children:Pr?a.jsxs("div",{className:"bg-white rounded shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Settings for ",Pr.name]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Organization Name"}),a.jsx("input",{type:"text",value:Pr.name,onChange:C=>Ui("name",C.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Xn})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Plan"}),a.jsxs("select",{value:Pr.plan,onChange:C=>Ui("plan",C.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Xn,children:[a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),a.jsxs("select",{value:Pr.status,onChange:C=>Ui("status",C.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Xn,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),a.jsx("input",{type:"email",value:Pr.contactEmail||"",onChange:C=>Ui("contactEmail",C.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Xn})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),a.jsx("input",{type:"text",value:Pr.address||"",onChange:C=>Ui("address",C.target.value),className:"px-3 py-2 border rounded w-full",disabled:!Xn})]})]}),a.jsx("div",{className:"mt-6 flex gap-2",children:Xn?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:qy,children:"Save"}),a.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",onClick:Ky,children:"Cancel"})]}):a.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",onClick:()=>wl(!0),children:"Edit"})})]}):a.jsx("div",{className:"text-gray-500 mt-8",children:"Select an organization to view settings."})})]}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Invite User"}),a.jsxs("form",{onSubmit:xu,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),a.jsx("input",{type:"email",required:!0,value:O,onChange:C=>N(C.target.value),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Organization"}),a.jsx("select",{value:K,onChange:C=>oe(C.target.value),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:o.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),a.jsx("select",{value:E,onChange:C=>j(C.target.value),className:"w-full rounded border border-gray-200 px-3 py-2 text-sm",children:$j.map(C=>a.jsx("option",{value:C,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Send Invite"}),a.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"})]})]})]})})]})}const Sie=()=>{const t=[{title:"Information We Collect",icon:a.jsx(QH,{className:"w-6 h-6 text-indigo-500"}),content:["Personal information (name, email, contact details)","Payment information (processed securely through our payment providers)","Usage data and analytics","Device and browser information","IP addresses and location data"]},{title:"How We Use Your Information",icon:a.jsx(Pi,{className:"w-6 h-6 text-indigo-500"}),content:["To provide and maintain our services","To process your payments and manage your account","To communicate with you about our services","To improve our services and user experience","To comply with legal obligations"]},{title:"Data Protection",icon:a.jsx(ll,{className:"w-6 h-6 text-indigo-500"}),content:["We implement appropriate security measures to protect your data","Regular security audits and updates","Encryption of sensitive information","Access controls and authentication","Regular backups and disaster recovery"]},{title:"Your Rights",icon:a.jsx(Ro,{className:"w-6 h-6 text-indigo-500"}),content:["Right to access your personal data","Right to correct inaccurate data","Right to request data deletion","Right to data portability","Right to withdraw consent"]},{title:"Cookies and Tracking",icon:a.jsx(Ts,{className:"w-6 h-6 text-indigo-500"}),content:["We use essential cookies for site functionality","Analytics cookies to improve our services","Marketing cookies (with your consent)","You can manage cookie preferences","Third-party cookies and tracking"]},{title:"Data Retention",icon:a.jsx(V1,{className:"w-6 h-6 text-indigo-500"}),content:["We retain data only as long as necessary","Data is securely deleted when no longer needed","Legal requirements for data retention","Backup retention policies","Data archiving procedures"]}];return a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),a.jsxs("p",{className:"text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"prose prose-indigo max-w-none",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"At CredExis Pro, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),a.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.map((e,n)=>a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.icon,a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.title})]}),a.jsx("ul",{className:"space-y-2",children:e.content.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"text-indigo-500",children:"•"}),r]},s))})]},e.title))}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600",children:"If you have any questions about this Privacy Policy, please contact us at:"}),a.jsx("div",{className:"mt-4",children:a.jsxs("p",{className:"text-gray-700",children:["Email: privacy@credexispro.com",a.jsx("br",{}),"Address: 123 Business Street, Suite 100, City, State 12345"]})})]})]})]})},Tie=()=>{const t=[{type:"Essential Cookies",icon:a.jsx(ll,{className:"w-6 h-6 text-green-500"}),description:"Required for the website to function properly. These cookies enable core functionality such as security, network management, and accessibility.",examples:["Authentication cookies","Session management","Security features","Load balancing"]},{type:"Analytics Cookies",icon:a.jsx(ty,{className:"w-6 h-6 text-blue-500"}),description:"Help us understand how visitors interact with our website by collecting and reporting information anonymously.",examples:["Page view tracking","User behavior analysis","Performance monitoring","Error tracking"]},{type:"Marketing Cookies",icon:a.jsx(_r,{className:"w-6 h-6 text-yellow-500"}),description:"Used to track visitors across websites to display relevant advertisements.",examples:["Ad targeting","Social media integration","Marketing campaign tracking","Conversion tracking"]},{type:"Preference Cookies",icon:a.jsx(D1,{className:"w-6 h-6 text-purple-500"}),description:"Enable the website to remember information that changes the way the website behaves or looks.",examples:["Language preferences","Theme settings","Customized content","User preferences"]}];return a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Cookie Policy"}),a.jsxs("p",{className:"text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"prose prose-indigo max-w-none",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"This Cookie Policy explains how CredExis Pro uses cookies and similar technologies to recognize you when you visit our website. It explains what these technologies are and why we use them, as well as your rights to control our use of them."}),a.jsx("div",{className:"space-y-8",children:t.map((e,n)=>a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.icon,a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.type})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Examples:"}),a.jsx("ul",{className:"space-y-2",children:e.examples.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"text-indigo-500",children:"•"}),r]},s))})]})]},e.type))}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Managing Your Cookie Preferences"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You can control and/or delete cookies as you wish. You can delete all cookies that are already on your computer and you can set most browsers to prevent them from being placed."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Browser Settings"}),a.jsx("p",{className:"text-gray-600",children:"Most web browsers allow you to control cookies through their settings preferences. However, limiting cookies may impact your experience using our website."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cookie Consent Tool"}),a.jsx("p",{className:"text-gray-600",children:"We provide a cookie consent tool that allows you to customize your cookie preferences. You can access this tool at any time through the cookie settings link in the footer."})]})]})]}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600",children:"If you have any questions about our Cookie Policy, please contact us at:"}),a.jsx("div",{className:"mt-4",children:a.jsxs("p",{className:"text-gray-700",children:["Email: privacy@credexispro.com",a.jsx("br",{}),"Address: 123 Business Street, Suite 100, City, State 12345"]})})]})]})]})},Cie=()=>{const t=[{title:"Acceptance of Terms",icon:a.jsx(Ts,{className:"w-6 h-6 text-indigo-500"}),content:["By accessing and using CredExis Pro, you agree to be bound by these Terms of Service.","You must be at least 18 years old to use our services.","You are responsible for maintaining the confidentiality of your account.","You agree to provide accurate and complete information.","We reserve the right to modify these terms at any time."]},{title:"User Responsibilities",icon:a.jsx(Ro,{className:"w-6 h-6 text-indigo-500"}),content:["Maintain accurate account information","Protect account credentials","Comply with all applicable laws","Use the service for legitimate purposes","Report any security breaches"]},{title:"Payment Terms",icon:a.jsx(jc,{className:"w-6 h-6 text-indigo-500"}),content:["Subscription fees are billed in advance","Automatic renewal unless cancelled","Refund policy and conditions","Payment method requirements","Tax obligations and responsibilities"]},{title:"Intellectual Property",icon:a.jsx(V1,{className:"w-6 h-6 text-indigo-500"}),content:["All content and materials are protected by copyright","Limited license for personal use","Prohibition of unauthorized copying","Trademark and branding guidelines","User content ownership and licensing"]},{title:"Limitations of Liability",icon:a.jsx(_r,{className:"w-6 h-6 text-indigo-500"}),content:['Service provided "as is" without warranties',"Limitation of damages","Force majeure conditions","Third-party service limitations","Indemnification requirements"]},{title:"Data Protection",icon:a.jsx(ll,{className:"w-6 h-6 text-indigo-500"}),content:["Compliance with data protection laws","Data processing and storage","User data rights and access","Data breach notification","International data transfers"]}];return a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Terms of Service"}),a.jsxs("p",{className:"text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"prose prose-indigo max-w-none",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Please read these Terms of Service carefully before using CredExis Pro. By accessing or using our service, you agree to be bound by these terms. If you disagree with any part of the terms, you may not access the service."}),a.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.map((e,n)=>a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.icon,a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.title})]}),a.jsx("ul",{className:"space-y-2",children:e.content.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"text-indigo-500",children:"•"}),r]},s))})]},e.title))}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Termination"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We may terminate or suspend your account and bar access to the service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of the Terms."}),a.jsx("p",{className:"text-gray-600",children:"If you wish to terminate your account, you may simply discontinue using the service. All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability."})]}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600",children:"If you have any questions about these Terms, please contact us at:"}),a.jsx("div",{className:"mt-4",children:a.jsxs("p",{className:"text-gray-700",children:["Email: legal@credexispro.com",a.jsx("br",{}),"Address: 123 Business Street, Suite 100, City, State 12345"]})})]})]})]})},jie=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState(!1),c=async()=>{try{r(!0),await new Promise(p=>setTimeout(p,2e3));const h={type:"export",status:"completed",date:new Date().toISOString()};e(p=>[h,...p]),Pt.success("Your data export is ready for download")}catch{Pt.error("Failed to export data. Please try again.")}finally{r(!1)}},u=async()=>{try{i(!0),await new Promise(p=>setTimeout(p,2e3));const h={type:"deletion",status:"completed",date:new Date().toISOString()};e(p=>[h,...p]),l(!1),Pt.success("Your account has been deleted")}catch{Pt.error("Failed to delete account. Please try again.")}finally{i(!1)}},d=h=>{switch(h){case"completed":return a.jsx(D1,{className:"w-5 h-5 text-green-500"});case"failed":return a.jsx(_r,{className:"w-5 h-5 text-red-500"});case"processing":return a.jsx(ll,{className:"w-5 h-5 text-blue-500"});default:return a.jsx(_r,{className:"w-5 h-5 text-yellow-500"})}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"GDPR Compliance"}),a.jsx("p",{className:"text-gray-600",children:"Manage your data and privacy rights under GDPR"})]}),a.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-12",children:[a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(pO,{className:"w-6 h-6 text-indigo-500"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Export Your Data"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Download a copy of all your personal data stored in our system. This includes your profile information, activity history, and any other data associated with your account."}),a.jsx("button",{onClick:c,disabled:n,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Exporting...":"Export Data"})]}),a.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(wi,{className:"w-6 h-6 text-red-500"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delete Your Account"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone. Please make sure to export your data before proceeding."}),a.jsx("button",{onClick:()=>l(!0),disabled:s,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Deleting...":"Delete Account"})]})]}),t.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Requests"}),a.jsx("div",{className:"space-y-4",children:t.map((h,p)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[d(h.status),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:h.type==="export"?"Data Export":"Account Deletion"}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(h.date).toLocaleString()})]})]}),a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700",children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})]},p))})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Confirm Account Deletion"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone. All your data will be permanently removed from our systems."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:u,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Deleting...":"Delete Account"})]})]})})]})},kie=()=>{const t=new Date().getFullYear();return a.jsx("footer",{className:"bg-white border-t border-gray-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"CredExis Pro"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Empowering businesses with advanced credit management solutions."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(rt,{to:Xs.DASHBOARD,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Dashboard"})}),a.jsx("li",{children:a.jsx(rt,{to:Xs.CLIENTS,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Clients"})}),a.jsx("li",{children:a.jsx(rt,{to:Xs.TASKS,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Tasks"})}),a.jsx("li",{children:a.jsx(rt,{to:Xs.SETTINGS,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Settings"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(rt,{to:Xs.PRIVACY_POLICY,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(rt,{to:Xs.COOKIE_POLICY,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Cookie Policy"})}),a.jsx("li",{children:a.jsx(rt,{to:Xs.TERMS_OF_SERVICE,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx(rt,{to:Xs.GDPR,className:"text-gray-600 hover:text-indigo-600 text-sm",children:"GDPR Compliance"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{className:"text-gray-600 text-sm",children:"Email: support@credexispro.com"}),a.jsx("li",{className:"text-gray-600 text-sm",children:"Phone: +1 (555) 123-4567"}),a.jsxs("li",{className:"text-gray-600 text-sm",children:["Address: 123 Business Ave, Suite 100",a.jsx("br",{}),"New York, NY 10001"]})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-gray-600 text-sm",children:["© ",t," CredExis Pro. All rights reserved."]}),a.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"Twitter"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"LinkedIn"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]})})]})})},Iie=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState({essential:!0,analytics:!1,marketing:!1});y.useEffect(()=>{localStorage.getItem("cookieConsent")||e(!0)},[]);const o=()=>{const h={essential:!0,analytics:!0,marketing:!0};i(h),u(h),e(!1)},l=()=>{u(s),e(!1)},c=()=>{const h={essential:!0,analytics:!1,marketing:!1};i(h),u(h),e(!1)},u=h=>{localStorage.setItem("cookieConsent",JSON.stringify(h))},d=h=>{h!=="essential"&&i(p=>({...p,[h]:!p[h]}))};return t?a.jsx(wn,{children:t&&a.jsx(ce.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cookie Preferences"}),a.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-500",children:a.jsx(En,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Essential Cookies"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function properly"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",checked:s.essential,disabled:!0,className:"h-4 w-4 text-indigo-600 rounded border-gray-300"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Analytics Cookies"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",checked:s.analytics,onChange:()=>d("analytics"),className:"h-4 w-4 text-indigo-600 rounded border-gray-300"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Marketing Cookies"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Used to track visitors across websites for marketing purposes"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",checked:s.marketing,onChange:()=>d("marketing"),className:"h-4 w-4 text-indigo-600 rounded border-gray-300"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Reject All"}),a.jsx("button",{onClick:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Save Preferences"})]})]}):a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"We use cookies to enhance your experience"}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["By continuing to visit this site you agree to our use of cookies."," ",a.jsx(rt,{to:Xs.COOKIE_POLICY,className:"text-indigo-600 hover:text-indigo-700",children:"Learn more"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[a.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[a.jsx(ty,{className:"w-4 h-4"}),"Customize"]}),a.jsxs("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(hh,{className:"w-4 h-4"}),"Accept All"]})]})]})})})}):null},Aie=()=>a.jsxs("div",{style:{textAlign:"center",marginTop:"50px"},children:[a.jsx("h1",{children:"404 - Page Not Found"}),a.jsx("p",{children:"The page you are looking for does not exist."})]}),u5=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),Pie=({children:t,userData:e})=>{const[n,r]=y.useState(!1),[s,i]=y.useState(!1);return a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"flex flex-1",children:[a.jsx(kne,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(Bre,{onHelpClick:()=>i(!0),onQuickStartClick:()=>r(!0),userData:e}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6 dashboard-main",children:t})]})]}),a.jsx(l7,{isOpen:n,onClose:()=>r(!1)}),a.jsx(c7,{isOpen:s,onClose:()=>i(!1)})]})},tr=({children:t,userData:e})=>{const{isAuthenticated:n,loading:r}=jA(l=>l.auth),[s,i]=y.useState(()=>!localStorage.getItem("welcomeModalShown"));y.useEffect(()=>{e&&!e.hasSeenWelcome&&!localStorage.getItem("welcomeModalShown")&&i(!0)},[e]);const o=async()=>{if(i(!1),localStorage.setItem("welcomeModalShown","true"),e)try{await ou(hr(Le,"users",e.id),{hasSeenWelcome:!0})}catch(l){console.error("Error updating welcome status:",l)}};return r?a.jsx(u5,{}):n?a.jsxs(Pie,{userData:e,children:[a.jsx(u7,{isOpen:s,onClose:o,onComplete:o}),t]}):a.jsx(z3,{to:"/login"})};function Rie(){const t=CA(),e=jA(n=>n.auth.user);return y.useEffect(()=>{const n=Ree(eE,async r=>{if(r){console.log("Current user UID:",r.uid);const s=await IJ(hr(Le,"users",r.uid));if(console.log("User doc exists:",s.exists()),s.exists()){const i=s.data();t(Jse({user:{id:r.uid,email:r.email||"",name:i.name||(i.firstName||"")+" "+(i.lastName||""),role:i.role||"user",emailVerified:r.emailVerified,createdAt:i.createdAt||new Date().toISOString(),updatedAt:i.updatedAt||new Date().toISOString()},token:"firebase",refreshToken:""}))}else t(Fj())}else t(Fj())});return()=>n()},[t]),a.jsx(wie,{children:a.jsx(ure,{children:a.jsx(b$,{children:a.jsxs(y.Suspense,{fallback:a.jsx(u5,{}),children:[a.jsxs(W3,{children:[a.jsx(ht,{path:"/",element:a.jsx(_W,{})}),a.jsx(ht,{path:"/login",element:a.jsx(_ne,{})}),a.jsx(ht,{path:"/signup",element:a.jsx(Ene,{})}),a.jsx(ht,{path:"/forgot-password",element:a.jsx(Sne,{})}),a.jsx(ht,{path:"/reset-password",element:a.jsx(Cne,{})}),a.jsx(ht,{path:"/dashboard",element:a.jsx(tr,{userData:e,children:a.jsx(cre,{})})}),a.jsx(ht,{path:"/why-credexis",element:a.jsx(tr,{userData:e,children:a.jsx(Hre,{})})}),a.jsx(ht,{path:"/clients",element:a.jsx(tr,{userData:e,children:a.jsx(Qre,{})})}),a.jsx(ht,{path:"/disputes",element:a.jsx(tr,{userData:e,children:a.jsx(Jre,{})})}),a.jsx(ht,{path:"/tasks",element:a.jsx(tr,{userData:e,children:a.jsx(aie,{})})}),a.jsx(ht,{path:"/payments",element:a.jsx(tr,{userData:e,children:a.jsx(lie,{})})}),a.jsx(ht,{path:"/documents",element:a.jsx(tr,{userData:e,children:a.jsx(uie,{})})}),a.jsx(ht,{path:"/letter-templates",element:a.jsx(tr,{userData:e,children:a.jsx(die,{})})}),a.jsx(ht,{path:"/marketing",element:a.jsx(tr,{userData:e,children:a.jsx(hie,{})})}),a.jsx(ht,{path:"/credit-tools",element:a.jsx(tr,{userData:e,children:a.jsx(fie,{})})}),a.jsx(ht,{path:"/settings",element:a.jsx(tr,{userData:e,children:a.jsx(yie,{userData:e})})}),a.jsx(ht,{path:"/invoices",element:a.jsx(tr,{userData:e,children:a.jsx(xie,{})})}),a.jsx(ht,{path:"/reports",element:a.jsx(tr,{userData:e,children:a.jsx(vie,{})})}),a.jsx(ht,{path:"/admin",element:a.jsx(Nie,{})}),a.jsx(ht,{path:"/privacy-policy",element:a.jsx(Sie,{})}),a.jsx(ht,{path:"/cookie-policy",element:a.jsx(Tie,{})}),a.jsx(ht,{path:"/terms-of-service",element:a.jsx(Cie,{})}),a.jsx(ht,{path:"/gdpr-compliance",element:a.jsx(jie,{})}),a.jsx(ht,{path:"*",element:a.jsx(Aie,{})})]}),a.jsx(MO,{position:"top-right",toastOptions:{duration:3500}}),a.jsx(Iie,{}),a.jsx(kie,{})]})})})})}const Oie={clients:[],selectedClient:null,loading:!1,error:null},d5=Uy({name:"clients",initialState:Oie,reducers:{setClients:(t,e)=>{t.clients=e.payload},addClient:(t,e)=>{t.clients.push(e.payload)},updateClient:(t,e)=>{const n=t.clients.findIndex(r=>r.id===e.payload.id);n!==-1&&(t.clients[n]=e.payload)},deleteClient:(t,e)=>{t.clients=t.clients.filter(n=>n.id!==e.payload)},setSelectedClient:(t,e)=>{t.selectedClient=e.payload},setLoading:(t,e)=>{t.loading=e.payload},setError:(t,e)=>{t.error=e.payload}}}),{setClients:_ae,addClient:Eae,updateClient:Nae,deleteClient:Sae,setSelectedClient:Tae,setLoading:Cae,setError:jae}=d5.actions,Die=d5.reducer,zj={tasks:[],selectedTask:null,templates:[],loading:!1,error:null,filters:{status:[],priority:[],assignedTo:[]}},wx=lu("tasks/fetchTasks",async t=>{const e=t&&Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():"";return(await vs.get(cu.TASKS.LIST+e,{headers:{"Content-Type":"application/json"}})).data}),Lie=lu("tasks/createTask",async t=>(await vs.post(cu.TASKS.CREATE,t)).data),Mie=lu("tasks/updateTask",async({id:t,task:e})=>(await vs.put(`${cu.TASKS.UPDATE}/${t}`,e)).data),Vie=lu("tasks/deleteTask",async t=>(await vs.delete(`${cu.TASKS.DELETE}/${t}`),t)),Fie=lu("tasks/fetchTemplates",async()=>(await vs.get(cu.TASKS.TEMPLATES)).data),$ie=lu("tasks/createTemplate",async t=>(await vs.post(cu.TASKS.TEMPLATES,t)).data),h5=Uy({name:"tasks",initialState:zj,reducers:{setSelectedTask:(t,e)=>{t.selectedTask=e.payload},clearError:t=>{t.error=null},setFilters:(t,e)=>{t.filters={...t.filters,...e.payload}},clearFilters:t=>{t.filters=zj.filters}},extraReducers:t=>{t.addCase(wx.pending,e=>{e.loading=!0,e.error=null}).addCase(wx.fulfilled,(e,n)=>{e.loading=!1,e.tasks=n.payload}).addCase(wx.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to fetch tasks"}).addCase(Lie.fulfilled,(e,n)=>{e.tasks.push(n.payload)}).addCase(Mie.fulfilled,(e,n)=>{var s;const r=e.tasks.findIndex(i=>i.id===n.payload.id);r!==-1&&(e.tasks[r]=n.payload,((s=e.selectedTask)==null?void 0:s.id)===n.payload.id&&(e.selectedTask=n.payload))}).addCase(Vie.fulfilled,(e,n)=>{var r;e.tasks=e.tasks.filter(s=>s.id!==n.payload),((r=e.selectedTask)==null?void 0:r.id)===n.payload&&(e.selectedTask=null)}).addCase(Fie.fulfilled,(e,n)=>{e.templates=n.payload}).addCase($ie.fulfilled,(e,n)=>{e.templates.push(n.payload)})}}),{setSelectedTask:kae,clearError:Iae,setFilters:Aae,clearFilters:Pae}=h5.actions,Uie=h5.reducer,Bie={theme:"light",language:"en",notifications:!0,loading:!1,error:null},f5=Uy({name:"settings",initialState:Bie,reducers:{updateTheme:(t,e)=>{t.theme=e.payload},updateLanguage:(t,e)=>{t.language=e.payload},updateNotifications:(t,e)=>{t.notifications=e.payload},setLoading:(t,e)=>{t.loading=e.payload},setError:(t,e)=>{t.error=e.payload}}}),{updateTheme:Rae,updateLanguage:Oae,updateNotifications:Dae,setLoading:Lae,setError:Mae}=f5.actions,zie=f5.reducer,Hie=Pse({reducer:{auth:eie,clients:Die,tasks:Uie,settings:zie},middleware:t=>t({serializableCheck:!1})});class Wie extends y.Component{constructor(){super(...arguments);xt(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(UH,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Reload page"})})]})})}):this.props.children}}const je=t=>typeof t=="string",Gu=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},Hj=t=>t==null?"":""+t,qie=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Kie=/###/g,Wj=t=>t&&t.indexOf("###")>-1?t.replace(Kie,"."):t,qj=t=>!t||je(t),Md=(t,e,n)=>{const r=je(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(qj(t))return{};const i=Wj(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return qj(t)?{}:{obj:t,k:Wj(r[s])}},Kj=(t,e,n)=>{const{obj:r,k:s}=Md(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=Md(t,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Md(t,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},Gie=(t,e,n,r)=>{const{obj:s,k:i}=Md(t,e,Object);s[i]=s[i]||[],s[i].push(n)},bg=(t,e)=>{const{obj:n,k:r}=Md(t,e);if(n)return n[r]},Yie=(t,e,n)=>{const r=bg(t,n);return r!==void 0?r:bg(e,n)},p5=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?je(t[r])||t[r]instanceof String||je(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):p5(t[r],e[r],n):t[r]=e[r]);return t},Al=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Qie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Zie=t=>je(t)?t.replace(/[&<>"'\/]/g,e=>Qie[e]):t;class Xie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Jie=[" ",",","?","!",";"],eoe=new Xie(20),toe=(t,e,n)=>{e=e||"",n=n||"";const r=Jie.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=eoe.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},zw=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=n),l+=r[c],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}s=o}return s},_g=t=>t&&t.replace("_","-"),noe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Eg{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||noe,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(je(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Eg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Eg(this.logger,e)}}var ws=new Eg;class By{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l.apply(l,[e,...r])})}}class Gj extends By{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):je(r)&&i?l.push(...r.split(i)):l.push(r)));const c=bg(this.data,l);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),c||!o||!je(r)?c:zw(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),s=n,n=l[1]),this.addNamespaces(n),Kj(this.data,l,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(je(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),s=r,r=n,n=l[1]),this.addNamespaces(n);let c=bg(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?p5(c,r,i):c={...c,...r},Kj(this.data,l,c),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var m5={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const Yj={};class Ng extends By{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),qie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ws.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!toe(e,r,s);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:je(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:je(i)?[i]:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],n),c=l[l.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const k=n.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${k}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${k}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(e,n);let p=h&&h.res;const m=h&&h.usedKey||o,x=h&&h.exactUsedKey||o,w=Object.prototype.toString.apply(p),S=["[object Number]","[object Function]","[object RegExp]"],_=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!je(p)&&typeof p!="boolean"&&typeof p!="number";if(v&&p&&T&&S.indexOf(w)<0&&!(je(_)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=k,h.usedParams=this.getUsedParamsDetails(n),h):k}if(i){const k=Array.isArray(p),P=k?[]:{},O=k?x:m;for(const N in p)if(Object.prototype.hasOwnProperty.call(p,N)){const E=`${O}${i}${N}`;P[N]=this.translate(E,{...n,joinArrays:!1,ns:l}),P[N]===E&&(P[N]=p[N])}p=P}}else if(v&&je(_)&&Array.isArray(p))p=p.join(_),p&&(p=this.extendTranslation(p,e,n,r));else{let k=!1,P=!1;const O=n.count!==void 0&&!je(n.count),N=Ng.hasDefaultValue(n),E=O?this.pluralResolver.getSuffix(u,n.count,n):"",j=n.ordinal&&O?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",R=O&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),D=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${E}`]||n[`defaultValue${j}`]||n.defaultValue;!this.isValidLookup(p)&&N&&(k=!0,p=D),this.isValidLookup(p)||(P=!0,p=o);const I=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&P?void 0:p,te=N&&D!==p&&this.options.updateMissing;if(P||k||te){if(this.logger.log(te?"updateKey":"missingKey",u,c,o,te?D:p),i){const K=this.resolve(o,{...n,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _e=[];const Ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ie&&Ie[0])for(let K=0;K<Ie.length;K++)_e.push(Ie[K]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(n.lng||this.language):_e.push(n.lng||this.language);const Ce=(K,oe,pe)=>{const Me=N&&pe!==p?pe:I;this.options.missingKeyHandler?this.options.missingKeyHandler(K,c,oe,Me,te,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(K,c,oe,Me,te,n),this.emit("missingKey",K,c,oe,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?_e.forEach(K=>{const oe=this.pluralResolver.getSuffixes(K,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(pe=>{Ce([K],o+pe,n[`defaultValue${pe}`]||D)})}):Ce(_e,o,D))}p=this.extendTranslation(p,e,n,h,r),P&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${o}`),(P||k)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,k?p:void 0):p=this.options.parseMissingKeyHandler(p))}return s?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=je(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!je(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,m=new Array(p),x=0;x<p;x++)m[x]=arguments[x];return i&&i[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):o.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=je(l)?[l]:l;return e!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(e=m5.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,l;return je(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!je(n.count),m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),x=n.context!==void 0&&(je(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(S=>{this.isValidLookup(r)||(l=S,!Yj[`${w[0]}-${S}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Yj[`${w[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(_=>{if(this.isValidLookup(r))return;o=_;const v=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,d,_,S,n);else{let k;p&&(k=this.pluralResolver.getSuffix(_,n.count,n));const P=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(v.push(d+k),n.ordinal&&k.indexOf(O)===0&&v.push(d+k.replace(O,this.options.pluralSeparator)),m&&v.push(d+P)),x){const N=`${d}${this.options.contextSeparator}${n.context}`;v.push(N),p&&(v.push(N+k),n.ordinal&&k.indexOf(O)===0&&v.push(N+k.replace(O,this.options.pluralSeparator)),m&&v.push(N+P))}}let T;for(;T=v.pop();)this.isValidLookup(r)||(i=T,r=this.getResource(_,S,T,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!je(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const bx=t=>t.charAt(0).toUpperCase()+t.slice(1);class Qj{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ws.create("languageUtils")}getScriptPartFromCode(e){if(e=_g(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=_g(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(je(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=bx(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=bx(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=bx(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),je(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return je(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):je(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let roe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],soe={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const ioe=["v1","v2","v3"],ooe=["v4"],Zj={zero:0,one:1,two:2,few:3,many:4,other:5},aoe=()=>{const t={};return roe.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:soe[e.fc]}})}),t};class loe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=ws.create("pluralResolver"),(!this.options.compatibilityJSON||ooe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=aoe(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=_g(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,n)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>Zj[s]-Zj[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!ioe.includes(this.options.compatibilityJSON)}}const Xj=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Yie(t,e,n);return!i&&s&&je(n)&&(i=zw(t,n,r),i===void 0&&(i=zw(e,n,r))),i},_x=t=>t.replace(/\$/g,"$$$$");class coe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ws.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:x,nestingSuffixEscaped:w,nestingOptionsSeparator:S,maxReplaces:_,alwaysFormat:v}=e.interpolation;this.escape=n!==void 0?n:Zie,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Al(i):o||"{{",this.suffix=l?Al(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Al(p):m||Al("$t("),this.nestingSuffix=x?Al(x):w||Al(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=_||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const _=Xj(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,r,{...s,...n,interpolationkey:m}):_}const x=m.split(this.formatSeparator),w=x.shift().trim(),S=x.join(this.formatSeparator).trim();return this.format(Xj(n,c,w,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...s,...n,interpolationkey:w})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>_x(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?_x(this.escape(m)):_x(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const x=i[1].trim();if(o=u(x),o===void 0)if(typeof d=="function"){const S=d(e,i,s);o=je(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,x))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),o="";else!je(o)&&!this.useRawValueToEscape&&(o=Hj(o));const w=m.safeValue(o);if(e=e.replace(i[0],w),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,o);const m=p.match(/'/g),x=p.match(/"/g);(m&&m.length%2===0&&!x||x.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,w),`${c}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;s=this.nestingRegexp.exec(e);){let c=[];o={...r},o=o.replace&&!je(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=d.shift(),c=d,u=!0}if(i=n(l.call(this,s[1].trim(),o),o),i&&s[0]===e&&!je(i))return i;je(i)||(i=Hj(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const uoe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Pl=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=e[o];return l||(l=t(_g(r),s),e[o]=l),l(n)}};class doe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ws.create("formatter"),this.options=e,this.formats={number:Pl((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:Pl((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:Pl((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:Pl((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:Pl((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Pl(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:u,formatOptions:d}=uoe(c);if(this.formats[u]){let h=l;try{const p=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},m=p.locale||p.lng||s.locale||s.lng||r;h=this.formats[u](l,m,{...d,...s,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const hoe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class foe extends By{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=ws.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},l={},c={};return e.forEach(u=>{let d=!0;n.forEach(h=>{const p=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),i[p]===void 0&&(i[p]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Gie(c.loaded,[i],o),hoe(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(e,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,n,l)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();je(e)&&(e=this.languageUtils.toResolveHierarchy(e)),je(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,r,s,c):d=u(e,n,r,s),d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}else u(e,n,r,s,l,c)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const Jj=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),je(t[1])&&(e.defaultValue=t[1]),je(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ek=t=>(je(t.ns)&&(t.ns=[t.ns]),je(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),je(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),wp=()=>{},poe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Ah extends By{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ek(e),this.services={},this.logger=ws,this.modules={external:[]},poe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(je(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=Jj();this.options={...s,...this.options,...ek(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ws.init(i(this.modules.logger),this.options):ws.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=doe);const h=new Qj(this.options);this.store=new Gj(this.options.resources,this.options);const p=this.services;p.logger=ws,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new loe(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(p.formatter=i(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new coe(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new foe(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];e.emit(m,...w)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Ng(this.services,this.options),this.translator.on("*",function(m){for(var x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];e.emit(m,...w)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=wp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=Gu(),u=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),r(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wp;const s=je(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const s=Gu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=wp),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&m5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=Gu();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const u=je(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{o(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,r){var s=this;const i=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];c=s.options.overloadTranslationOptionHandler([o,l].concat(d))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const p=s.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(o)?m=o.map(x=>`${c.keyPrefix}${p}${x}`):m=c.keyPrefix?`${c.keyPrefix}${p}${o}`:o,s.t(m,c)};return je(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=Gu();return this.options.ns?(je(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Gu();je(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Qj(Jj());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Ah(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wp;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Ah(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Gj(this.store.data,s),i.services.resourceStore=i.store),i.translator=new Ng(i.services,s),i.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];i.emit(l,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Cn=Ah.createInstance();Cn.createInstance=Ah.createInstance;Cn.createInstance;Cn.dir;Cn.init;Cn.loadResources;Cn.reloadResources;Cn.use;Cn.changeLanguage;Cn.getFixedT;Cn.t;Cn.exists;Cn.setDefaultNamespace;Cn.hasLoadedNamespace;Cn.loadNamespaces;Cn.loadLanguages;const moe="Welcome to CredExis Pro",goe="Professional Credential Management System",yoe="Hello, {{name}}!",xoe={one:"{{count}} item",other:"{{count}} items"},voe="{{date, date}}",woe="{{number, number}}",boe={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",update:"Update",search:"Search",filter:"Filter",sort:"Sort",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous"},_oe={loading:"Loading...",error:"An error occurred",success:"Success",warning:"Warning",info:"Information"},Eoe={required:"{{field}} is required",minLength:"{{field}} must be at least {{min}} characters",maxLength:"{{field}} must be at most {{max}} characters",email:"Please enter a valid email address",password:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character",match:"{{field}} must match {{match}}",unique:"{{field}} must be unique"},Noe={network:"Network error. Please check your connection.",unauthorized:"Please log in to continue.",forbidden:"You do not have permission to perform this action.",notFound:"The requested resource was not found.",server:"An unexpected error occurred. Please try again later.",validation:"Please check your input and try again.",fileTooLarge:"File size exceeds the maximum limit of 5MB.",invalidFileType:"Invalid file type. Please upload a valid file."},Soe={created:"{{item}} created successfully",updated:"{{item}} updated successfully",deleted:"{{item}} deleted successfully",saved:"Changes saved successfully",uploaded:"File uploaded successfully"},Toe={delete:"Are you sure you want to delete this {{item}}?",discard:"Are you sure you want to discard your changes?",logout:"Are you sure you want to log out?"},Coe={showing:"Showing {{from}} to {{to}} of {{total}} items",perPage:"{{count}} per page",nextPage:"Next page",previousPage:"Previous page",firstPage:"First page",lastPage:"Last page"},joe={now:"Just now",minutes:"{{count}} minutes ago",hours:"{{count}} hours ago",days:"{{count}} days ago",weeks:"{{count}} weeks ago",months:"{{count}} months ago",years:"{{count}} years ago"},koe={date:"{{date, date}}",time:"{{time, time}}",datetime:"{{datetime, datetime}}",number:"{{number, number}}",currency:"{{amount, currency}}",percentage:"{{value, percentage}}"},Ioe={newClient:"New Client",newTask:"New Task",viewReports:"View Reports"},Aoe={welcome:moe,description:goe,greeting:yoe,items:xoe,date:voe,number:woe,actions:boe,status:_oe,validation:Eoe,errors:Noe,success:Soe,confirmation:Toe,pagination:Coe,time:joe,format:koe,quickActions:Ioe},Poe={title:"Login",email:"Email",password:"Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",submit:"Sign in",noAccount:"Don't have an account?",signUp:"Sign up"},Roe={title:"Create Account",email:"Email",password:"Password",confirmPassword:"Confirm Password",submit:"Create Account",hasAccount:"Already have an account?",signIn:"Sign in"},Ooe={title:"Forgot Password",email:"Email",submit:"Reset Password",backToLogin:"Back to login"},Doe={title:"Reset Password",newPassword:"New Password",confirmPassword:"Confirm Password",submit:"Reset Password"},Loe={login:Poe,register:Roe,forgotPassword:Ooe,resetPassword:Doe},Moe="Clients",Voe="Add Client",Foe="Edit Client",$oe="Search clients...",Uoe={all:"All",active:"Active",inactive:"Inactive"},Boe={name:"Name",email:"Email",phone:"Phone",status:"Status",actions:"Actions"},zoe={active:"Active",inactive:"Inactive"},Hoe={view:"View",edit:"Edit",delete:"Delete"},Woe={name:"Name",email:"Email",phone:"Phone",address:"Address",notes:"Notes",submit:"Save",cancel:"Cancel"},qoe={title:Moe,addClient:Voe,editClient:Foe,search:$oe,filters:Uoe,table:Boe,status:zoe,actions:Hoe,form:Woe},Koe="Tasks",Goe="Add Task",Yoe="Edit Task",Qoe="Search tasks...",Zoe={all:"All",todo:"To Do",in_progress:"In Progress",review:"Review",completed:"Completed",blocked:"Blocked"},Xoe={title:"Title",status:"Status",priority:"Priority",dueDate:"Due Date",assignee:"Assignee",actions:"Actions"},Joe={low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},eae={todo:"To Do",in_progress:"In Progress",review:"Review",completed:"Completed",blocked:"Blocked"},tae={title:"Title",description:"Description",status:"Status",priority:"Priority",dueDate:"Due Date",assignee:"Assignee",category:"Category",notes:"Notes",submit:"Save",cancel:"Cancel"},nae={title:Koe,addTask:Goe,editTask:Yoe,search:Qoe,filters:Zoe,table:Xoe,priority:Joe,status:eae,form:tae},rae={en:{common:Aoe,auth:Loe,clients:qoe,tasks:nae}};Cn.use(Yne).init({resources:rae,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},defaultNS:"common",ns:["common","auth","clients","tasks"]});Ex.createRoot(document.getElementById("root")).render(a.jsx(ee.StrictMode,{children:a.jsx(EV,{store:Hie,children:a.jsx(J3,{children:a.jsxs(Wie,{children:[a.jsx(Rie,{}),a.jsx(MO,{position:"top-right",toastOptions:{duration:3500}})]})})})}));
